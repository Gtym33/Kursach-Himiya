THIS_white_peace_PREV_buffer = {
	if = {
		limit = {
			OR = {
				AND = {
					tag = RUS
					PREV = {
						OR = {
							tag = AZR
							tag = PRM
							tag = UKR
							tag = KAZ
							tag = SIB
							tag = AMR
							tag = BKL
							tag = RGR
							tag = KHI
							has_subject = AZR
							has_subject = UKR
							has_subject = PRM
							has_subject = KAZ
							has_subject = SIB
							has_subject = AMR
							has_subject = BKL
							has_subject = RGR
							has_subject = KHI
						}
					}
				}
			}
		}
		white_peace = PREV
		else = {
			PREV = { white_peace = PREV }
		}
	}
}

Central_Powers_capitulation_Caucasus_states = {
	hidden_effect = {
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = KRS tag = TUR tag = AZR tag = GEO tag = ARM tag = PER tag = PER tag = CHC tag = DAG tag = MRC }
				}
				is_core_of = AZR
				NOT = { is_core_of = ROOT }
			}
			AZR = { transfer_state = PREV }
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = KRS tag = TUR tag = AZR tag = GEO tag = ARM tag = PER tag = PER tag = CHC tag = DAG tag = MRC }
				}
				is_core_of = GEO
				NOT = { is_core_of = ROOT }
			}
			GEO = { transfer_state = PREV }
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = KRS tag = TUR tag = AZR tag = GEO tag = ARM tag = PER tag = PER tag = CHC tag = DAG tag = MRC }
				}
				is_core_of = ARM
				NOT = { is_core_of = ROOT }
			}
			ARM = { transfer_state = PREV }
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = KRS tag = TUR tag = AZR tag = GEO tag = ARM tag = PER tag = PER tag = CHC tag = DAG tag = MRC }
				}
				is_core_of = PER
				NOT = { is_core_of = ROOT }
			}
			PER = { transfer_state = PREV }
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = KRS tag = TUR tag = AZR tag = GEO tag = ARM tag = PER tag = PER tag = CHC tag = DAG tag = MRC }
				}
				is_core_of = CHC
				NOT = { is_core_of = ROOT }
			}
			CHC = { transfer_state = PREV }
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = KRS tag = TUR tag = AZR tag = GEO tag = ARM tag = PER tag = PER tag = CHC tag = DAG tag = MRC }
				}
				is_core_of = DAG
				NOT = { is_core_of = ROOT }
			}
			DAG = { transfer_state = PREV }
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = KRS tag = TUR tag = AZR tag = GEO tag = ARM tag = PER tag = PER tag = CHC tag = DAG tag = MRC }
				}
				region = 134
				NOT = { is_core_of = ROOT }
			}
			MRC = { transfer_state = PREV }
		}
	}
}

Central_Powers_capitulation_TRK_FER_states = {
	hidden_effect = {
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = TAN }
				}
				is_core_of = TAN
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = TAN
		}
		
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = BYA tag = BLK tag = AMR tag = PRM tag = ZKL }
				}
				is_core_of = BYA
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = BYA
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = BYA tag = BLK tag = AMR tag = PRM tag = ZKL }
				}
				is_core_of = BLK
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = BLK
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = BYA tag = BLK tag = AMR tag = PRM tag = ZKL }
				}
				is_core_of = AMR
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = AMR
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = BYA tag = BLK tag = AMR tag = PRM tag = ZKL }
				}
				is_core_of = PRM
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = PRM
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = BYA tag = BLK tag = AMR tag = PRM tag = ZKL }
				}
				is_core_of = ZKL
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = ZKL
		}
		
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = CKK tag = KRK tag = EVN tag = EVE tag = YAK tag = TAY }
				}
				is_core_of = CKK
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = CKK
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = CKK tag = KRK tag = EVN tag = EVE tag = YAK tag = TAY }
				}
				is_core_of = KRK
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = KRK
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = CKK tag = KRK tag = EVN tag = EVE tag = YAK tag = TAY }
				}
				is_core_of = EVN
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = EVN
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = CKK tag = KRK tag = EVN tag = EVE tag = YAK tag = TAY }
				}
				is_core_of = EVE
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = EVE
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = CKK tag = KRK tag = EVN tag = EVE tag = YAK tag = TAY }
				}
				is_core_of = YAK
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = YAK
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = CKK tag = KRK tag = EVN tag = EVE tag = YAK tag = TAY }
				}
				is_core_of = TAY
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = TAY
		}
		
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = ALT }
				}
				is_core_of = ALT
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = ALT
		}
		
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = KHA }
				}
				is_core_of = KHA
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = KHA
		}
		
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = TRK tag = BUK tag = KHI tag = SCH tag = SIB tag = KAZ }
				}
				is_core_of = TRK
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = TRK
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = TRK tag = BUK tag = KHI tag = SCH tag = SIB tag = KAZ }
				}
				is_core_of = BUK
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = BUK
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = TRK tag = BUK tag = KHI tag = SCH tag = SIB tag = KAZ }
				}
				is_core_of = KHI
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = KHI
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = TRK tag = BUK tag = KHI tag = SCH tag = SIB tag = KAZ }
				}
				is_core_of = SCH
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = SCH
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = TRK tag = BUK tag = KHI tag = SCH tag = SIB tag = KAZ }
				}
				is_core_of = SIB
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = SIB
		}
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = TRK tag = BUK tag = KHI tag = SCH tag = SIB tag = KAZ }
				}
				is_core_of = KAZ
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = KAZ
		}
		if = {
			limit = { owns_state = 1354 }
			555 = { OWNER = { transfer_state = 1354 } }
		}
	}
}

Central_Powers_capitulation_UKR_BLR_states = {
	hidden_effect = {
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = LIT tag = LAT tag = EST tag = BLR tag = POL tag = UKR tag = UBD }
				}
				is_core_of = BLR
				NOT = { is_core_of = ROOT }
			}
			if = {
				limit = { BLR = { is_subject = yes NOT = { is_subject_of = ROOT } } }
				BLR = { OVERLORD = { transfer_state = PREV.PREV } }
			}
			else_if = {
				limit = { country_exists = BLR }
				transfer_state_to = BLR
			}
			else = {
				206 = { CONTROLLER = { transfer_state = PREV.PREV } }
			}
		}
		every_owned_state = {
			limit = {
				OR = {
					region = 130
					region = 302
					region = 303
					AND = {
						OR = {
							region = 39
							region = 131
							region = 306
							region = 310
						}
						OR = {
							is_core_of = UKR
							is_claimed_by = UKR
						}
					}
				}
				NOT = { is_core_of = ROOT }
			}
			if = {
				limit = { UKR = { is_subject = yes NOT = { is_subject_of = ROOT } } }
				UKR = { OVERLORD = { transfer_state = PREV.PREV } }
			}
			else_if = {
				limit = { country_exists = UKR }
				transfer_state_to = UKR
			}
			else = {
				202 = { CONTROLLER = { transfer_state = PREV.PREV } }
			}
		}
		if = {
			limit = { owns_state = 240 }
			221 = { OWNER = { transfer_state = 240 } }
		}
		every_owned_state = {
			limit = {
				region = 300
				is_core_of = CRI
				NOT = { is_core_of = ROOT }
			}
			if = {
				limit = { CRI = { is_subject = yes NOT = { is_subject_of = ROOT } } }
				CRI = { OVERLORD = { transfer_state = PREV.PREV } }
			}
			else_if = {
				limit = { country_exists = CRI }
				transfer_state_to = CRI
			}
			else = {
				919 = { CONTROLLER = { transfer_state = PREV.PREV } }
			}
		}
		if = {
			limit = {
				OR = {
					owns_state = 195
					owns_state = 219
				}
			}
			every_owned_state = {
				limit = {
					NOT = { is_core_of = ROOT }
					is_core_of = RUS
					NOT = { region = 134 region = 135 }
				}
				add_core_of = MCW
				transfer_state_to = MCW
			}
		}
	}
}