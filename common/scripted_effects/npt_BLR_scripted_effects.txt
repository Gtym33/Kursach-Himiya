#Faction System

BLR_reshenie_1_effect = {
	custom_effect_tooltip = BLR_resh_tt
	custom_effect_tooltip = BLR_resh_decrease_tt
	add_to_variable = { BLR_skochko = BLR_roman_ochko }
	clamp_variable = {
		var = BLR_zveno_loyalty
		var = BLR_skochko
		min = 0
		max = 100
	}
}
BLR_reshenie_2_effect = {
	custom_effect_tooltip = BLR_reshIO_tt
	custom_effect_tooltip = BLR_reshIO_decrease_tt
	add_to_variable = { BLR_vorochko = BLR_iosif_ochko }
	clamp_variable = {
		var = BLR_zveno_popularity
		var = BLR_vorochko
		min = 0
		max = 100
	}
}

BLR_reshenie_3_effect = {
	custom_effect_tooltip = BLR_reshIOS_tt
	custom_effect_tooltip = BLR_reshIOS_decrease_tt
	add_to_variable = { BLR_vorochko = BLR_iosif_ochkoo }
	clamp_variable = {
		min = 0
		max = 100
	}
}
BLR_set_buz_faction_values = {
	set_country_flag = BLR_factions_unlocked_flag
	set_temp_variable = { BLR_skochko = 1 }
    set_temp_variable = { BLR_roman_ochko = 1 }
	set_temp_variable = { BLR_iosif_ochko = -1 }
	set_temp_variable = { BLR_vorochko = 1 }
    set_temp_variable = { BLR_iosif_ochkoo = 1 }
}



BLR_poluchenie_1_mest_myas = {
	custom_effect_tooltip = BLR_1_mest_v_prav_myas_tt
	add_to_variable = { BLR_mest_v_prav_myas = BLR_1_mest_v_prav_myas }
	clamp_variable = {
		var = BLR_mest_v_prav_myas
		min = 0
		max = 100
	}
}

BLR_poluchenie_1_mest_shil = {
	custom_effect_tooltip = BLR_1_mest_v_prav_shil_tt
	add_to_variable = { BLR_mest_v_prav_shil = BLR_1_mest_v_prav_shil }
	clamp_variable = {
		var = BLR_mest_v_prav_shil
		min = 0
		max = 100
	}
}
BLR_poluchenie_-1_mest_myas = {
	add_to_variable = { BLR_mest_v_prav_myas = BLR_-1_mest_v_prav_myas }
	clamp_variable = {
		var = BLR_mest_v_prav_myas
		min = 0
		max = 100
	}
}

BLR_poluchenie_-1_mest_shil = {
	add_to_variable = { BLR_mest_v_prav_shil = BLR_-1_mest_v_prav_shil }
	clamp_variable = {
		var = BLR_mest_v_prav_shil
		min = 0
		max = 100
	}
}

BLR_set_mest_v_prav = {
	set_temp_variable = { BLR_1_mest_v_prav_myas = 1 }
    set_temp_variable = { BLR_1_mest_v_prav_shil = 1 }
	set_temp_variable = { BLR_-1_mest_v_prav_myas = -1 }
    set_temp_variable = { BLR_-1_mest_v_prav_shil = -1 }
}

BLR_crizis_prav_fall = {
	if = {
		limit = { has_idea = BLR_krizis_upr }
		hidden_effect = {
			remove_ideas = BLR_krizis_upr_1
			remove_ideas = BLR_krizis_upr_2
			remove_ideas = BLR_krizis_upr_3
			remove_ideas = BLR_krizis_upr_4
		}
		swap_ideas = {
			remove_idea = BLR_krizis_upr
			add_idea = BLR_krizis_upr_1
		}
	}
	else_if = {
		limit = { has_idea = BLR_krizis_upr_1 }
		hidden_effect = {
			remove_ideas = BLR_krizis_upr_2
			remove_ideas = BLR_krizis_upr_3
			remove_ideas = BLR_krizis_upr_4
		}
		swap_ideas = {
			remove_idea = BLR_krizis_upr_1
			add_idea = BLR_krizis_upr_2
		}
	}
	else_if = {
		limit = { has_idea = BLR_krizis_upr_2 }
		hidden_effect = {
			remove_ideas = BLR_krizis_upr_3
			remove_ideas = BLR_krizis_upr_4
		}
		swap_ideas = {
			remove_idea = BLR_krizis_upr_2
			add_idea = BLR_krizis_upr_3
		}
	}
	else_if = {
		limit = { has_idea = BLR_krizis_upr_3 }
		hidden_effect = {
			remove_ideas = BLR_krizis_upr_4
		}
		swap_ideas = {
			remove_idea = BLR_krizis_upr_3
			add_idea = BLR_krizis_upr_4
		}
	}
	else_if = {
		limit = { has_idea = BLR_krizis_upr_4 }
		remove_ideas = BLR_krizis_upr_4
	}
}

BLR_crizis_prav_rise = {
	if = {
		limit = { has_idea = BLR_krizis_upr_1 }
		swap_ideas = {
			remove_idea = BLR_krizis_upr_1
			add_idea = BLR_krizis_upr
		}
	}
	else_if = {
		limit = { has_idea = BLR_krizis_upr_2 }
		swap_ideas = {
			remove_idea = BLR_krizis_upr_2
			add_idea = BLR_krizis_upr_1
		}
	}
	else_if = {
		limit = { has_idea = BLR_krizis_upr_3 }
		swap_ideas = {
			remove_idea = BLR_krizis_upr_3
			add_idea = BLR_krizis_upr_2
		}
	}
	else_if = {
		limit = { has_idea = BLR_krizis_upr_4 }
		swap_ideas = {
			remove_idea = BLR_krizis_upr_4
			add_idea = BLR_krizis_upr_3
		}
	}
}