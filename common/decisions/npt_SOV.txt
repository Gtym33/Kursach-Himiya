
SOV_VChK_desisions = {

	abolish_death_penalty_moratorium = {

		icon = generic_army_support

		available = {
			has_country_flag = death_penalty_moratorium
		}
		visible = {
			has_country_flag = death_penalty_moratorium
		}
		cost = 25
		fire_only_once = yes
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { has_country_flag = Moisey_Uritskiy_dead }
				NOT = { has_country_flag = Vladimir_Lenin_dead }
				NOT = { has_country_flag = Vladimir_Lenin_hurt }
				date < 1919.1.1
				surrender_progress < 0.5
			}
		}
		complete_effect = {
			clr_country_flag = death_penalty_moratorium
			if = {
				limit = {
					NOT = { has_country_flag = Moisey_Uritskiy_dead }
					NOT = { has_country_flag = Vladimir_Lenin_dead }
					NOT = { has_country_flag = Vladimir_Lenin_hurt }
					date < 1919.1.1
					surrender_progress < 0.5
				}
				add_popularity = {
					ideology = communism
					popularity = -0.07
				}
				add_to_variable = { decist_faction_party_compositon = 0.1 }
				custom_effect_tooltip = decist_fact_party_comp_plus_10
				check_overlap_of_party_composition = yes
			}
			else = {
				add_popularity = {
					ideology = communism
					popularity = -0.02
				}
				add_to_variable = { decist_faction_party_compositon = 0.05 }
				add_to_variable = { moderate_faction_party_compositon = 0.05 }
				custom_effect_tooltip = decist_fact_party_comp_plus_5
				custom_effect_tooltip = moderate_fact_party_comp_plus_5
				check_overlap_of_party_composition = yes
			}
		}
	}
	
	VChK_appoint_Felix_Dzerjinsky_as_field_marshal = {

		icon = generic_army_support

		available = {
			has_war = yes
			has_country_flag = RUS_can_enlarge_VCHK
		}
		visible = {
			NOT = { has_country_flag = Felix_Dzerjinsky_dead }
			has_idea = Felix_Dzerjinsky_5
			has_war = yes
		}
		cost = 50
		fire_only_once = yes
		complete_effect = {
			create_field_marshal = {
				name = "Felix Dzerjinsky"
				id = 77431
				portrait_path = "gfx/leaders/SOV/Portrait_Felix_Dzerjinsky.dds"
				traits = { politically_connected }
				skill = 1
				attack_skill = 1
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 1
			}
			add_to_variable = { decist_faction_party_compositon = 0.05 }
			custom_effect_tooltip = decist_fact_party_comp_plus_5
			check_overlap_of_party_composition = yes
		}
	}
	
	replace_FED_by_Radec = {

		icon = generic_army_support

		visible = {
			has_idea = Felix_Dzerjinsky_5
			has_country_flag = Felix_Dzerjinsky_in_office_forever
		}
		cost = 100
		fire_only_once = yes
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			if = {
				limit = { NOT = { has_country_flag = Karl_Radek_dead } }
				swap_ideas = {
					remove_idea = Felix_Dzerjinsky_5
					add_idea = Karl_Radek_5
				}
				else = {
					remove_ideas = Felix_Dzerjinsky_5
				}
			}
			clr_country_flag = Felix_Dzerjinsky_in_office_forever
		}
	}
	
	forgive_FED = {

		icon = generic_army_support

		visible = {
			NOT = { has_idea = Felix_Dzerjinsky_3 }
			OR = {
				NOT = { has_idea = Felix_Dzerjinsky_4 }
				NOT = { has_idea = Felix_Dzerjinsky_5 }
			}
			has_country_flag = RUS_left_SR_revolt_suppose
			has_country_flag = Felix_Dzerjinsky_in_office_forever
		}
		cost = 5
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			add_ideas = Felix_Dzerjinsky_4
			add_ideas = Felix_Dzerjinsky_5
		}
	}
	
	redistribute_jews_and_latvians = {

		icon = generic_army_support

		available = {
				NOT = { has_idea = Martyn_Latsis_4 }
				NOT = { has_idea = Yakov_Peters_4 }
				NOT = { has_idea = Martyn_Latsis_5 }
				NOT = { has_idea = Yakov_Peters_5 }
		}
		visible = {
			has_idea = RUS_jews_and_latvians
		}
		cost = 10
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			remove_ideas = RUS_jews_and_latvians
		}
	}
	
	destroy_black_guard = {

		icon = generic_army_support

		available = {
			has_completed_focus = RUS_vchk
		}
		visible = {
			NOT = { has_government = radical_socialism }
			NOT = { has_country_flag = black_guard_destroyed }
			NOT = { has_country_flag = RUS_left_SR_rise_in_progress }
		}
		cost = 50
		days_remove = 10
		fire_only_once = yes
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				radical_socialism < 0.1
			}
		}
		complete_effect = {}
		remove_effect = {
			add_stability = 0.05
			add_popularity = {
				ideology = radical_socialism
				popularity = -0.1
			}
			set_country_flag = black_guard_destroyed
		}
	}
	
	blow_up_the_Cathedral_of_Christ_the_Savior = {
		available = {
			owns_state = 219
			has_full_control_of_state = 219
		}
		visible = {
			has_country_flag = RUS_secularization
			219 = { NOT = { has_state_flag = the_Cathedral_of_Christ_the_Savior_was_blown_up } }
		}
		cost = 100
		days_remove = 5
		complete_effect = {
			219 = {
				damage_building = {
					type = infrastructure
					damage = 0.3
				}
			}
		}
		remove_effect = {
			add_political_power = 150
			hidden_effect = { 219 = { set_state_flag = the_Cathedral_of_Christ_the_Savior_was_blown_up } }
			#goto_province = 6380
			#hidden_effect = {
			#	launch_nuke = {
			#		province = 6380
			#		state = 219
			#		controller = ROOT
			#		use_nuke = no
			#	}
			#}
		}
		ai_will_do = {
			factor = 500
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				NOT = { has_country_flag = AI_will_build_Palace_of_the_Soviets }
			}
		}
	}
	
	move_Nik_to_Moskow_for_court = {

		icon = generic_army_support

		visible = {
			NOT = { has_country_flag = Nikolay_Alexandrovich_Romanov_Tobolsk }
			NOT = { has_country_flag = Nikolay_Alexandrovich_Romanov_Ekat }
			NOT = { has_country_flag = Nikolay_Alexandrovich_Romanov_dead }
			NOT = { any_other_country = { has_country_flag = Nikolay_Alexandrovich_Romanov_rescue } }
			NOT = { any_other_country = { has_country_flag = Nikolay_Alexandrovich_Romanov_is_here } }
			NOT = { has_country_flag = Mikhail_Alexandrovich_Romanov_Perm }
			OR = {
				has_country_flag = Mikhail_Alexandrovich_Romanov_dead
				any_other_country = { has_country_flag = Mikhail_Alexandrovich_Romanov_rescue }
				any_other_country = { has_country_flag = Mikhail_Alexandrovich_Romanov_is_here }
			}
		}
		available = {
		}
		cost = 5
		days_remove = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			country_event = { id = rcw_sor.31 }
		}
	}
}


foreign_politics = {
	sovietization_of_separatists = {
		targets= { CRI DON KUB TCH ACH KAL MRC DAG CHC CIR ABK OSE NOA KBK BLK CBR ISH GEO ARM AZR BAK YAR VRN ING KAR KOM NEN OVO YAM TAY VGE BSK TAT CHU MEL UDM TKR MRD  UZB TMS TAJ KYR KKP CPG BUK KHI KOK KAZ TRK ALT KHA TAN YAK CKK VLA KMC KRK ZKL EVK EVN BYA PRM AMR } # BLR UKR DNB ODS USR GRG
		icon = generic_prepare_civil_war
		target_trigger = {
			FROM = { exists = yes is_subject = no NOT = { has_war_with = ROOT is_in_faction_with = ROOT is_subject_of = ROOT has_government = radical_socialism has_government = communism } }
		}
		target_root_trigger = {
			tag = RSR
			OR = {
				NOT = { has_country_flag = RUS_has_czechoslovak_legion }
				has_country_flag = RUS_red_czechoslovak_legion
				has_country_flag = RUS_has_formed_czechoslovak_legion
			}
			NOT = {
				has_idea = RUS_weak_state_suppression_apparatus
				has_idea = RUS_weak_state_suppression_apparatus_1
				has_idea = RUS_weak_state_suppression_apparatus_2
			}
		}
		visible = {
			FROM = {
				exists = yes
				NOT = { any_neighbor_country = { has_war_with = FROM } }
				NOT = { any_neighbor_country = { has_war_with = ROOT } }
				any_neighbor_country = { OR = { tag = ROOT is_subject_of = ROOT is_in_faction_with = ROOT } }
			}
		}
		allowed = {
			OR = {
				original_tag = RUS
				original_tag = SOV
			}
		}
		available = {
			FROM = {
				exists = yes
				NOT = { any_neighbor_country = { has_war_with = FROM } }
				NOT = { any_neighbor_country = { has_war_with = ROOT } }
				any_neighbor_country = { OR = { tag = ROOT is_subject_of = ROOT is_in_faction_with = ROOT } }
			}
			custom_trigger_tooltip = {
				tooltip = percent_right_faction_CC_less_30
				check_variable = { percent_right_faction_CC < 0.3 }
			}
			if = {
				limit = {
					FROM = {
						OR = {
							tag = UZB
							tag = TMS
							tag = TAJ
							tag = KYR
							tag = KKP
							tag = CPG
							tag = BUK
							tag = KHI
							tag = KOK
							tag = KAZ
							tag = TRK
							tag = ALT
							tag = KHA
							tag = TAN
							tag = YAK
							tag = CKK
							tag = VLA
							tag = KMC
							tag = KRK
							tag = ZKL
							tag = EVK
							tag = EVN
							tag = BYA
							tag = PRM
							tag = AMR
						}
					}
				}
				if = {
					limit = { VLG = { exists = yes } }
					VLG = { OR = { exists = no has_capitulated = yes is_in_faction_with = ROOT is_subject_of = ROOT has_government = radical_socialism has_government = communism } }
				}
				if = {
					limit = { UCH = { exists = yes } }
					UCH = { OR = { exists = no has_capitulated = yes is_in_faction_with = ROOT is_subject_of = ROOT has_government = radical_socialism has_government = communism } }
				}
				if = {
					limit = { OCH = { exists = yes } }
					OCH = { OR = { exists = no has_capitulated = yes is_in_faction_with = ROOT is_subject_of = ROOT has_government = radical_socialism has_government = communism } }
				}
				if = {
					limit = { URL = { exists = yes } }
					URL = { OR = { exists = no has_capitulated = yes is_in_faction_with = ROOT is_subject_of = ROOT has_government = radical_socialism has_government = communism } }
				}
				if = {
					limit = { IZH = { exists = yes } }
					IZH = { OR = { exists = no has_capitulated = yes is_in_faction_with = ROOT is_subject_of = ROOT has_government = radical_socialism has_government = communism } }
				}
				if = {
					limit = { SIB = { exists = yes } }
					SIB = { OR = { exists = no has_capitulated = yes is_in_faction_with = ROOT is_subject_of = ROOT has_government = radical_socialism has_government = communism } }
				}
				if = {
					limit = { CCA = { exists = yes } }
					CCA = { OR = { exists = no has_capitulated = yes is_in_faction_with = ROOT is_subject_of = ROOT has_government = radical_socialism has_government = communism } }
				}
				if = {
					limit = { RSS = { exists = yes } }
					RSS = { OR = { exists = no has_capitulated = yes is_in_faction_with = ROOT is_subject_of = ROOT has_government = radical_socialism has_government = communism } }
				}
			}
		}

		cost = 30
		ai_will_do = {
			factor = 500
		}
		days_remove = 20
		fire_only_once = yes
		war_with_target_on_remove = yes

		remove_effect = {
			declare_war_on = { target = FROM type = annex_everything }
		}
		complete_effect = {
		}
	}
	sovietization_of_Primorye = {

		icon = generic_prepare_civil_war

		allowed = {
			OR = {
				original_tag = RUS
				original_tag = SOV
			}
		}
		available = {
			PRM = { communism > 0.25 }
			custom_trigger_tooltip = {
				tooltip = percent_right_faction_CC_less_50
				check_variable = { percent_right_faction_CC < 0.5 }
			}
		}
		visible = {
			tag = RSR
			PRM = {
				exists = yes
				NOT = { is_in_faction_with = ROOT }
				is_puppet = no
				NOT = {
					has_government = radical_socialism
					has_government = communism
				}
			}
		}

		cost = 10
		ai_will_do = {
			factor = 500
		}
		days_remove = 10
		fire_only_once = yes
		war_with_on_remove = PRM

		remove_effect = {
			country_event = rcw_amrprm.108
			PRM = { set_country_flag = PRM_Bolshevistsky_perevorot_fired }
		}
		complete_effect = {
			every_unit_leader = { limit = { has_id = 19189 } set_nationality = PRM } #Sergey Lazo
		}
	}
	sovietization_of_Mongolia = {

		icon = generic_prepare_civil_war

		allowed = {
			OR = {
				original_tag = RUS
				original_tag = SOV
			}
		}
		available = {
			NOT = {
				has_idea = RUS_weak_state_suppression_apparatus
				has_idea = RUS_weak_state_suppression_apparatus_1
				has_idea = RUS_weak_state_suppression_apparatus_2
			}
			is_neighbor_of = MON
			custom_trigger_tooltip = {
				tooltip = percent_right_faction_CC_less_30
				check_variable = { percent_right_faction_CC < 0.3 }
			}
			OR = {
				controls_state = 329
				controls_state = 564
				MON = { exists = no }
				MON = { has_capitulated = yes }
			}
		}
		visible = {
			tag = RSR
			MON = {
				exists = yes
				NOT = { is_in_faction_with = ROOT }
				NOT = { has_war_with = ROOT }
				NOT = {
					has_government = radical_socialism
					has_government = communism
				}
				has_country_leader = { name = "Roman Fedorovich von Ungern-Sternberg" ruling_only = yes }
			}
		}

		cost = 30
		ai_will_do = {
			factor = 500
		}
		days_remove = 20
		fire_only_once = yes
		war_with_on_remove = MON

		remove_effect = {
			declare_war_on = { target = MON type = annex_everything }
		}
		complete_effect = {
			if = {
				limit = {
					MON = { has_army_size = { size < 1 } }
				}
				annex_country = {
					target = MON
					transfer_troops = no
				}
			}
		}
	}
	break_the_peace_with_Makhno = {

		icon = generic_prepare_civil_war

		allowed = {
			OR = {
				original_tag = RUS
				original_tag = SOV
			}
		}
		available = {
		}
		visible = {
			tag = RSR
			NOT = { has_government = radical_socialism }
			FRT = {
				exists = yes
				is_subject = no
				is_neighbor_of = ROOT
				NOT = { has_government = communism }
			}
		}

		cost = 50
		ai_will_do = {
			factor = 0
			modifier = {
				factor = 20
				FRT = { NOT = { is_puppet_of = ROOT is_in_faction_with = ROOT } }
				has_war = no
			}
		}
		days_remove = 50
		fire_only_once = yes

		remove_effect = {
			FRT = { country_event = { id = rcw_free_territory.30 days = 1 } }
		}
		complete_effect = {
		}
	}
	break_the_peace_with_CCA = {

		icon = generic_prepare_civil_war

		allowed = {
			OR = {
				original_tag = RUS
				original_tag = SOV
			}
		}
		available = {
		}
		visible = {
			tag = RSR
			NOT = { has_war_with = GER }
			CCA = {
				exists = yes
				NOT = { has_war_with = RUS }
				NOT = { has_war_with = GER }
			}
			has_completed_focus = RUS_revolutionary_war
		}

		cost = 25
		ai_will_do = {
			factor = 100
		}
		days_remove = 5
		fire_only_once = yes

		remove_effect = {
			declare_war_on = {
				target = CCA
				type = annex_everything
			}
		}
		complete_effect = {}
	} 
	#create_fer = {
	#
	#	icon = generic_political_discourse
	#	
	#	allowed = {
	#		OR = {
	#			original_tag = RUS
	#			original_tag = SOV
	#		}
	#	}
	#	available = {
	#		NOT = {
	#			has_idea = RUS_weak_state_suppression_apparatus
	#			has_idea = RUS_weak_state_suppression_apparatus_1
	#			has_idea = RUS_weak_state_suppression_apparatus_2
	#		}
	#		has_war = yes
	#		NOT = { has_war_with = JAP }
	#		OR = {
	#			country_exists = BKL
	#			country_exists = PRM
	#		}
	#		PRM = { NOT= { has_government = communism } }
	#		has_full_control_of_state = 564
	#	}
	#	
	#	visible = {
	#		tag = RSR
	#		JAP = {
	#			NOT = {
	#				has_government = communism
	#				has_government = radical_socialism
	#			}
	#		}
	#		OR = {
	#			country_exists = BKL
	#			country_exists = PRM
	#		}
	#	}
	#	
	#	cost = 25
	#	
	#	ai_will_do = {
	#		factor = 500
	#		modifier = {
	#			factor = 0
	#			date < 1813.01.01
	#		}
	#	}
	#	
	#	complete_effect = {
	#		FER = {
	#			transfer_state = 564
	#			create_country_leader = { name = "Alexandr Krasnoshchyokov" desc = "" picture = "gfx/leaders/SOV/Portrait_Alexandr_Krasnoshchyokov.dds" expire = "1935.1.1" ideology = leninism  traits = {  } }
	#		}
	#		ROOT = {
	#			if = {
	#				limit = { has_dlc = "Together for Victory" }
	#				set_autonomy = { target = FER autonomy_state = autonomy_integrated_puppet }
	#				else = { puppet = FER }
	#			}
	#		}
	#		every_state = {
	#			limit = {
	#				OR = {
	#					state = 564
	#					state = 563
	#					state = 1187
	#					state = 561
	#					state = 560
	#					state = 409
	#					state = 408
	#					state = 562
	#					state = 875
	#					state = 637
	#					state = 655
	#				}
	#			}
	#			add_core_of = FER
	#		}
	#		every_state = {
	#			limit = {
	#				is_controlled_by = ROOT
	#				is_core_of = FER
	#			}
	#			FER = { transfer_state = PREV }
	#		}
	#	}
	#}
	
	#annex_fer = {
	#
	#	icon = generic_political_discourse
	#
	#	allowed = {
	#		OR = {
	#			original_tag = RUS
	#			original_tag = SOV
	#		}
	#	}
	#	available = {
	#		has_war = no
	#		FER = {
	#			is_puppet_of = ROOT
	#		}
	#		custom_trigger_tooltip = {
	#			tooltip = percent_right_faction_CC_less_50
	#			check_variable = { percent_right_faction_CC < 0.5 }
	#		}
	#	}
	#	
	#	visible = {
	#		tag = RSR
	#		has_war = no
	#		FER = {
	#			exists = yes
	#		}
	#	}
	#
	#	cost = 25
	#	
	#	ai_will_do = {
	#		factor = 500
	#	}
	#	
	#	complete_effect = {
	#		annex_country = {
	#			target = FER
	#			transfer_troops = yes
	#		}
	#	}
	#}
	
	#create_communist_blr = {
	#
	#	icon = generic_political_discourse
	#	
	#	allowed = {
	#		OR = {
	#			original_tag = RUS
	#			original_tag = SOV
	#		}
	#	}
	#	available = {
	#		NOT = {
	#			has_idea = RUS_weak_state_suppression_apparatus
	#			has_idea = RUS_weak_state_suppression_apparatus_1
	#			has_idea = RUS_weak_state_suppression_apparatus_2
	#		}
	#		has_full_control_of_state = 206
	#	}
	#	
	#	visible = {
	#		tag = RSR
	#		BLR = { exists = no }
	#		NOT = { BLR = { is_puppet_of = ROOT } }
	#	}
	#	
	#	cost = 15
	#	
	#	fire_only_once = yes
	#	
	#	ai_will_do = {
	#		factor = 0#500
	#	}
	#	
	#	complete_effect = {
	#		BLR = {
	#			transfer_state = 206
	#			set_politics = { ruling_party = communism }
	#		}
	#		every_state = {
	#			limit = {
	#				is_controlled_by = ROOT
	#				is_core_of = BLR
	#			}
	#			BLR = { transfer_state = PREV }
	#			remove_core_of = RUS
	#			remove_core_of = RSS
	#			remove_core_of = CCA
	#			remove_core_of = RVA
	#		}
	#		ROOT = {
	#			if = {
	#				limit = { has_dlc = "Together for Victory" }
	#				BLR = { subjecting_script_with_transfer_parties_dominion = yes }
	#				else = { puppet = BLR }
	#			}
	#		}
	#	}
	#}
}

SOV_soviet_power_desisions = {

	RUS_RKP_b_VIII_party_congress_timer = {
		activation = {
			has_government = communism
			OR = {
				has_completed_focus = RUS_soviet_power
				has_completed_focus = RUS_left_eser_focus
			}
			NOT = { has_country_flag = RUS_RKP_b_VIII_fired }
			has_country_flag = RUS_flag_soviet_power
		}
		available = {
			always = no
		}
		visible = {
			NOT = { has_country_flag = RUS_RKP_b_VIII_fired }
			has_country_flag = RUS_flag_soviet_power
		}
		cancel_if_not_visible = yes
		is_good = yes
		days_mission_timeout = 285
		timeout_effect = {
			country_event = rcw_bolsheviks.201
		}
	}
	RUS_RKP_b_IX_party_congress_timer = {
		activation = {
			has_government = communism
			has_country_flag = RUS_RKP_b_VIII_fired
			NOT = { has_country_flag = RUS_RKP_b_IX_fired }
			has_country_flag = RUS_flag_soviet_power
		}
		available = {
			always = no
		}
		visible = {
			NOT = { has_country_flag = RUS_RKP_b_IX_fired }
			has_country_flag = RUS_flag_soviet_power
		}
		cancel_if_not_visible = yes
		is_good = yes
		days_mission_timeout = 365
		timeout_effect = {
			country_event = rcw_bolsheviks.217
		}
	}
	RUS_RKP_b_X_party_congress_timer = {
		activation = {
			has_government = communism
			has_country_flag = RUS_RKP_b_IX_fired
			NOT = { has_country_flag = RUS_RKP_b_X_fired }
			has_country_flag = RUS_flag_soviet_power
		}
		available = {
			always = no
		}
		visible = {
			NOT = { has_country_flag = RUS_RKP_b_X_fired }
			has_country_flag = RUS_flag_soviet_power
		}
		cancel_if_not_visible = yes
		is_good = yes
		days_mission_timeout = 365
		timeout_effect = {
			country_event = rcw_bolsheviks.235
		}
	}

	kick_Bukharin_from_Pravda = {

		icon = generic_army_support

		available = {
			NOT = { has_country_leader = { name = "Nikolay Bukharin" ruling_only = yes } }
			OR = {
				AND = {
					NOT = { check_variable = { Nikolay_Bukharin_fact = 1 } }
					decist_fact_party_is_ruling = yes
				}
				AND = {
					NOT = { check_variable = { Nikolay_Bukharin_fact = 2 } }
					left_fact_party_is_ruling = yes
				}
			}
		}
		visible = {
			has_country_flag = RUS_Bukharin_gen_red_of_Pravda
		}
		cost = 50
		fire_only_once = yes
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			clr_country_flag = RUS_Bukharin_gen_red_of_Pravda
			if = {
				limit = { decist_fact_party_is_ruling = yes }
				
				add_to_variable = { decist_faction_party_compositon = -0.05 }
				custom_effect_tooltip = decist_fact_party_comp_minus_5
				check_overlap_of_party_composition = yes
			}
			add_stability = 0.02
		}
	}

	all_party_discussion_with_decists = {
		activation = { always = no }
		available = {
			has_country_flag = discussion_adjust_composition_of_delegations
		}
		visible = {
			has_country_flag = RUS_flag_soviet_power
		}
		cancel_if_not_visible = yes
		days_mission_timeout = 40
		timeout_effect = {
			if = {
				limit = { check_variable = { decist_faction_party_compositon > left_n_center_faction_party_compositon } }
				custom_effect_tooltip = all_party_discussion_with_decists_tt_decists
				country_event = rcw_bolsheviks.206
				else = {
					custom_effect_tooltip = all_party_discussion_with_decists_tt_Lenin
					country_event = rcw_bolsheviks.207
				}
			}
		}
		complete_effect = {
			if = {
				limit = { NOT = { has_country_flag = all_party_discussion_decists_arrested } }
				country_event = { id = rcw_bolsheviks.215 }
				else = {
					clr_country_flag = all_party_discussion_decists_arrested
					add_to_variable = { decist_faction_party_compositon = -0.1 }
					custom_effect_tooltip = decist_fact_party_comp_minus_10
					check_overlap_of_party_composition = yes
					custom_effect_tooltip = remove_all_decists_from_CC
					hidden_effect = {
						add_to_variable = { var = decist_faction_CC value = -100 }
						check_overlap_of_CC_n_CEC_deputies_add = yes
						set_frame_of_CC_n_CEC = yes
					}
				}
			}
		}
	}

	all_party_discussion_with_decists_pressure_on_Bukharin = {

		icon = generic_prepare_civil_war

		visible = {
			has_active_mission = all_party_discussion_with_decists
			has_country_flag = RUS_Bukharin_gen_red_of_Pravda
		}
		ai_will_do = {
			factor = 0
		}
		cost = 5
		fire_only_once = yes
		complete_effect = {
			random_list = {
				65 = {
					custom_effect_tooltip = pressure_on_Bukharin_reject
					hidden_effect = { country_event = rcw_bolsheviks.210 }
				}
				20 = {
					
				}
				15 = {
					add_to_variable = { decist_faction_party_compositon = -0.1 }
					custom_effect_tooltip = decist_fact_party_comp_minus_10
					check_overlap_of_party_composition = yes
				}
			}
		}
	}

	all_party_discussion_with_decists_write_devastating_article = {

		icon = generic_prepare_civil_war

		visible = {
			has_active_mission = all_party_discussion_with_decists
		}
		ai_will_do = {
			factor = 500
		}
		cost = 50
		fire_only_once = yes
		complete_effect = {
			add_to_variable = { decist_faction_party_compositon = -0.1 }
			custom_effect_tooltip = decist_fact_party_comp_minus_10
			check_overlap_of_party_composition = yes
		}
	}

	all_party_discussion_with_decists_adjust_composition_of_delegations = {

		icon = generic_prepare_civil_war

		visible = {
			has_active_mission = all_party_discussion_with_decists
		}
		ai_will_do = {
			factor = 0
		}
		cost = 50
		fire_only_once = yes
		complete_effect = {
			set_country_flag = discussion_adjust_composition_of_delegations
		}
	}

	all_party_discussion_with_decists_call_WPRA = {

		icon = generic_prepare_civil_war

		available = {
			has_idea = Lev_Trotsky_6
		}
		visible = {
			has_active_mission = all_party_discussion_with_decists
		}
		ai_will_do = {
			factor = 0
		}
		days_remove = 10
		cost = 50
		fire_only_once = yes
		remove_effect = {
			random_list = {
				75 = {
					#Приедут чуваки курируемые Троцким и вроде всё в порядке
					add_to_variable = { var = Trotskiy_power value = 1 }
					add_to_variable = { left_faction_party_compositon = 0.05 }
					custom_effect_tooltip = left_fact_party_comp_plus_5
					check_overlap_of_party_composition = yes
				}
				25 = {
					#Приедут чуваки которым лишь бы война поскорее кончилась
					add_to_variable = { decist_faction_party_compositon = 0.05 }
					custom_effect_tooltip = decist_fact_party_comp_plus_5
					check_overlap_of_party_composition = yes
				}
			}
		}
	}

	all_party_discussion_with_decists_postpone_party_conference = {

		icon = generic_prepare_civil_war

		visible = {
			has_active_mission = all_party_discussion_with_decists
			has_war = yes
		}
		ai_will_do = {
			factor = 0
		}
		cost = 50
		days_remove = 20
		complete_effect = {
			add_to_variable = { decist_faction_party_compositon = 0.03 }
			custom_effect_tooltip = decist_fact_party_comp_plus_3
			check_overlap_of_party_composition = yes
			add_days_mission_timeout  = {
				mission = all_party_discussion_with_decists
				days = 30
			}
		}
	}

	all_party_discussion_with_decists_arrest_Osinskiy_n_Sapronov = {

		icon = generic_prepare_civil_war

		visible = {
			has_active_mission = all_party_discussion_with_decists
			has_war = yes
		}
		ai_will_do = {
			factor = 0
		}
		days_remove = 3
		fire_only_once = yes
		remove_effect = {
			country_event = rcw_bolsheviks.211
		}
	}
	
	accept_demands_of_Kronstadt_sailors = {

		icon = generic_prepare_civil_war

		available = {
		}
		visible = {
			KRN = { exists = yes NOT = { has_war_with = ROOT } }
		}

		cost = 25
		ai_will_do = {
			factor = 500
		}

		complete_effect = {
			annex_country = {
				target = KRN
				transfer_troops = no
			}
			set_country_flag = demands_of_Kronstadt_sailors_accepted
			if = {
				limit = { has_country_flag = war_communism }
				clr_country_flag = war_communism
				set_country_flag = war_communism_abolished
			}
		}
	}

	orabochivanie_of_soviets = {

		icon = generic_army_support

		available = {
			decist_fact_party_is_ruling = yes
		}
		cost = 50
		fire_only_once = yes
		ai_will_do = {
			factor = 100
		}
		days_remove = 40
		remove_effect = {
			add_to_variable = { decist_faction_party_compositon = 0.05 }
			custom_effect_tooltip = decist_fact_party_comp_plus_5
			check_overlap_of_party_composition = yes
		}
	}

	shake_up_soviets = {

		icon = generic_prepare_civil_war

		available = {
			NOT = { has_country_flag = RUS_RKP_b_VIII_decist_war_plan }
			NOT = { has_government = radical_socialism }
			non_decist_fact_party_is_ruling = yes
			custom_trigger_tooltip = {
				tooltip = decist_faction_CC_more_0
				check_variable = { decist_faction_CC > 0 }
			}
			custom_trigger_tooltip = {
				tooltip = percent_decist_faction_CC_less_40
				check_variable = { percent_decist_faction_CC < 0.4 }
			}
		}
		
		ai_will_do = {
			factor = 0
		}
		cost = 10
		
		days_remove = 10
		remove_effect = {
			add_to_variable = { decist_faction_party_compositon = 0.03 }
			custom_effect_tooltip = decist_fact_party_comp_plus_3
			check_overlap_of_party_composition = yes
			custom_effect_tooltip = remove_1_decist_from_CC
			hidden_effect = {
				subtract_from_variable = { var = decist_faction_CC value = 1 }
				check_overlap_of_CC_n_CEC_deputies_add = yes
				set_frame_of_CC_n_CEC = yes
			}
		}
	}

	blame_left_in_bureaucratis  = {

		icon = generic_prepare_civil_war

		available = {
			non_left_fact_party_is_ruling = yes
			custom_trigger_tooltip = {
				tooltip = left_faction_CC_more_0
				check_variable = { left_faction_CC > 0 }
			}
			custom_trigger_tooltip = {
				tooltip = percent_left_faction_CC_less_40
				check_variable = { percent_left_faction_CC < 0.4 }
			}
		}
		
		ai_will_do = {
			factor = 0
		}
		cost = 20
		
		days_remove = 10
		remove_effect = {
			check_overlap_of_party_composition = yes
			custom_effect_tooltip = remove_1_left_from_CC
			hidden_effect = {
				subtract_from_variable = { var = left_faction_CC value = 1 }
				check_overlap_of_CC_n_CEC_deputies_add = yes
				set_frame_of_CC_n_CEC = yes
			}
		}
	}

	blame_moderate_in_political_immaturity = {

		icon = generic_prepare_civil_war

		available = {
			non_moderate_fact_party_is_ruling = yes
			custom_trigger_tooltip = {
				tooltip = moderate_faction_CC_more_0
				check_variable = { moderate_faction_CC > 0 }
			}
			custom_trigger_tooltip = {
				tooltip = percent_moderate_faction_CC_less_40
				check_variable = { percent_moderate_faction_CC < 0.4 }
			}
		}
		
		ai_will_do = {
			factor = 0
		}
		cost = 20
		
		days_remove = 10
		remove_effect = {
			check_overlap_of_party_composition = yes
			custom_effect_tooltip = remove_1_moderate_from_CC
			hidden_effect = {
				subtract_from_variable = { var = moderate_faction_CC value = 1 }
				check_overlap_of_CC_n_CEC_deputies_add = yes
				set_frame_of_CC_n_CEC = yes
			}
		}
	}

	blame_right_in_menshevism  = {

		icon = generic_prepare_civil_war

		available = {
			non_right_fact_party_is_ruling = yes
			custom_trigger_tooltip = {
				tooltip = right_faction_CC_more_0
				check_variable = { right_faction_CC > 0 }
			}
			custom_trigger_tooltip = {
				tooltip = percent_right_faction_CC_less_40
				check_variable = { percent_right_faction_CC < 0.4 }
			}
		}
		
		ai_will_do = {
			factor = 0
		}
		cost = 20
		
		days_remove = 10
		remove_effect = {
			check_overlap_of_party_composition = yes
			custom_effect_tooltip = remove_1_right_from_CC
			hidden_effect = {
				subtract_from_variable = { var = right_faction_CC value = 1 }
				check_overlap_of_CC_n_CEC_deputies_add = yes
				set_frame_of_CC_n_CEC = yes
			}
		}
	}

	Lenin_threaten_resignation = {

		icon = generic_prepare_civil_war

		available = {
			has_country_flag = brest_negotiation_Lenin_can_threaten_resignation
		}
		visible = {
			has_war_with = GER
			NOT = { has_country_flag = Vladimir_Lenin_dead }
			has_government = communism
		}
		ai_will_do = {
			factor = 500
			modifier = {
				factor = 0
				check_variable = { percent_left_faction_CC < 0.5 }
			}
		}
		remove_effect = {
		}
		complete_effect = {
			custom_effect_tooltip = remove_3_left_from_CC
			hidden_effect = {
				subtract_from_variable = { var = left_faction_CC value = 3 }
				check_overlap_of_CC_n_CEC_deputies_add = yes
				set_frame_of_CC_n_CEC = yes
			}
			clr_country_flag = brest_negotiation_Lenin_can_threaten_resignation
			set_country_flag = Lenin_threatens_his_resignation
		}
	}
	
	dissolve_combeds = {
	
		icon = generic_political_discourse
		
		visible = {
			OR = {
				has_idea = RUS_degenerate_kombeds
				has_idea = RUS_kombeds_idea
			}
		}
		
		cost = 50
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 500
			modifier = {
				factor = 0
				NOT = { has_idea = RUS_degenerate_kombeds } 
			}
		}
		
		complete_effect = {
			remove_ideas = RUS_degenerate_kombeds
			remove_ideas = RUS_kombeds_idea
			add_to_variable = {
				var = global.RCW_green_var_Russian_SFSR
				value = -1
			}
			if = {
				limit = {
					NOT = {
						has_idea = RUS_prodrazverstka_idea
						has_country_flag = brest_hardest
						has_country_flag = brest_hard
						has_country_flag = brest_average
					}
				}
				remove_ideas = RUS_bolsheviks_vs_left_esser
			}
		}
	}

	wave_of_prodrazverstka = {

		icon = generic_army_support

		available = {
			OR = {
				has_idea = foodstuffs_supply_crisis_5
				has_idea = foodstuffs_supply_crisis_4
				has_idea = foodstuffs_supply_crisis_3
				has_idea = foodstuffs_supply_crisis_2
			}
			NOT = { has_idea = RUS_economic_collapse_of_the_left_idea }
		}
		visible = {
			has_idea = RUS_prodrazverstka_idea
		}
		cost = 25
		days_remove = 90
		fire_only_once = yes
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					has_idea = foodstuffs_supply_crisis_5
					has_idea = foodstuffs_supply_crisis_4
				}
			}
		}
		remove_effect = {
			add_days_mission_timeout = { mission = RUS_collapse_of_the_bolshevik_economy days = -50 }
			if = {
				limit = { has_variable = global.RCW_green_var_additional_Russian_SFSR }
				add_to_variable = { global.RCW_green_var_additional_Russian_SFSR = 1 }
			}
			if = {
				limit = { has_idea = foodstuffs_supply_crisis_5 }
				remove_ideas = foodstuffs_supply_crisis_5
				add_ideas = foodstuffs_supply_crisis_4
			}
			else_if = {
				limit = { has_idea = foodstuffs_supply_crisis_4 }
				remove_ideas = foodstuffs_supply_crisis_4
				add_ideas = foodstuffs_supply_crisis_3
			}
			else_if = {
				limit = { has_idea = foodstuffs_supply_crisis_3 }
				remove_ideas = foodstuffs_supply_crisis_3
				add_ideas = foodstuffs_supply_crisis_2
			}
			else_if = {
				limit = { has_idea = foodstuffs_supply_crisis_2 }
				remove_ideas = foodstuffs_supply_crisis_2
				add_ideas = foodstuffs_supply_crisis_1
			}
			else_if = {
				limit = { has_idea = foodstuffs_supply_crisis_1 }
				remove_ideas = foodstuffs_supply_crisis_1
				clr_country_flag = RUS_foodstuffs_supply_crisis_flag
			}
		}
	}
}

rcw_RUS_collapse_of_the_bolshevik_economy = {
	
	RUS_rise_of_railway_crisis = {
	
		allowed = {
			tag = RUS
		}
		
		available = {
			always = no
		}
		
		cancel_trigger = {
			OR = {
				NOT = { has_country_flag = railway_self_government }
				has_global_flag = RUS_civil_war_over
			}
		}
		
		activation = {
			OR = {
				has_idea = collapse_of_railway_system_1
				has_idea = collapse_of_railway_system_2
				has_idea = collapse_of_railway_system_3
				has_idea = collapse_of_railway_system_4
				has_idea = collapse_of_railway_system_5
			}
			has_war = yes
			NOT = { has_global_flag = RUS_civil_war_over }
			has_country_flag = railway_self_government
		}
		
		is_good = no
		
		fire_only_once = yes
		
		priority = 10
		
		days_mission_timeout = 200
		
		timeout_effect = {
			if = {
				limit = { has_idea = collapse_of_railway_system_1 }
				swap_ideas = {
					remove_idea = collapse_of_railway_system_1
					add_idea = collapse_of_railway_system_2
				}
				add_days_mission_timeout = { mission = RUS_collapse_of_the_bolshevik_economy days = -45 }
			}
			else_if = {
				limit = { has_idea = collapse_of_railway_system_2 }
				swap_ideas = {
					remove_idea = collapse_of_railway_system_2
					add_idea = collapse_of_railway_system_3
				}
				add_days_mission_timeout = { mission = RUS_collapse_of_the_bolshevik_economy days = -45 }
			}
			else_if = {
				limit = { has_idea = collapse_of_railway_system_3 }
				swap_ideas = {
					remove_idea = collapse_of_railway_system_3
					add_idea = collapse_of_railway_system_4
				}
				add_days_mission_timeout = { mission = RUS_collapse_of_the_bolshevik_economy days = -45 }
			}
			else_if = {
				limit = { has_idea = collapse_of_railway_system_4 }
				swap_ideas = {
					remove_idea = collapse_of_railway_system_4
					add_idea = collapse_of_railway_system_5
				}
				add_days_mission_timeout = { mission = RUS_collapse_of_the_bolshevik_economy days = -45 }
			}
			else_if = {
				limit = { has_idea = collapse_of_railway_system_5 }
				add_days_mission_timeout = { mission = RUS_collapse_of_the_bolshevik_economy days = -90 }
			}
			else = {
				add_ideas = collapse_of_railway_system_1
				add_days_mission_timeout = { mission = RUS_collapse_of_the_bolshevik_economy days = -45 }
			}
			activate_mission = RUS_rise_of_railway_crisis
		}
	}
	
	RUS_collapse_of_the_bolshevik_economy = {
	
		allowed = {
			tag = RUS
		}
		
		available = {
			always = no
		}
		
		cancel_trigger = {
			OR = {
				has_completed_focus = RUS_reorganization_of_production_administration
				has_completed_focus = RUS_new_economic_policy
				has_country_flag = war_communism_abolished
				has_global_flag = RUS_civil_war_over
			}
		}
		
		activation = {
			has_country_flag = RUS_start_bolshevik_economy
			NOT = {
				has_completed_focus = RUS_reorganization_of_production_administration
				has_completed_focus = RUS_new_economic_policy
				has_country_flag = war_communism_abolished
				has_global_flag = RUS_civil_war_over
			}
		}
		
		is_good = no
		
		fire_only_once = yes
		
		priority = 10
		
		days_mission_timeout = 348
		
		timeout_effect = {
			country_event = rcw_bolsheviks.150
			add_to_variable = {
				var = global.RCW_green_var_Russian_SFSR
				value = 5
			}
		}
	}

	organization_of_railway_militia = {

		icon = generic_army_support

		available = {
			has_active_mission = RUS_rise_of_railway_crisis
		}
		visible = {
			NOT = { has_country_flag = railway_militia }
			has_country_flag = railway_self_government
		}
		cost = 25
		days_remove = 20
		fire_only_once = yes
		ai_will_do = {
			factor = 100
		}
		remove_effect = {
			set_country_flag = railway_militia
			add_manpower = -10000
			add_days_mission_timeout = { mission = RUS_rise_of_railway_crisis days = 200 }
		}
	}

	abolish_railway_self_government = {

		icon = generic_army_support

		available = {
			has_country_flag = RUS_RKP_b_VIII_non_decist_war_plan
			OR = {
				custom_trigger_tooltip = {
					tooltip = percent_left_faction_CC_more_50
					check_variable = { percent_left_faction_CC > 0.5 }
				}
				left_fact_party_is_ruling = yes
			}
		}
		visible = {
			has_country_flag = railway_self_government
		}
		cost = 75
		fire_only_once = yes
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_country_leader = { name = "Vladimir Lenin" ruling_only = yes }
			}
		}
		complete_effect = {
			custom_effect_tooltip = abolish_railway_self_government_tt
			clr_country_flag = railway_self_government
			add_to_variable = { decist_faction_party_compositon = 0.05 }
			add_to_variable = { left_faction_party_compositon = 0.05 }
			custom_effect_tooltip = decist_fact_party_comp_plus_5
			custom_effect_tooltip = left_fact_party_comp_plus_5
			check_overlap_of_party_composition = yes
			add_to_variable = { var = Trotskiy_power value = 1 }
			custom_effect_tooltip = add_5_left_to_CC
			hidden_effect = {
				add_to_variable = { var = left_faction_CC value = 5 }
				subtract_from_variable = { var = center_faction_CC value = 5 }
				check_overlap_of_CC_n_CEC_deputies_add = yes
				set_frame_of_CC_n_CEC = yes
			}
			if = {
				limit = { has_country_leader = { name = "Vladimir Lenin" ruling_only = yes } }
				country_event = { id = rcw_bolsheviks.303 }
			}
			if = {
				limit = { has_country_flag = railway_militia }
				clr_country_flag = railway_militia
				add_political_power = 50
				add_manpower = 10000
				add_stability = 0.01
			}
		}
	}
	
	RUS_party_mobilization_for_transport = {
	
		icon = generic_political_discourse
		
		available = {
			has_active_mission = RUS_rise_of_railway_crisis
			non_decist_fact_party_is_ruling = yes
		}
		
		visible = {
			original_tag = RUS
			has_government = communism
		}
		
		cost = 75
		days_remove = 200
		
		fire_only_once = no
		
		ai_will_do = {
			factor = 100
		}
		
		complete_effect = {
			if = {
				limit = { has_idea = collapse_of_railway_system_1 }
				add_days_mission_timeout = { mission = RUS_rise_of_railway_crisis days = 200 }
			}
			else_if = {
				limit = { has_idea = collapse_of_railway_system_2 }
				swap_ideas = {
					remove_idea = collapse_of_railway_system_2
					add_idea = collapse_of_railway_system_1
				}
			}
			else_if = {
				limit = { has_idea = collapse_of_railway_system_3 }
				swap_ideas = {
					remove_idea = collapse_of_railway_system_3
					add_idea = collapse_of_railway_system_2
				}
			}
			else_if = {
				limit = { has_idea = collapse_of_railway_system_4 }
				swap_ideas = {
					remove_idea = collapse_of_railway_system_4
					add_idea = collapse_of_railway_system_3
				}
			}
			else_if = {
				limit = { has_idea = collapse_of_railway_system_5 }
				swap_ideas = {
					remove_idea = collapse_of_railway_system_5
					add_idea = collapse_of_railway_system_4
				}
			}
			add_to_variable = { decist_faction_party_compositon = 0.05 }
			custom_effect_tooltip = decist_fact_party_comp_plus_5
			check_overlap_of_party_composition = yes
		}
	}
	
	RUS_organize_communes_and_state_farms = {
	
		icon = generic_political_discourse
		
		available = {
			has_active_mission = RUS_collapse_of_the_bolshevik_economy
		}
		
		visible = {
			original_tag = RUS
			has_government = communism
		}
		
		cost = 50
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
		
		complete_effect = {
			add_days_mission_timeout = { mission = RUS_collapse_of_the_bolshevik_economy days = 45 }
		}
	}
	
	RUS_drawing_up_district_and_sectoral_production_plans = {
	
		icon = generic_political_discourse
		
		available = {
			has_active_mission = RUS_collapse_of_the_bolshevik_economy
			NOT = { has_idea = workers_control_law }
			has_completed_focus = RUS_mass_nationalization_of_anything_and_everything_indiscriminately
			non_decist_fact_party_is_ruling = yes
		}
		
		visible = {
			original_tag = RUS
			has_government = communism
		}
		
		cost = 50
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
		
		complete_effect = {
			add_days_mission_timeout = { mission = RUS_collapse_of_the_bolshevik_economy days = 45 }
			add_to_variable = { decist_faction_party_compositon = 0.05 }
			custom_effect_tooltip = decist_fact_party_comp_plus_5
			check_overlap_of_party_composition = yes
		}
	}
	
	RUS_increased_production_of_consumer_goods = {
	
		icon = generic_political_discourse
		
		available = {
			has_active_mission = RUS_collapse_of_the_bolshevik_economy
			NOT = { has_idea = civilian_economy }
			NOT = { has_country_flag = war_communism }
		}
		
		visible = {
			original_tag = RUS
			has_government = communism
		}
		
		cost = 25
		days_remove = 200
		modifier = {
			consumer_goods_factor = 0.1
		}
		
		fire_only_once = no
		
		ai_will_do = {
			factor = 100
		}
		
		complete_effect = {
			add_days_mission_timeout = { mission = RUS_collapse_of_the_bolshevik_economy days = 90 }
			low_mobilization_economy_law = yes
		}
	}
	
	RUS_control_over_raw_material_base_old_empire = {
	
		icon = generic_political_discourse
		
		available = {
			has_active_mission = RUS_collapse_of_the_bolshevik_economy
			NOT = {
				any_state = {
					OR = {
						state = 236
						state = 653
						state = 586
						state = 220
						state = 221
					}
					NOT = {
						CONTROLLER = {
							has_full_control_of_state = PREV
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								is_in_faction_with = ROOT
								has_government = radical_socialism
								has_government = communism
							}
							NOT = { has_war_with = ROOT }
						}
					}
				}
			}
			OR = {
				111 = {
					CONTROLLER = {
						has_full_control_of_state = PREV
						OR = {
							tag = ROOT
							is_subject_of = ROOT
							is_in_faction_with = ROOT
							has_government = radical_socialism
							has_government = communism
						}
						NOT = { has_war_with = ROOT }
					}
				}
				10 = {
					CONTROLLER = {
						has_full_control_of_state = PREV
						OR = {
							tag = ROOT
							is_subject_of = ROOT
							is_in_faction_with = ROOT
							has_government = radical_socialism
							has_government = communism
						}
						NOT = { has_war_with = ROOT }
					}
				}
			}
		}
		
		visible = {
			original_tag = RUS
			has_government = communism
		}
		
		cost = 25
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
		
		complete_effect = {
			add_days_mission_timeout = { mission = RUS_collapse_of_the_bolshevik_economy days = 135 }
		}
	}
	abolish_war_communism = {

		icon = generic_prepare_civil_war

		available = {
			NOT = { has_completed_focus = RUS_strengthening_war_communism_policy }
			NOT = { has_idea = RUS_economic_collapse_of_the_left_idea }
			non_left_fact_party_is_ruling = yes
			OR = {
				custom_trigger_tooltip = {
					tooltip = percent_left_faction_CC_less_30
					check_variable = { percent_left_faction_CC < 0.3 }
				}
				KRN = { exists = yes NOT = { has_war_with = ROOT } }
			}
			surrender_progress < 0.2
		}
		visible = {
			has_completed_focus = RUS_war_communism
			NOT = { has_completed_focus = RUS_strengthening_war_communism_policy }
			NOT = { has_country_flag = war_communism_abolished }
			NOT = { has_idea = RUS_economic_collapse_of_the_left_idea }
			OR = {
				custom_trigger_tooltip = {
					tooltip = percent_left_faction_CC_less_40
					check_variable = { percent_left_faction_CC < 0.4 }
				}
				KRN = { exists = yes NOT = { has_war_with = ROOT } }
			}
		}

		cost = 75
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				NOT = { has_idea = foodstuffs_supply_crisis_5 }
				NOT = { has_idea = foodstuffs_supply_crisis_4 }
				NOT = { has_idea = foodstuffs_supply_crisis_3 }
			}
			modifier = {
				factor = 0.02
				NOT = { has_idea = foodstuffs_supply_crisis_5 }
				NOT = { has_idea = foodstuffs_supply_crisis_4 }
				NOT = { has_idea = foodstuffs_supply_crisis_3 }
				NOT = { has_idea = foodstuffs_supply_crisis_2 }
			}
		}
		fire_only_once = yes

		complete_effect = {
			clr_country_flag = war_communism
			set_country_flag = war_communism_abolished
			if = {
				limit = {
					count_triggers = {
						amount = 13
						572 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
						582 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
						651 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
						652 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
						251 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
						250 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
						239 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
						265 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
						257 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
						258 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
						260 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
						240 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
						220 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
						234 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
						
						1367 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
						958 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
						259 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
						193 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
						1371 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
						201 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					}
				}
				add_stability = -0.05
				if = {
					limit = { has_idea = foodstuffs_supply_crisis_4 }
					remove_ideas = foodstuffs_supply_crisis_4
					add_ideas = foodstuffs_supply_crisis_5
				}
				else_if = {
					limit = { has_idea = foodstuffs_supply_crisis_3 }
					remove_ideas = foodstuffs_supply_crisis_3
					add_ideas = foodstuffs_supply_crisis_4
				}
				else_if = {
					limit = { has_idea = foodstuffs_supply_crisis_2 }
					remove_ideas = foodstuffs_supply_crisis_2
					add_ideas = foodstuffs_supply_crisis_3
				}
				else_if = {
					limit = { has_idea = foodstuffs_supply_crisis_1 }
					remove_ideas = foodstuffs_supply_crisis_1
					add_ideas = foodstuffs_supply_crisis_2
				}
			}
		}
	}
}