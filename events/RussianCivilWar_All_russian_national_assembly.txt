###########################
# National Assembly Events
###########################

add_namespace = rcw_all_rus_NA

###########################
# Национальное собрание
###########################

# Подготовка к собранию
country_event = {
	id = rcw_all_rus_NA.1
	title = rcw_all_rus_NA.1.t
	desc = rcw_all_rus_NA.1.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes

	trigger = { NOT = { has_global_flag = RCW_Allrussian_national_assembly } }
	immediate = {
		set_global_flag = RCW_Allrussian_national_assembly
	}
	
	option = {
		name = rcw_all_rus_NA.1.a # Только себя
		set_country_flag = RCW_Allrussian_national_assembly_leader
		set_country_flag = RCW_Allrussian_national_assembly_member
		if = {
			limit = { any_other_country = { OR = { is_subject_of = ROOT is_in_faction_with = ROOT } } }
			add_political_power = -100
			else = {
				add_political_power = -50
			}
		}
		set_variable = { global.all_rus_NA_members = 1 }
		set_variable = { global.all_rus_NA_gov_form_rep = 0 }
		set_variable = { global.all_rus_NA_gov_form_mon = 0 }
		set_variable = { global.all_rus_NA_gov_form_rep_compromise = 0 }
		set_variable = { global.all_rus_NA_gov_form_mon_compromise = 0 }
		hidden_effect = { country_event = rcw_all_rus_NA.4 }
		every_other_country = {
			limit = {
				is_former_russian_empire_russian_country = yes
				has_capitulated = no
			}
			country_event = { id = rcw_all_rus_NA.31 days = 14 }
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
				active = no
			}
			ROOT = {
				diplomatic_relation = {
					country = PREV
					relation = non_aggression_pact
					active = no
				}
				create_wargoal = {
					type = annex_everything
					target = PREV
				}
			}
			create_wargoal = {
				type = annex_everything
				target = ROOT
			}
		}
	}
	option = {
		trigger = { any_other_country = { OR = { is_subject_of = ROOT is_in_faction_with = ROOT } } }
		name = rcw_all_rus_NA.1.b # Только марионеток
		set_country_flag = RCW_Allrussian_national_assembly_leader
		set_country_flag = RCW_Allrussian_national_assembly_member
		add_political_power = -50
		set_variable = { global.all_rus_NA_members = 1 }
		set_variable = { global.all_rus_NA_gov_form_rep = 0 }
		set_variable = { global.all_rus_NA_gov_form_mon = 0 }
		set_variable = { global.all_rus_NA_gov_form_rep_compromise = 0 }
		set_variable = { global.all_rus_NA_gov_form_mon_compromise = 0 }
		every_other_country = {
			limit = {
				is_former_russian_empire_russian_country = yes
				OR = {
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
			country_event = rcw_all_rus_NA.2
		}
		hidden_effect = { country_event = { id = rcw_all_rus_NA.4 days = 14 } }
		every_other_country = {
			limit = {
				is_former_russian_empire_russian_country = yes
				NOT = {
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
				has_capitulated = no
			}
			country_event = { id = rcw_all_rus_NA.31 days = 14 }
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
				active = no
			}
			ROOT = {
				diplomatic_relation = {
					country = PREV
					relation = non_aggression_pact
					active = no
				}
				create_wargoal = {
					type = annex_everything
					target = PREV
				}
			}
			create_wargoal = {
				type = annex_everything
				target = ROOT
			}
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		trigger = {
			NOT = { is_left_country = yes }
		}
		name = rcw_all_rus_NA.1.c # Кроме социалистов
		set_country_flag = RCW_Allrussian_national_assembly_leader
		set_country_flag = RCW_Allrussian_national_assembly_member
		add_political_power = -25
		set_variable = { global.all_rus_NA_members = 1 }
		set_variable = { global.all_rus_NA_gov_form_rep = 0 }
		set_variable = { global.all_rus_NA_gov_form_mon = 0 }
		set_variable = { global.all_rus_NA_gov_form_rep_compromise = 0 }
		set_variable = { global.all_rus_NA_gov_form_mon_compromise = 0 }
		every_other_country = {
			limit = {
				is_former_russian_empire_russian_country = yes
				NOT = { has_war_with = ROOT }
				OR = {
					is_subject_of = ROOT
					is_in_faction_with = ROOT
					NOT = { is_left_country = yes }
				}
				has_capitulated = no
				has_war = no
			}
			country_event = rcw_all_rus_NA.2
		}
		hidden_effect = { country_event = { id = rcw_all_rus_NA.4 days = 14 } }
		every_other_country = {
			limit = {
				is_former_russian_empire_russian_country = yes
				NOT = {
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
				is_left_country = yes
				has_capitulated = no
			}
			country_event = { id = rcw_all_rus_NA.31 days = 14 }
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
				active = no
			}
			ROOT = {
				diplomatic_relation = {
					country = PREV
					relation = non_aggression_pact
					active = no
				}
				create_wargoal = {
					type = annex_everything
					target = PREV
				}
			}
			create_wargoal = {
				type = annex_everything
				target = ROOT
			}
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		trigger = {
			is_left_country = yes
		}
		name = rcw_all_rus_NA.1.d # Кроме открытых реакционеров
		set_country_flag = RCW_Allrussian_national_assembly_leader
		set_country_flag = RCW_Allrussian_national_assembly_member
		add_political_power = -25
		set_variable = { global.all_rus_NA_members = 1 }
		set_variable = { global.all_rus_NA_gov_form_rep = 0 }
		set_variable = { global.all_rus_NA_gov_form_mon = 0 }
		set_variable = { global.all_rus_NA_gov_form_rep_compromise = 0 }
		set_variable = { global.all_rus_NA_gov_form_mon_compromise = 0 }
		every_other_country = {
			limit = {
				is_former_russian_empire_russian_country = yes
				NOT = { has_war_with = ROOT }
				OR = {
					is_subject_of = ROOT
					is_in_faction_with = ROOT
					NOT = { is_reactionary_country = yes }
				}
				has_capitulated = no
				has_war = no
			}
			country_event = rcw_all_rus_NA.2
		}
		hidden_effect = { country_event = { id = rcw_all_rus_NA.4 days = 14 } }
		every_other_country = {
			limit = {
				is_former_russian_empire_russian_country = yes
				NOT = {
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
				is_reactionary_country = yes
				has_capitulated = no
			}
			country_event = { id = rcw_all_rus_NA.31 days = 14 }
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
				active = no
			}
			ROOT = {
				diplomatic_relation = {
					country = PREV
					relation = non_aggression_pact
					active = no
				}
				create_wargoal = {
					type = annex_everything
					target = PREV
				}
			}
			create_wargoal = {
				type = annex_everything
				target = ROOT
			}
		}
		ai_chance = {
			factor = 2
		}
	}
	option = {
		name = rcw_all_rus_NA.1.e # Всех
		set_country_flag = RCW_Allrussian_national_assembly_leader
		set_country_flag = RCW_Allrussian_national_assembly_member
		set_variable = { global.all_rus_NA_members = 1 }
		set_variable = { global.all_rus_NA_gov_form_rep = 0 }
		set_variable = { global.all_rus_NA_gov_form_mon = 0 }
		set_variable = { global.all_rus_NA_gov_form_rep_compromise = 0 }
		set_variable = { global.all_rus_NA_gov_form_mon_compromise = 0 }
		every_other_country = {
			limit = {
				is_former_russian_empire_russian_country = yes
				NOT = { has_war_with = ROOT }
				has_capitulated = no
				has_war = no
			}
			country_event = rcw_all_rus_NA.2
		}
		hidden_effect = { country_event = { id = rcw_all_rus_NA.4 days = 14 } }
		ai_chance = {
			factor = 1
		}
	}
}

# Приглашение
country_event = {
	id = rcw_all_rus_NA.2
	title = rcw_all_rus_NA.2.t
	desc = rcw_all_rus_NA.2.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	trigger = {
		has_capitulated = no
	}
	
	option = {
		name = rcw_all_rus_NA.2.a # отказ
		if = {
			limit = { has_capitulated = no }
			FROM = { country_event = rcw_all_rus_NA.3 }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				FROM = { NOT = { is_reactionary_country = yes } }
				is_left_country = yes
			}
			modifier = {
				factor = 0
				FROM = { NOT = { is_left_country = yes } }
				is_reactionary_country = yes
			}
			modifier = {
				factor = 0
				is_subject_of = FROM
			}
		}
	}
	option = {
		name = rcw_all_rus_NA.2.b # согласие
		if = {
			limit = { has_capitulated = no }
			set_country_flag = RCW_Allrussian_national_assembly_member
			add_to_variable = { global.all_rus_NA_members = 1 }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				FROM = { is_reactionary_country = yes }
				is_socialist_country = yes
			}
			modifier = {
				factor = 0.75
				FROM = { is_reactionary_country = yes }
				is_socdem_country = yes
			}
		}
	}
}
# Отрицательный ответ
country_event = {
	id = rcw_all_rus_NA.3
	title = rcw_all_rus_NA.3.t
	desc = rcw_all_rus_NA.3.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.3.a
	}
}

# Инициализация голосования по главному вопросу
country_event = {
	id = rcw_all_rus_NA.4
	title = rcw_all_rus_NA.4.t
	desc = rcw_all_rus_NA.4.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	hidden = yes
	
	option = {
		name = rcw_all_rus_NA.4.a
		every_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_member }
			country_event = rcw_all_rus_NA.5
		}
	}
}

# Голосование по главному вопросу ("Центральный вопрос")
country_event = {
	id = rcw_all_rus_NA.5
	title = rcw_all_rus_NA.5.t
	desc = rcw_all_rus_NA.5.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	trigger = {
		has_capitulated = no
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.5.a # Республика
		trigger = {
			NOT = { has_idea = absolute_monarchy_gov_form }
			NOT = { has_idea = limited_monarchy_gov_form }
			NOT = { has_government = authoritarism }
		}
		hidden_effect = { country_event = rcw_all_rus_NA.6 }
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				has_government = authoritarism
			}
		}
	}
	option = {
		name = rcw_all_rus_NA.5.b # Монархия
		trigger = {
			OR = {
				has_idea = absolute_monarchy_gov_form
				has_idea = limited_monarchy_gov_form
				NOT = { is_left_country = yes }
			}
		}
		hidden_effect = { country_event = rcw_all_rus_NA.7 }
		ai_chance = {
			factor = 3
			modifier = {
				factor = 0.2
				is_democratic_country = yes
			}
			modifier = {
				factor = 0
				has_country_leader = { name = "Lavr Kornilov" ruling_only = yes }
			}
		}
	}
}
# Тем не менее... (республика)
country_event = {
	id = rcw_all_rus_NA.6
	title = rcw_all_rus_NA.6.t
	desc = rcw_all_rus_NA.6.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.6.a
		hidden_effect = {
			add_to_variable = { global.all_rus_NA_gov_form_rep = 1 }
			set_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
			if = {
				limit = { tag = RVA }
				set_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_rep
			}
			if = {
				limit = {
					NOT = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } } }
				}
				set_temp_variable = { temp_all_rus_NA_gov_form_mon_compromise = global.all_rus_NA_gov_form_mon_compromise }
				divide_temp_variable = { temp_all_rus_NA_gov_form_mon_compromise = global.all_rus_NA_gov_form_mon }
				set_temp_variable = { temp_all_rus_NA_gov_form_rep_compromise = global.all_rus_NA_gov_form_rep_compromise }
				divide_temp_variable = { temp_all_rus_NA_gov_form_rep_compromise = global.all_rus_NA_gov_form_rep }
			}
			if = {
				limit = {
					NOT = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } } }
					check_variable = { temp_all_rus_NA_gov_form_mon_compromise > 0.5 }
				}
				set_global_flag = RCW_Allrussian_national_assembly_mon_compromise
			}
			if = {
				limit = {
					NOT = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } } }
					check_variable = { temp_all_rus_NA_gov_form_rep_compromise > 0.5 }
				}
				set_global_flag = RCW_Allrussian_national_assembly_rep_compromise
			}
			if = {
				limit = { NOT = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } } } }
				if = {
					limit = { check_variable = { global.all_rus_NA_gov_form_mon > global.all_rus_NA_gov_form_rep } }
					random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } set_global_flag = RCW_Allrussian_national_assembly_mon_wins country_event = { id = rcw_all_rus_NA.10 days = 1 } }
					else = {
						random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } set_global_flag = RCW_Allrussian_national_assembly_rep_wins country_event = { id = rcw_all_rus_NA.9 days = 1 } }
					}
				}
				clear_variable = global.all_rus_NA_members
				clear_variable = global.all_rus_NA_gov_form_mon
				clear_variable = global.all_rus_NA_gov_form_rep
				clear_variable = global.all_rus_NA_gov_form_mon_compromise
				clear_variable = global.all_rus_NA_gov_form_rep_compromise
			}
		}
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = rcw_all_rus_NA.6.b
		hidden_effect = {
			add_to_variable = { global.all_rus_NA_gov_form_rep = 1 }
			add_to_variable = { global.all_rus_NA_gov_form_rep_compromise = 1 }
			set_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
			if = {
				limit = { tag = RVA }
				set_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_rep
			}
			set_country_flag = RCW_Allrussian_national_assembly_vote_for_rep_compromise
			if = {
				limit = {
					NOT = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } } }
				}
				set_temp_variable = { temp_all_rus_NA_gov_form_mon_compromise = global.all_rus_NA_gov_form_mon_compromise }
				divide_temp_variable = { temp_all_rus_NA_gov_form_mon_compromise = global.all_rus_NA_gov_form_mon }
				set_temp_variable = { temp_all_rus_NA_gov_form_rep_compromise = global.all_rus_NA_gov_form_rep_compromise }
				divide_temp_variable = { temp_all_rus_NA_gov_form_rep_compromise = global.all_rus_NA_gov_form_rep }
			}
			if = {
				limit = {
					NOT = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } } }
					check_variable = { temp_all_rus_NA_gov_form_mon_compromise > 0.5 }
				}
				set_global_flag = RCW_Allrussian_national_assembly_mon_compromise
			}
			if = {
				limit = {
					NOT = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } } }
					check_variable = { temp_all_rus_NA_gov_form_rep_compromise > 0.5 }
				}
				set_global_flag = RCW_Allrussian_national_assembly_rep_compromise
			}
			if = {
				limit = { NOT = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } } } }
				if = {
					limit = { check_variable = { global.all_rus_NA_gov_form_mon > global.all_rus_NA_gov_form_rep } }
					random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } set_global_flag = RCW_Allrussian_national_assembly_mon_wins country_event = { id = rcw_all_rus_NA.10 days = 1 } }
					else = {
						random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } set_global_flag = RCW_Allrussian_national_assembly_rep_wins country_event = { id = rcw_all_rus_NA.9 days = 1 } }
					}
				}
				clear_variable = global.all_rus_NA_members
				clear_variable = global.all_rus_NA_gov_form_mon
				clear_variable = global.all_rus_NA_gov_form_rep
				clear_variable = global.all_rus_NA_gov_form_mon_compromise
				clear_variable = global.all_rus_NA_gov_form_rep_compromise
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}
# Тем не менее... (монархия)
country_event = {
	id = rcw_all_rus_NA.7
	title = rcw_all_rus_NA.6.t
	desc = rcw_all_rus_NA.7.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.6.a
		hidden_effect = {
			add_to_variable = { global.all_rus_NA_gov_form_mon = 1 }
			set_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
			if = {
				limit = { tag = RVA }
				set_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_mon
			}
			if = {
				limit = {
					NOT = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } } }
				}
				set_temp_variable = { temp_all_rus_NA_gov_form_mon_compromise = global.all_rus_NA_gov_form_mon_compromise }
				divide_temp_variable = { temp_all_rus_NA_gov_form_mon_compromise = global.all_rus_NA_gov_form_mon }
				set_temp_variable = { temp_all_rus_NA_gov_form_rep_compromise = global.all_rus_NA_gov_form_rep_compromise }
				divide_temp_variable = { temp_all_rus_NA_gov_form_rep_compromise = global.all_rus_NA_gov_form_rep }
			}
			if = {
				limit = {
					NOT = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } } }
					check_variable = { temp_all_rus_NA_gov_form_mon_compromise > 0.5 }
				}
				set_global_flag = RCW_Allrussian_national_assembly_mon_compromise
			}
			if = {
				limit = {
					NOT = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } } }
					check_variable = { temp_all_rus_NA_gov_form_rep_compromise > 0.5 }
				}
				set_global_flag = RCW_Allrussian_national_assembly_rep_compromise
			}
			if = {
				limit = { NOT = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } } } }
				if = {
					limit = { check_variable = { global.all_rus_NA_gov_form_mon > global.all_rus_NA_gov_form_rep } }
					random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } set_global_flag = RCW_Allrussian_national_assembly_mon_wins country_event = { id = rcw_all_rus_NA.10 days = 1 } }
					else = {
						random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } set_global_flag = RCW_Allrussian_national_assembly_rep_wins country_event = { id = rcw_all_rus_NA.9 days = 1 } }
					}
				}
				clear_variable = global.all_rus_NA_members
				clear_variable = global.all_rus_NA_gov_form_mon
				clear_variable = global.all_rus_NA_gov_form_rep
				clear_variable = global.all_rus_NA_gov_form_mon_compromise
				clear_variable = global.all_rus_NA_gov_form_rep_compromise
			}
		}
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = rcw_all_rus_NA.6.b
		hidden_effect = {
			add_to_variable = { global.all_rus_NA_gov_form_mon = 1 }
			add_to_variable = { global.all_rus_NA_gov_form_mon_compromise = 1 }
			set_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
			if = {
				limit = { tag = RVA }
				set_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_mon
			}
			set_country_flag = RCW_Allrussian_national_assembly_vote_for_mon_compromise
			if = {
				limit = {
					NOT = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } } }
				}
				set_temp_variable = { temp_all_rus_NA_gov_form_mon_compromise = global.all_rus_NA_gov_form_mon_compromise }
				divide_temp_variable = { temp_all_rus_NA_gov_form_mon_compromise = global.all_rus_NA_gov_form_mon }
				set_temp_variable = { temp_all_rus_NA_gov_form_rep_compromise = global.all_rus_NA_gov_form_rep_compromise }
				divide_temp_variable = { temp_all_rus_NA_gov_form_rep_compromise = global.all_rus_NA_gov_form_rep }
			}
			if = {
				limit = {
					NOT = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } } }
					check_variable = { temp_all_rus_NA_gov_form_mon_compromise > 0.5 }
				}
				set_global_flag = RCW_Allrussian_national_assembly_mon_compromise
			}
			if = {
				limit = {
					NOT = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } } }
					check_variable = { temp_all_rus_NA_gov_form_rep_compromise > 0.5 }
				}
				set_global_flag = RCW_Allrussian_national_assembly_rep_compromise
			}
			if = {
				limit = { NOT = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } } } }
				if = {
					limit = { check_variable = { global.all_rus_NA_gov_form_mon > global.all_rus_NA_gov_form_rep } }
					random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } set_global_flag = RCW_Allrussian_national_assembly_mon_wins country_event = { id = rcw_all_rus_NA.10 days = 1 } }
					else = {
						random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } set_global_flag = RCW_Allrussian_national_assembly_rep_wins country_event = { id = rcw_all_rus_NA.9 days = 1 } }
					}
				}
				clear_variable = global.all_rus_NA_members
				clear_variable = global.all_rus_NA_gov_form_mon
				clear_variable = global.all_rus_NA_gov_form_rep
				clear_variable = global.all_rus_NA_gov_form_mon_compromise
				clear_variable = global.all_rus_NA_gov_form_rep_compromise
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Республика победила, уведомление организатора
country_event = {
	id = rcw_all_rus_NA.9
	title = rcw_all_rus_NA.9.t
	desc = {
		text = rcw_all_rus_NA.9.desc
		trigger = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep }
	}
	desc = {
		text = rcw_all_rus_NA.9.desc_1
		trigger = { NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep } }
	}
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = { # Такова воля народа!
		name = rcw_all_rus_NA.9.a
		#clr_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
		#clr_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
		every_other_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_member }
			country_event = { id = rcw_all_rus_NA.11 days = 7 random = 48 }
		}
		set_country_flag = RCW_Allrussian_national_assembly_rep_formaly_wins
		hidden_effect = { country_event = { id = rcw_all_rus_NA.23 days = 16 } }
	}
	option = { # Подложить результаты голосования
		trigger = {
			NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep }
		}
		name = rcw_all_rus_NA.9.b
		#clr_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
		#clr_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
		every_other_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_member }
			country_event = { id = rcw_all_rus_NA.12 days = 7 random = 48 }
		}
		set_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins
		hidden_effect = { country_event = { id = rcw_all_rus_NA.23 days = 16 } }
	}
}
# Монархия победила, уведомление организатора
country_event = {
	id = rcw_all_rus_NA.10
	title = rcw_all_rus_NA.10.t
	desc = {
		text = rcw_all_rus_NA.10.desc
		trigger = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon }
	}
	desc = {
		text = rcw_all_rus_NA.10.desc_1
		trigger = { NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } }
	}
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = { # Такова воля... народа.
		name = rcw_all_rus_NA.10.a
		#clr_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
		#clr_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
		every_other_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_member }
			country_event = { id = rcw_all_rus_NA.12 days = 1 random = 48 }
		}
		set_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins
	}
	option = { # Подложить результаты голосования
		trigger = {
			NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon }
		}
		name = rcw_all_rus_NA.10.b
		#clr_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
		#clr_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
		every_other_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_member }
			country_event = { id = rcw_all_rus_NA.11 days = 1 random = 48 }
		}
		set_country_flag = RCW_Allrussian_national_assembly_rep_formaly_wins
	}
}

# Выбрали республику
country_event = {
	id = rcw_all_rus_NA.11
	title = rcw_all_rus_NA.9.t
	desc = rcw_all_rus_NA.9.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.9.a
		#clr_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
		#clr_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
		set_country_flag = RCW_Allrussian_national_assembly_rep_formaly_wins
		if = {
			limit = { NOT = { any_other_country = { has_country_flag = RCW_Allrussian_national_assembly_member has_country_flag = RCW_Allrussian_national_assembly_revolt } } }
			FROM = { hidden_effect = { country_event = { id = rcw_all_rus_NA.23 days = 1 } } }
		}
		ai_chance = {
			factor = 2
			modifier = {
				factor = 0
				FROM = { has_global_flag = RCW_Allrussian_national_assembly_mon_wins }
			}
			modifier = {
				factor = 0
				any_other_country = { has_country_flag = RCW_Allrussian_national_assembly_revolt }
			}
		}
	}
	option = {
		trigger = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon NOT = { has_country_flag = RCW_Allrussian_national_assembly_leader } }
		name = rcw_all_rus_NA.11.b # Мы требуем пересмотра результатов здесь и сейчас! # Результаты голосования подложны! Мы вновь возьмёмся за оружие!
		#clr_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
		#clr_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
		set_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins
		set_country_flag = RCW_Allrussian_national_assembly_revolt
		OVERLORD = { end_puppet = ROOT }
		leave_faction = yes
		if = {
			limit = { NOT = { any_other_country = { has_country_flag = RCW_Allrussian_national_assembly_revolt } } }
			#random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } country_event = { id = rcw_all_rus_NA.21 days = 14 } } # начало гражданки против монархистов
			every_other_country = {
				limit = { OR = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep AND = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon has_country_flag = RCW_Allrussian_national_assembly_rep_formaly_wins } } }
				set_country_flag = all_rus_NA_protest
				country_event = { id = rcw_all_rus_NA.13 days = 14 }
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 999
				any_other_country = { has_country_flag = RCW_Allrussian_national_assembly_revolt }
			}
		}
	}
}
# Выбрали монархию
country_event = {
	id = rcw_all_rus_NA.12
	title = rcw_all_rus_NA.10.t
	desc = rcw_all_rus_NA.10.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.10.a
		#clr_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
		#clr_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
		set_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins
		if = {
			limit = { NOT = { any_other_country = { has_country_flag = RCW_Allrussian_national_assembly_member has_country_flag = RCW_Allrussian_national_assembly_revolt } } }
			FROM = { hidden_effect = { country_event = { id = rcw_all_rus_NA.23 days = 1 } } }
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		trigger = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep NOT = { has_country_flag = RCW_Allrussian_national_assembly_leader } }
		name = rcw_all_rus_NA.12.b # Мы требуем пересмотра результатов здесь и сейчас! # Результаты голосования подложны! Мы вновь возьмёмся за оружие!
		#clr_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
		#clr_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
		set_country_flag = RCW_Allrussian_national_assembly_rep_formaly_wins
		set_country_flag = RCW_Allrussian_national_assembly_revolt
		OVERLORD = { end_puppet = ROOT }
		leave_faction = yes
		if = {
			limit = { NOT = { any_other_country = { has_country_flag = RCW_Allrussian_national_assembly_revolt } } }
			#random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } country_event = { id = rcw_all_rus_NA.22 days = 14 } } # начало гражданки против республиканцев
			every_other_country = {
				limit = { OR = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon AND = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins } } }
				set_country_flag = all_rus_NA_protest
				country_event = { id = rcw_all_rus_NA.14 days = 14 }
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}
# Принципиальный протест (монархистов)
country_event = {
	id = rcw_all_rus_NA.13
	title = rcw_all_rus_NA.13.t
	desc = rcw_all_rus_NA.13.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			set_variable = { global.RCW_NA_strenght_summa = 0 }
			set_variable = { global.RCW_NA_strenght_of_opposition = 0 }
			every_country = {
				limit = { OR = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } }
				add_to_variable = { global.RCW_NA_strenght_summa = num_battalions }
			}
			every_country = {
				limit = { has_country_flag = RCW_Allrussian_national_assembly_revolt }
				add_to_variable = { global.RCW_NA_strenght_of_opposition = num_battalions }
			}
			multiply_variable = { global.RCW_NA_strenght_of_opposition = 2.7 }
		}
		every_country = {
			limit = { NOT = { has_country_flag = RCW_Allrussian_national_assembly_revolt } OR = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } }
			custom_effect_tooltip = rcw_all_rus_NA_13_tt_loyal
		}
		every_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_revolt }
			custom_effect_tooltip = rcw_all_rus_NA_13_tt_revolters
		}
	}
	
	option = {
		trigger = {
			NOT = {
				has_government = radical_socialism
				has_government = communism
				has_government = authoritarism
			}
			check_variable = { global.RCW_NA_strenght_of_opposition > global.RCW_NA_strenght_summa }
		}
		name = rcw_all_rus_NA.13.a #Для возрождения России мы смиримся с любым строем
		add_to_variable = { global.all_rus_NA_protest_compromiss = 1 }
		set_country_flag = all_rus_NA_protest_compromiss
		if = {
			limit = { NOT = { any_country = { has_country_flag = all_rus_NA_protest NOT = { has_country_flag = all_rus_NA_protest_compromiss has_country_flag = all_rus_NA_protest_dont_compromiss } } } }
			if = {
				limit = { check_variable = { global.all_rus_NA_protest_compromiss > global.all_rus_NA_protest_dont_compromiss } }
				random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } country_event = { id = rcw_all_rus_NA.15 days = 2 } } # Компромиссная победа монархистов
				else = {
					random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } country_event = { id = rcw_all_rus_NA.21 days = 2 } } # начало гражданки против монархистов
				}
			}
			clear_variable = global.all_rus_NA_protest_compromiss
			clear_variable = global.all_rus_NA_protest_dont_compromiss
			every_country = {
				clr_country_flag = all_rus_NA_protest
				clr_country_flag = all_rus_NA_protest_compromiss
				clr_country_flag = all_rus_NA_protest_dont_compromiss
			}
		}
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = rcw_all_rus_NA.13.b #Никакого компромисса здесь быть не может
		add_to_variable = { global.all_rus_NA_protest_dont_compromiss = 1 }
		set_country_flag = all_rus_NA_protest_dont_compromiss
		if = {
			limit = { NOT = { any_country = { has_country_flag = all_rus_NA_protest NOT = { has_country_flag = all_rus_NA_protest_compromiss has_country_flag = all_rus_NA_protest_dont_compromiss } } } }
			if = {
				limit = { check_variable = { global.all_rus_NA_protest_compromiss > global.all_rus_NA_protest_dont_compromiss } }
				random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } country_event = { id = rcw_all_rus_NA.15 days = 2 } } # Компромиссная победа монархистов
				else = {
					random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } country_event = { id = rcw_all_rus_NA.21 days = 2 } } # начало гражданки против монархистов
				}
			}
			clear_variable = global.all_rus_NA_protest_compromiss
			clear_variable = global.all_rus_NA_protest_dont_compromiss
			every_country = {
				clr_country_flag = all_rus_NA_protest
				clr_country_flag = all_rus_NA_protest_compromiss
				clr_country_flag = all_rus_NA_protest_dont_compromiss
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
			}
		}
	}
}
# Принципиальный протест (республиканцев)
country_event = {
	id = rcw_all_rus_NA.14
	title = rcw_all_rus_NA.13.t
	desc = rcw_all_rus_NA.13.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			set_variable = { global.RCW_NA_strenght_summa = 0 }
			set_variable = { global.RCW_NA_strenght_of_opposition = 0 }
			every_country = {
				limit = { OR = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } }
				add_to_variable = { global.RCW_NA_strenght_summa = num_battalions }
			}
			every_country = {
				limit = { has_country_flag = RCW_Allrussian_national_assembly_revolt }
				add_to_variable = { global.RCW_NA_strenght_of_opposition = num_battalions }
			}
			multiply_variable = { global.RCW_NA_strenght_of_opposition = 2.7 }
		}
		every_country = {
			limit = { NOT = { has_country_flag = RCW_Allrussian_national_assembly_revolt } OR = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } }
			custom_effect_tooltip = rcw_all_rus_NA_13_tt_loyal
		}
		every_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_revolt }
			custom_effect_tooltip = rcw_all_rus_NA_13_tt_revolters
		}
	}
	
	option = {
		trigger = {
			NOT = {
				has_government = radical_socialism
				has_government = communism
				has_government = authoritarism
			}
			check_variable = { global.RCW_NA_strenght_of_opposition > global.RCW_NA_strenght_summa }
		}
		name = rcw_all_rus_NA.13.a #Для возрождения России мы смиримся с любым строем
		add_to_variable = { global.all_rus_NA_protest_compromiss = 1 }
		set_country_flag = all_rus_NA_protest_compromiss
		if = {
			limit = { NOT = { any_country = { has_country_flag = all_rus_NA_protest NOT = { has_country_flag = all_rus_NA_protest_compromiss has_country_flag = all_rus_NA_protest_dont_compromiss } } } }
			if = {
				limit = { check_variable = { global.all_rus_NA_protest_compromiss > global.all_rus_NA_protest_dont_compromiss } }
				random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } country_event = { id = rcw_all_rus_NA.16 days = 2 } } # Компромиссная победа республиканцев
				else = {
					random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } country_event = { id = rcw_all_rus_NA.22 days = 2 } } # начало гражданки против республиканцев
				}
			}
			clear_variable = global.all_rus_NA_protest_compromiss
			clear_variable = global.all_rus_NA_protest_dont_compromiss
			every_country = {
				clr_country_flag = all_rus_NA_protest
				clr_country_flag = all_rus_NA_protest_compromiss
				clr_country_flag = all_rus_NA_protest_dont_compromiss
			}
		}
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = rcw_all_rus_NA.13.b #Никакого компромисса здесь быть не может
		add_to_variable = { global.all_rus_NA_protest_dont_compromiss = 1 }
		set_country_flag = all_rus_NA_protest_dont_compromiss
		if = {
			limit = { NOT = { any_country = { has_country_flag = all_rus_NA_protest NOT = { has_country_flag = all_rus_NA_protest_compromiss has_country_flag = all_rus_NA_protest_dont_compromiss } } } }
			if = {
				limit = { check_variable = { global.all_rus_NA_protest_compromiss > global.all_rus_NA_protest_dont_compromiss } }
				random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } country_event = { id = rcw_all_rus_NA.16 days = 2 } } # Компромиссная победа республиканцев
				else = {
					random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } country_event = { id = rcw_all_rus_NA.22 days = 2 } } # начало гражданки против республиканцев
				}
			}
			clear_variable = global.all_rus_NA_protest_compromiss
			clear_variable = global.all_rus_NA_protest_dont_compromiss
			every_country = {
				clr_country_flag = all_rus_NA_protest
				clr_country_flag = all_rus_NA_protest_compromiss
				clr_country_flag = all_rus_NA_protest_dont_compromiss
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
			}
		}
	}
}
# Финальные результаты (компромиссная победа монархистов)
country_event = {
	id = rcw_all_rus_NA.15
	title = rcw_all_rus_NA.15.t
	desc = rcw_all_rus_NA.15.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.15.a
		clear_variable = global.RCW_NA_strenght_summa
		clear_variable = global.RCW_NA_strenght_of_opposition
		clr_country_flag = RCW_Allrussian_national_assembly_rep_formaly_wins
		set_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins
		every_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_revolt }
			clr_country_flag = RCW_Allrussian_national_assembly_revolt
		}
		hidden_effect = { country_event = rcw_all_rus_NA.23 }
	}
}
# Финальные результаты (компромиссная победа республиканцев)
country_event = {
	id = rcw_all_rus_NA.16
	title = rcw_all_rus_NA.15.t
	desc = rcw_all_rus_NA.16.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.15.a
		clear_variable = global.RCW_NA_strenght_summa
		clear_variable = global.RCW_NA_strenght_of_opposition
		clr_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins
		set_country_flag = RCW_Allrussian_national_assembly_rep_formaly_wins
		every_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_revolt }
			clr_country_flag = RCW_Allrussian_national_assembly_revolt
		}
		hidden_effect = { country_event = rcw_all_rus_NA.23 }
	}
}


# Гражданка против монархистов ("Провал совещания")
country_event = {
	id = rcw_all_rus_NA.21
	title = rcw_all_rus_NA.21.t
	desc = rcw_all_rus_NA.21.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.21.a
		hidden_effect = {
			clr_global_flag = RCW_Allrussian_national_assembly_rep_compromise
			#clr_global_flag = RCW_Allrussian_national_assembly_mon_compromise
		}
		every_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_member }
			leave_faction = yes
			dismantle_faction = yes
		}
		create_faction = republican_front
		clr_country_flag = RCW_Allrussian_national_assembly_member
		set_country_flag = RCW_Allrussian_national_assembly_loyal
		every_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { tag = ROOT } }
			clr_country_flag = RCW_Allrussian_national_assembly_member
			set_country_flag = RCW_Allrussian_national_assembly_loyal
			ROOT = { add_to_faction = PREV }
		}
		random_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_revolt }
			save_global_event_target_as = main_revolter
		}
		event_target:main_revolter = {
			create_faction = white_union
			clr_country_flag = RCW_Allrussian_national_assembly_revolt
			set_country_flag = RCW_Allrussian_national_assembly_disloyal
		}
		every_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_revolt NOT = { tag = event_target:main_revolter } }
			clr_country_flag = RCW_Allrussian_national_assembly_revolt
			set_country_flag = RCW_Allrussian_national_assembly_disloyal
			event_target:main_revolter = { add_to_faction = PREV }
		}
		every_country = {
			limit = { OR = { tag = ROOT is_in_faction_with = ROOT } NOT = { has_war_with = ROOT } }
			diplomatic_relation = {
				country = event_target:main_revolter
				relation = non_aggression_pact
				active = no
			}
			declare_war_on = { target = event_target:main_revolter type = annex_everything }
			every_country = {
				limit = { is_in_faction_with = event_target:main_revolter NOT = { has_war_with = PREV } }
				PREV = {
					diplomatic_relation = {
						country = PREV
						relation = non_aggression_pact
						active = no
					}
				}
				PREV = { declare_war_on = { target = PREV type = annex_everything } }
			}
		}
		every_country = {
			limit = { is_former_russian_empire_russian_country = yes NOT = { tag = ROOT } NOT = { has_war_with = ROOT } }
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
				active = no
			}
			ROOT = {
				diplomatic_relation = {
					country = PREV
					relation = non_aggression_pact
					active = no
				}
				create_wargoal = {
					type = annex_everything
					target = PREV
				}
			}
		}
		if = {
			limit = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_disloyal check_variable = { num_battalions > event_target:main_revolter.num_battalions } } }
			event_target:main_revolter = { leave_faction = yes }
			random_country = {
				limit = { has_country_flag = RCW_Allrussian_national_assembly_disloyal is_faction_leader = yes }
				add_to_faction = event_target:main_revolter
				every_country = {
					limit = { is_former_russian_empire_russian_country = yes NOT = { tag = PREV } NOT = { has_war_with = PREV } }
					diplomatic_relation = {
						country = PREV
						relation = non_aggression_pact
						active = no
					}
					PREV = {
						diplomatic_relation = {
							country = PREV
							relation = non_aggression_pact
							active = no
						}
						create_wargoal = {
							type = annex_everything
							target = PREV
						}
					}
				}
			}
		}
		clear_global_event_target = main_revolter
		hidden_effect = { news_event = { id = news_n.27 hours = 48 } }
	}
}
# Гражданка против республиканцев ("Провал совещания")
country_event = {
	id = rcw_all_rus_NA.22
	title = rcw_all_rus_NA.21.t
	desc = rcw_all_rus_NA.21.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.21.a
		hidden_effect = {
			clr_global_flag = RCW_Allrussian_national_assembly_rep_compromise
			#clr_global_flag = RCW_Allrussian_national_assembly_mon_compromise
		}
		every_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_member }
			leave_faction = yes
			dismantle_faction = yes
		}
		create_faction = white_union
		clr_country_flag = RCW_Allrussian_national_assembly_member
		set_country_flag = RCW_Allrussian_national_assembly_loyal
		every_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { tag = ROOT } }
			clr_country_flag = RCW_Allrussian_national_assembly_member
			set_country_flag = RCW_Allrussian_national_assembly_loyal
			ROOT = { add_to_faction = PREV }
		}
		random_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_revolt }
			save_global_event_target_as = main_revolter
		}
		event_target:main_revolter = {
			create_faction = republican_front
			clr_country_flag = RCW_Allrussian_national_assembly_revolt
			set_country_flag = RCW_Allrussian_national_assembly_disloyal
		}
		every_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_revolt NOT = { tag = event_target:main_revolter } }
			clr_country_flag = RCW_Allrussian_national_assembly_revolt
			set_country_flag = RCW_Allrussian_national_assembly_disloyal
			event_target:main_revolter = { add_to_faction = PREV }
		}
		every_country = {
			limit = { OR = { tag = ROOT is_in_faction_with = ROOT } NOT = { has_war_with = ROOT } }
			diplomatic_relation = {
				country = event_target:main_revolter
				relation = non_aggression_pact
				active = no
			}
			declare_war_on = { target = event_target:main_revolter type = annex_everything }
			every_country = {
				limit = { is_in_faction_with = event_target:main_revolter NOT = { has_war_with = PREV } }
				PREV = {
					diplomatic_relation = {
						country = PREV
						relation = non_aggression_pact
						active = no
					}
				}
				PREV = { declare_war_on = { target = PREV type = annex_everything } }
			}
		}
		every_country = {
			limit = { is_former_russian_empire_russian_country = yes NOT = { tag = ROOT } NOT = { has_war_with = ROOT } }
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
				active = no
			}
			ROOT = {
				diplomatic_relation = {
					country = PREV
					relation = non_aggression_pact
					active = no
				}
				create_wargoal = {
					type = annex_everything
					target = PREV
				}
			}
		}
		if = {
			limit = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_disloyal check_variable = { num_battalions > event_target:main_revolter.num_battalions } } }
			event_target:main_revolter = { leave_faction = yes }
			random_country = {
				limit = { has_country_flag = RCW_Allrussian_national_assembly_disloyal is_faction_leader = yes }
				add_to_faction = event_target:main_revolter
				every_country = {
					limit = { is_former_russian_empire_russian_country = yes NOT = { tag = PREV } NOT = { has_war_with = PREV } }
					diplomatic_relation = {
						country = PREV
						relation = non_aggression_pact
						active = no
					}
					PREV = {
						diplomatic_relation = {
							country = PREV
							relation = non_aggression_pact
							active = no
						}
						create_wargoal = {
							type = annex_everything
							target = PREV
						}
					}
				}
			}
		}
		clear_global_event_target = main_revolter
		hidden_effect = { news_event = { id = news_n.27 hours = 48 } }
	}
}

# Конец всего
country_event = {
	id = rcw_all_rus_NA.23
	title = rcw_all_rus_NA.23.t
	desc = rcw_all_rus_NA.23.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	trigger = {
		NOT = { any_other_country = { has_country_flag = RCW_Allrussian_national_assembly_disloyal exists = yes } }
		NOT = { any_other_country = { has_country_flag = RCW_Allrussian_national_assembly_revolt exists = yes } }
		has_global_flag = RCW_Allrussian_national_assembly
	}
	
	is_triggered_only = yes
	
	hidden = yes
	
	#immediate = { clr_global_flag = RCW_Allrussian_national_assembly }
	
	option = {
		name = rcw_all_rus_NA.23.a
		every_other_country = {
			limit = {
				is_former_russian_empire_russian_country = yes
				OR = { has_country_flag = RCW_Allrussian_national_assembly_member has_country_flag = RCW_Allrussian_national_assembly_loyal has_country_flag = RCW_Allrussian_national_assembly_disloyal }
			}
			every_unit_leader = { set_nationality = ROOT }
			ROOT = { annex_country = { target = PREV transfer_troops = yes } }
		}
		every_country = {
			limit = {
				OR = {
					has_country_flag = RCW_Allrussian_national_assembly_leader
					has_country_flag = RCW_Allrussian_national_assembly_loyal
					has_country_flag = RCW_Allrussian_national_assembly_disloyal
					has_country_flag = RCW_Allrussian_national_assembly_member
				}
			}
			clr_country_flag = RCW_Allrussian_national_assembly_leader
			clr_country_flag = RCW_Allrussian_national_assembly_loyal
			clr_country_flag = RCW_Allrussian_national_assembly_disloyal
			clr_country_flag = RCW_Allrussian_national_assembly_member
			clr_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_rep
			clr_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_mon
			clr_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_rep_compromise
			clr_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_mon_compromise
		}
		clr_country_flag = RCW_Allrussian_national_assembly_member
		clr_global_flag = RCW_Allrussian_national_assembly_rep_wins
		clr_global_flag = RCW_Allrussian_national_assembly_mon_wins
		dismantle_faction = yes
		if = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins has_global_flag = RCW_Allrussian_national_assembly_rep_compromise has_global_flag = RCW_Allrussian_national_assembly_mon_compromise }
			set_cosmetic_tag = RUS_MONARCHY
			add_ideas = limited_monarchy_gov_form
			country_event = { id = rcw_all_rus_NA.33 days = 1 }
			news_event = { id = news_n.36 days = 1 }
		}
		else_if = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins has_global_flag = RCW_Allrussian_national_assembly_mon_compromise }
			country_event = { id = rcw_all_rus_NA.32 days = 1 }
			news_event = { id = news_n.36 days = 1 }
		}
		else_if = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins }
			set_cosmetic_tag = RUS_MONARCHY
			country_event = { id = rcw_all_rus_NA.34 days = 1 }
			news_event = { id = news_n.36 days = 1 }
		}
		else = {
			set_cosmetic_tag = CCA_russian_federation
			add_ideas = presidential_republic_gov_form
			news_event = { id = news_n.35 days = 1 }
		}
		clr_country_flag = RCW_Allrussian_national_assembly_rep_formaly_wins
		clr_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins
		clr_global_flag = RCW_Allrussian_national_assembly_rep_compromise
		clr_global_flag = RCW_Allrussian_national_assembly_mon_compromise
		every_other_country = {
			limit = { is_any_former_russian_empire_country = yes is_subject = no NOT = { has_war_with = ROOT } }
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
				active = no
			}
			ROOT = {
				diplomatic_relation = {
					country = PREV
					relation = non_aggression_pact
					active = no
				}
				create_wargoal = {
					type = annex_everything
					target = PREV
				}
			}
		}
			every_state = {
				limit = { is_core_of = CCA NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { CCA = { exists = no } }
					remove_core_of = CCA
				}
			}
			if = {
				limit = {
					SIB = {
						NOT = { has_country_flag = SIB_want_to_be_autonomous }
						NOT = { has_global_flag = RUS_civil_war_reds_n_Siberia_peace }
					}
				}
				every_state = {
					limit = { is_core_of = SIB NOT = { is_core_of = ROOT } }
					add_core_of = ROOT
					if = {
						limit = { SIB = { exists = no } }
						remove_core_of = SIB
					}
				}
			}
			every_state = {
				limit = { is_core_of = RVA NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { RVA = { exists = no } }
					remove_core_of = RVA
				}
			}
			every_state = {
				limit = { is_core_of = PREV NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { PREV = { exists = no } }
					remove_core_of = PREV
				}
			}
			every_state = {
				limit = { is_core_of = RSS NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { RSS = { exists = no } }
					remove_core_of = RSS
				}
			}
			if = {
				limit = {
					NWA = { NOT = { has_cosmetic_tag = NWA_BLT } }
				}
				every_state = {
					limit = { is_core_of = NWA NOT = { is_core_of = ROOT } }
					add_core_of = ROOT
					if = {
						limit = { NWA = { exists = no } }
						remove_core_of = NWA
					}
				}
			}
			every_state = {
				limit = { is_core_of = RGR NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { RGR = { exists = no } }
					remove_core_of = RGR
				}
			}
			every_state = {
				limit = { is_core_of = MCW NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { MCW = { exists = no } }
					remove_core_of = MCW
				}
			}
			every_state = {
				limit = { is_core_of = YAR NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { YAR = { exists = no } }
					remove_core_of = YAR
				}
			}
			every_state = {
				limit = { is_core_of = NVA NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { NVA = { exists = no } }
					remove_core_of = NVA
				}
			}
			every_state = {
				limit = { is_core_of = RUS NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
			}
			transfer_state = 219
			add_state_core = 219
			set_capital = { state = 219 remember_old_capital = no }
	}
}


# Выбор монарха (Законный монарх)
country_event = {
	id = rcw_all_rus_NA.24
	title = rcw_all_rus_NA.24.t
	desc = rcw_all_rus_NA.24.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	
	option = {
		name = rcw_all_rus_NA.24.a
		trigger = { NOT = { RUS = { has_country_flag = Nikolay_Alexandrovich_Romanov_dead } } }
		ai_chance = {
			factor = 4
		}
		if = {
			limit = { has_idea = absolute_monarchy_gov_form }
			set_politics = { ruling_party = authoritarism elections_allowed = no }
			add_popularity = { ideology = authoritarism popularity = 0.05 }
		}
		if = {
			limit = { has_idea = absolute_monarchy_gov_form NOT = { has_country_leader = { name = "Nikolay II Romanov" ruling_only = yes } } }
			create_country_leader = { name = "Nikolay II Romanov" desc = RUS_Nikolay_II_DESC picture = "gfx/leaders/RUS/Portrait_Nikolay_II_Romanov.dds" expire = "1935.1.1" ideology = monarchism traits = { inexperienced_imperialist weak_character } }
		}
		if = {
			limit = { NOT = { has_idea = absolute_monarchy_gov_form } NOT = { has_country_leader = { name = "Nikolay II Romanov" ruling_only = yes } } }
			add_ideas = RUS_Nikolay_II_idea
		}
		add_ideas = decrees_of_ruler_b_law
	}
	
	option = {
		name = rcw_all_rus_NA.24.b
		trigger = { NOT = { RUS = { has_country_flag = Mikhail_Alexandrovich_Romanov_dead } } }
		ai_chance = {
			factor = 1
		}
		if = {
			limit = { has_idea = absolute_monarchy_gov_form }
			set_politics = { ruling_party = authoritarism elections_allowed = no }
			add_popularity = { ideology = authoritarism popularity = 0.05 }
		}
		if = {
			limit = { has_idea = absolute_monarchy_gov_form NOT = { has_country_leader = { name = "Mikhail II Romanov" ruling_only = yes } has_country_leader = { name = "Mikhail Alexandrovich Romanov" ruling_only = yes } } }
			create_country_leader = { name = "Mikhail II Romanov" desc = RUS_Mikhail_Romanov_DESC picture = "gfx/leaders/RUS/Portrait_Mikhail_Romanov.dds" ideology = monarchism traits = { inexperienced_imperialist } }
			else = { add_ideas = RUS_Mikhail_II_idea }
		}
		add_ideas = decrees_of_ruler_b_law
	}
	option = {
		name = rcw_all_rus_NA.24.c
		trigger = { NOT = { RUS = { has_country_flag = Nikolay_Nikolayevich_Romanov_dead } } }
		ai_chance = {
			factor = 1
		}
		if = {
			limit = { has_idea = absolute_monarchy_gov_form }
			set_politics = { ruling_party = authoritarism elections_allowed = no }
			add_popularity = { ideology = authoritarism popularity = 0.05 }
		}
		if = {
			limit = { has_idea = absolute_monarchy_gov_form NOT = { has_country_leader = { name = "Nikolay III Romanov" ruling_only = yes } } }
			create_country_leader = {
				name = "Nikolay III Romanov"
				desc = RUS_Nikolay_Nikolaevich_Romanov_DESC
				picture = "gfx/leaders/RUS/Portrait_Grand_duke_Nikolay_Nikolaevich.dds"
				ideology = monarchism
				traits = { inexperienced_imperialist great_war_hero }
			}
		}
		if = {
			limit = { NOT = { has_idea = absolute_monarchy_gov_form } NOT = { has_country_leader = { name = "Nikolay III Romanov" ruling_only = yes } } }
			add_ideas = RUS_Nikolay_III_idea
		}
		add_ideas = decrees_of_ruler_b_law
	}
	option = {
		name = rcw_all_rus_NA.24.d
		trigger = { NOT = { RUS = { has_country_flag = Kirill_Vladimirovich_Romanov_dead } } }
		ai_chance = {
			factor = 1
		}
		if = {
			limit = { has_idea = absolute_monarchy_gov_form }
			set_politics = { ruling_party = authoritarism elections_allowed = no }
			add_popularity = { ideology = authoritarism popularity = 0.05 }
		}
		if = {
			limit = { has_idea = absolute_monarchy_gov_form NOT = { has_country_leader = { name = "Kirill I Romanov" ruling_only = yes } has_country_leader = { name = "Kirill Vladimirovich Romanov" ruling_only = yes } } }
			create_country_leader = { name = "Kirill I Romanov" desc = RUS_Kirill_Vladimirovich_Romanov_DESC picture = "gfx/leaders/RUS/Portrait_Kirill_Vladimirovich.dds" ideology = monarchism traits = { rouge_pretender inexperienced_imperialist } }
		}
		if = {
			limit = { NOT = { has_idea = absolute_monarchy_gov_form } NOT = { has_country_leader = { name = "Kirill I Romanov" ruling_only = yes } has_country_leader = { name = "Kirill Vladimirovich Romanov" ruling_only = yes } } }
			add_ideas = RUS_Kirill_I_idea
		}
		add_ideas = decrees_of_ruler_b_law
	}
	option = {
		name = rcw_all_rus_NA.24.e
		trigger = { NOT = { RUS = { has_country_flag = Dmitriy_Pavlovich_Romanov_dead } } }
		ai_chance = {
			factor = 1
		}
		if = {
			limit = { has_idea = absolute_monarchy_gov_form }
			set_politics = { ruling_party = authoritarism elections_allowed = no }
			add_popularity = { ideology = authoritarism popularity = 0.05 }
		}
		if = {
			limit = { has_idea = absolute_monarchy_gov_form NOT = { has_country_leader = { name = "Dmitriy II Romanov" ruling_only = yes } } }
			create_country_leader = { name = "Dmitriy II Romanov" desc = "RUS_Dmitriy_Pavlovich_Romanov_DESC" picture = "gfx/leaders/RUS/Portrait_Dmitriy_Pavlovich_Romanov.dds" expire = "1941.3.5" ideology = monarchism traits = { inexperienced_monarch anti_democrat murder_of_Rasputin olympian_rider } }
		}
		if = {
			limit = { NOT = { has_idea = absolute_monarchy_gov_form } NOT = { has_country_leader = { name = "Dmitriy II Romanov" ruling_only = yes } } }
			add_ideas = RUS_Dmitriy_II_idea
		}
		add_ideas = decrees_of_ruler_b_law
	}
}


# Фракция выходит из войны
country_event = {
	id = rcw_all_rus_NA.25
	title = rcw_all_rus_NA.25.t
	desc = rcw_all_rus_NA.25.desc
	picture = GFX_report_event_rus_kazaks_war
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.25.a
		add_political_power = -15
	}
}
# Худой мир
country_event = {
	id = rcw_all_rus_NA.26
	title = rcw_all_rus_NA.26.t
	desc = rcw_all_rus_NA.26.desc
	picture = GFX_report_event_rus_kazaks_war
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.26.a
		add_war_support = -0.04
	}
}
# Долгожданный мир
country_event = {
	id = rcw_all_rus_NA.27
	title = rcw_all_rus_NA.27.t
	desc = rcw_all_rus_NA.27.desc
	picture = GFX_report_event_rus_kazaks_war
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.27.a
		set_country_flag = RCW_Allrussian_national_assembly_peace_deal
		if = {
			limit = {
				OR = {
					has_country_flag = RCW_Allrussian_national_assembly_loyal
					has_country_flag = RCW_Allrussian_national_assembly_disloyal
				}
			}
			clr_country_flag = RCW_Allrussian_national_assembly_loyal
			clr_country_flag = RCW_Allrussian_national_assembly_disloyal
			leave_faction = yes
		}
		every_other_country = {
			limit = {
				is_main_former_russian_empire_country = yes
				has_war_with = ROOT
			}
			every_owned_state = {
				limit = { CONTROLLER = { OR = { tag = ROOT is_subject_of = ROOT is_in_faction_with = ROOT } } }
				CONTROLLER = { transfer_state = PREV }
			}
			ROOT = {
				every_owned_state = {
					limit = { CONTROLLER = { OR = { tag = PREV.PREV is_subject_of = PREV.PREV is_in_faction_with = PREV.PREV } } }
					CONTROLLER = { transfer_state = PREV }
				}
			}
			white_peace = ROOT
		}
		add_ideas = spirit_of_independance_idea
	}
}
# Патовая ситуация
country_event = {
	id = rcw_all_rus_NA.28
	title = rcw_all_rus_NA.28.t
	desc = rcw_all_rus_NA.28.desc
	picture = GFX_report_event_stalemate
	
	trigger = {
		has_global_flag = RCW_Allrussian_national_assembly
		is_main_former_russian_empire_country = yes
		has_idea = russia_in_ruins_idea
		any_other_country = { is_main_former_russian_empire_country = yes has_war_with = ROOT }
	}
	
	mean_time_to_happen = {
		days = 1000
		modifier = {
			factor = 0.05
			NOT = { any_other_country = { is_main_former_russian_empire_country = yes has_war_with = ROOT is_neighbor_of = ROOT } }
			NOT = { any_other_country = { has_war_with = ROOT is_neighbor_of = ROOT any_other_country = { is_main_former_russian_empire_country = yes has_war_with = ROOT has_war_with = PREV is_neighbor_of = PREV } } }
		}
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw_all_rus_NA.28.a
		set_country_flag = RCW_Allrussian_national_assembly_peace_deal
		every_other_country = {
			limit = {
				is_main_former_russian_empire_country = yes
				has_war_with = ROOT
			}
			every_owned_state = {
				limit = { CONTROLLER = { OR = { tag = ROOT is_subject_of = ROOT is_in_faction_with = ROOT } } }
				CONTROLLER = { transfer_state = PREV }
			}
			ROOT = {
				every_owned_state = {
					limit = { CONTROLLER = { OR = { tag = PREV.PREV is_subject_of = PREV.PREV is_in_faction_with = PREV.PREV } } }
					CONTROLLER = { transfer_state = PREV }
				}
			}
			set_country_flag = RCW_Allrussian_national_assembly_peace_deal
			country_event = rcw_all_rus_NA.29
			white_peace = ROOT
		}
	}
}
# Патовая ситуация
country_event = {
	id = rcw_all_rus_NA.29
	title = rcw_all_rus_NA.28.t
	desc = rcw_all_rus_NA.28.desc
	picture = GFX_report_event_stalemate
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.28.a
	}
}

# Тревожная телеграмма (Сибирь)
country_event = {
	id = rcw_all_rus_NA.30
	title = rcw_all_rus_NA.30.t
	desc = rcw_all_rus_NA.30.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	trigger = {
		has_global_flag = RCW_Allrussian_national_assembly
		original_tag = SIB
		has_civil_war = no
		any_country = { OR = { has_country_flag = RCW_Allrussian_national_assembly_loyal has_country_flag = RCW_Allrussian_national_assembly_disloyal } has_war = yes }
		check_variable = { party_popularity@ruling_party < 0.3 }
		OR = {
			is_faction_leader = no
			NOT = { any_country = { OR = { has_country_flag = RCW_Allrussian_national_assembly_loyal has_country_flag = RCW_Allrussian_national_assembly_disloyal } has_war_with = ROOT } }
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_other_country = {
				limit = {
					is_faction_leader = yes
					OR = { has_country_flag = RCW_Allrussian_national_assembly_loyal has_country_flag = RCW_Allrussian_national_assembly_disloyal }
					OR = {
						controls_state = 219
						any_other_country = {
							is_in_faction_with = PREV
							controls_state = 219
						}
					}
				}
				save_global_event_target_as = Moscow_allience
			}
			random_other_country = {
				limit = {
					is_faction_leader = yes
					has_war_with = ROOT
					OR = { has_country_flag = RCW_Allrussian_national_assembly_loyal has_country_flag = RCW_Allrussian_national_assembly_disloyal }
				}
				save_global_event_target_as = hostile_allience
			}
			random_other_country = {
				limit = {
					is_faction_leader = yes
					has_war_with = event_target:hostile_allience
					OR = { has_country_flag = RCW_Allrussian_national_assembly_loyal has_country_flag = RCW_Allrussian_national_assembly_disloyal }
				}
				save_global_event_target_as = not_hostile_allience
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				is_in_faction = no
				has_war = no
			}
		}
		name = rcw_all_rus_NA.30.a
		leave_faction = yes
		event_target:Moscow_allience = {
			add_to_faction = ROOT
		}
		clear_global_event_target = Moscow_allience
		clear_global_event_target = not_hostile_allience
		clear_global_event_target = hostile_allience
	}
	option = {
		trigger = {
			NOT = { has_stability > 0.25 }
		}
		name = rcw_all_rus_NA.30.b
		leave_faction = yes
		every_unit_leader = { set_nationality = event_target:Moscow_allience }
		event_target:Moscow_allience = {
			annex_country = {
				target = ROOT
				transfer_troops = yes
			}
		}
		clear_global_event_target = Moscow_allience
		clear_global_event_target = not_hostile_allience
		clear_global_event_target = hostile_allience
	}
	option = {
		trigger = {
			OR = {
				AND = {
					has_stability > 0.25
					OR = {
						has_war = no
						is_in_faction = no
					}
					event_target:Moscow_allience = { NOT = { has_government = ROOT } }
				}
				AND = {
					has_war = yes
					is_in_faction = yes
				}
			}
		}
		name = rcw_all_rus_NA.30.c
		if = {
			limit = {
				OR = {
					has_war = no
					is_in_faction = no
				}
				event_target:Moscow_allience = { NOT = { has_government = ROOT } }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = radical_socialism } }
				set_temp_variable = { temp = party_popularity@radical_socialism }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = communism } }
				set_temp_variable = { temp = party_popularity@communism }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = social_democracy } }
				set_temp_variable = { temp = party_popularity@social_democracy }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = social_liberalism } }
				set_temp_variable = { temp = party_popularity@social_liberalism }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = market_liberalism } }
				set_temp_variable = { temp = party_popularity@market_liberalism }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = social_conservatism } }
				set_temp_variable = { temp = party_popularity@social_conservatism }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = authoritarism } }
				set_temp_variable = { temp = party_popularity@authoritarism }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = despotism } }
				set_temp_variable = { temp = party_popularity@despotism }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = fascism } }
				set_temp_variable = { temp = party_popularity@fascism }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = national_syndicalism } }
				set_temp_variable = { temp = party_popularity@national_syndicalism }
			}
			event_target:Moscow_allience = {
				ROOT = {
					start_civil_war = {
						ideology = PREV
						size = temp
					}
				}
			}
		}
		if = {
			limit = {
				has_war = yes
				is_in_faction = yes
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = radical_socialism } }
				set_temp_variable = { temp = party_popularity@radical_socialism }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = communism } }
				set_temp_variable = { temp = party_popularity@communism }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = social_democracy } }
				set_temp_variable = { temp = party_popularity@social_democracy }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = social_liberalism } }
				set_temp_variable = { temp = party_popularity@social_liberalism }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = market_liberalism } }
				set_temp_variable = { temp = party_popularity@market_liberalism }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = social_conservatism } }
				set_temp_variable = { temp = party_popularity@social_conservatism }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = authoritarism } }
				set_temp_variable = { temp = party_popularity@authoritarism }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = despotism } }
				set_temp_variable = { temp = party_popularity@despotism }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = fascism } }
				set_temp_variable = { temp = party_popularity@fascism }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = national_syndicalism } }
				set_temp_variable = { temp = party_popularity@national_syndicalism }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = ROOT } }
				event_target:not_hostile_allience = {
					ROOT = {
						set_politics ={
							ruling_party = PREV
						}
					}
				}
			}
			event_target:hostile_allience = {
				ROOT = {
					start_civil_war = {
						ideology = PREV
						size = temp
					}
				}
			}
			random_other_country = {
				limit = { original_tag = ROOT NOT = { tag = ROOT } }
				event_target:hostile_allience = {
					add_to_faction = PREV
				}
			}
		}
		clear_global_event_target = Moscow_allience
		clear_global_event_target = not_hostile_allience
		clear_global_event_target = hostile_allience
	}
}

# Собрание без нас
country_event = {
	id = rcw_all_rus_NA.31
	title = rcw_all_rus_NA.31.t
	desc = rcw_all_rus_NA.31.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	trigger = {
		has_capitulated = no
	}
	
	option = {
		name = rcw_all_rus_NA.31.a # Возмутительно! Нелегитимно!
		every_other_country = {
			limit = {
				is_subject_of = ROOT
				has_country_flag = RCW_Allrussian_national_assembly_member
			}
			ROOT = { end_puppet = PREV }
		}
		if = {
			limit = {
				is_faction_leader = yes
			}
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					has_country_flag = RCW_Allrussian_national_assembly_member
				}
				leave_faction = yes
			}
		}
		if = {
			limit = {
				is_subject = yes
				OVERLORD = {
					OR = {
						tag = FROM
						is_in_faction_with = FROM
						has_country_flag = RCW_Allrussian_national_assembly_member
					}
				}
			}
			OVERLORD = { end_puppet = ROOT }
		}
		if = {
			limit = {
				is_in_faction = yes
				is_faction_leader = no
				any_other_country = {
					is_faction_leader = yes
					any_country = {
						is_in_faction_with = PREV
						has_country_flag = RCW_Allrussian_national_assembly_member
					}
				}
			}
			leave_faction = yes
		}
		every_other_country = {
			limit = {
				OR = {
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
				is_former_russian_empire_russian_country = yes
			}
			ROOT = { end_puppet = PREV }
			leave_faction = yes
		}
		if = {
			limit = { is_main_former_russian_empire_country = yes }
			every_country = {
				limit = {
					OR = {
						tag = FROM
						is_in_faction_with = FROM
						is_subject_of = FROM
						has_country_flag = RCW_Allrussian_national_assembly_member
						is_main_former_russian_empire_country = yes
					}
					NOT = { is_subject_of = ROOT is_in_faction_with = ROOT }
					NOT = { has_war_with = ROOT }
				}
				diplomatic_relation = {
					country = ROOT
					relation = non_aggression_pact
					active = no
				}
				ROOT = {
					diplomatic_relation = {
						country = PREV
						relation = non_aggression_pact
						active = no
					}
					declare_war_on = { target = PREV type = annex_everything }
				}
			}
			else = {
				every_country = {
					limit = {
						OR = {
							tag = FROM
							is_in_faction_with = FROM
							is_subject_of = FROM
							has_country_flag = RCW_Allrussian_national_assembly_member
							AND = {
								is_former_russian_empire_russian_country = yes
								NOT = { is_main_former_russian_empire_country = yes }
							}
						}
						NOT = { is_subject_of = ROOT is_in_faction_with = ROOT }
						NOT = { has_war_with = ROOT }
					}
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
						active = no
					}
					ROOT = {
						diplomatic_relation = {
							country = PREV
							relation = non_aggression_pact
							active = no
						}
						declare_war_on = { target = PREV type = annex_everything }
					}
				}
				every_country = {
					limit = { is_main_former_russian_empire_country = yes NOT = { is_subject_of = ROOT is_in_faction_with = ROOT } NOT = { has_war_with = ROOT } }
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
						active = no
					}
					ROOT = {
						diplomatic_relation = {
							country = PREV
							relation = non_aggression_pact
							active = no
						}
					}
					declare_war_on = { target = ROOT type = annex_everything }
				}
			}
		}
	}
}

# Конституционный компромисс ("Тяжесть короны")
country_event = {
	id = rcw_all_rus_NA.32
	title = rcw_all_rus_NA.32.t
	desc = rcw_all_rus_NA.32.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.32.a
		set_cosmetic_tag = RUS_MONARCHY
		add_ideas = limited_monarchy_gov_form
		country_event = { id = rcw_all_rus_NA.24 days = 0 }
	}
	option = {
		name = rcw_all_rus_NA.32.b
		set_cosmetic_tag = RUS_MONARCHY
		add_ideas = absolute_monarchy_gov_form
		country_event = { id = rcw_all_rus_NA.24 days = 0 }
	}
}

# Конституционный компромисс ("Конституционный компромисс")
country_event = {
	id = rcw_all_rus_NA.33
	title = rcw_all_rus_NA.33.t
	desc = rcw_all_rus_NA.33.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.33.a
		set_cosmetic_tag = RUS_MONARCHY
		add_ideas = limited_monarchy_gov_form
		country_event = { id = rcw_all_rus_NA.24 days = 0 }
	}
}

# Конституционный компромисс ("Абсолютная власть")
country_event = {
	id = rcw_all_rus_NA.34
	title = rcw_all_rus_NA.34.t
	desc = rcw_all_rus_NA.34.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.34.a
		set_cosmetic_tag = RUS_MONARCHY
		add_ideas = absolute_monarchy_gov_form
		country_event = { id = rcw_all_rus_NA.24 days = 0 }
	}
}