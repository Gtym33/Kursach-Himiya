###########################
# National Assembly Events
###########################

add_namespace = rcw_all_rus_NA

###########################
# Национальное собрание
###########################

# Подготовка к собранию
country_event = {
	id = rcw_all_rus_NA.1
	title = rcw_all_rus_NA.1.t
	desc = rcw_all_rus_NA.1.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes

	trigger = { NOT = { has_global_flag = RCW_Allrussian_national_assembly } }
	immediate = {
		set_global_flag = RCW_Allrussian_national_assembly
	}
	
	option = {
		name = rcw_all_rus_NA.1.a # Только себя
		set_country_flag = RCW_Allrussian_national_assembly_leader
		set_country_flag = RCW_Allrussian_national_assembly_member
		if = {
			limit = { any_other_country = { OR = { is_subject_of = ROOT is_in_faction_with = ROOT } } }
			add_political_power = -100
			else = {
				add_political_power = -50
			}
		}
		set_variable = { global.all_rus_NA_members = 1 }
		set_variable = { global.all_rus_NA_gov_form_rep = 0 }
		set_variable = { global.all_rus_NA_gov_form_mon = 0 }
		set_variable = { global.all_rus_NA_votes = 0 }
		country_event = rcw_all_rus_NA.4
		every_other_country = {
			limit = {
				is_main_former_russian_empire_country = yes
				has_capitulated = no
			}
			country_event = { id = rcw_all_rus_NA.31 days = 14 }
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
				active = no
			}
			ROOT = {
				diplomatic_relation = {
					country = PREV
					relation = non_aggression_pact
					active = no
				}
				create_wargoal = {
					type = annex_everything
					target = PREV
				}
			}
		}
	}
	option = {
		trigger = { any_other_country = { OR = { is_subject_of = ROOT is_in_faction_with = ROOT } } }
		name = rcw_all_rus_NA.1.b # Только марионеток
		set_country_flag = RCW_Allrussian_national_assembly_leader
		set_country_flag = RCW_Allrussian_national_assembly_member
		add_political_power = -50
		set_variable = { global.all_rus_NA_members = 1 }
		set_variable = { global.all_rus_NA_gov_form_rep = 0 }
		set_variable = { global.all_rus_NA_gov_form_mon = 0 }
		set_variable = { global.all_rus_NA_votes = 0 }
		every_other_country = {
			limit = {
				OR = {
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
			country_event = rcw_all_rus_NA.2
		}
		country_event = { id = rcw_all_rus_NA.4 days = 14 }
		every_other_country = {
			limit = {
				is_main_former_russian_empire_country = yes
				NOT = {
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
				has_capitulated = no
			}
			country_event = { id = rcw_all_rus_NA.31 days = 14 }
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
				active = no
			}
			ROOT = {
				diplomatic_relation = {
					country = PREV
					relation = non_aggression_pact
					active = no
				}
				create_wargoal = {
					type = annex_everything
					target = PREV
				}
			}
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		trigger = {
			NOT = { is_left_country = yes }
		}
		name = rcw_all_rus_NA.1.c # Кроме социалистов
		set_country_flag = RCW_Allrussian_national_assembly_leader
		set_country_flag = RCW_Allrussian_national_assembly_member
		add_political_power = -25
		set_variable = { global.all_rus_NA_members = 1 }
		set_variable = { global.all_rus_NA_gov_form_rep = 0 }
		set_variable = { global.all_rus_NA_gov_form_mon = 0 }
		set_variable = { global.all_rus_NA_votes = 0 }
		every_other_country = {
			limit = {
				OR = {
					is_former_russian_empire_russian_country = yes
					AND = {
						is_subject = yes
						OVERLORD = { is_former_russian_empire_russian_country = yes }
					}
				}
				NOT = { has_war_with = ROOT }
				OR = {
					is_subject_of = ROOT
					is_in_faction_with = ROOT
					NOT = { is_left_country = yes }
				}
				has_capitulated = no
				has_war = no
			}
			country_event = rcw_all_rus_NA.2
		}
		country_event = { id = rcw_all_rus_NA.4 days = 14 }
		every_other_country = {
			limit = {
				is_main_former_russian_empire_country = yes
				NOT = {
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
				is_left_country = yes
				has_capitulated = no
			}
			country_event = { id = rcw_all_rus_NA.31 days = 14 }
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
				active = no
			}
			ROOT = {
				diplomatic_relation = {
					country = PREV
					relation = non_aggression_pact
					active = no
				}
				create_wargoal = {
					type = annex_everything
					target = PREV
				}
			}
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		trigger = {
			is_left_country = yes
		}
		name = rcw_all_rus_NA.1.d # Кроме открытых реакционеров
		set_country_flag = RCW_Allrussian_national_assembly_leader
		set_country_flag = RCW_Allrussian_national_assembly_member
		add_political_power = -25
		set_variable = { global.all_rus_NA_members = 1 }
		set_variable = { global.all_rus_NA_gov_form_rep = 0 }
		set_variable = { global.all_rus_NA_gov_form_mon = 0 }
		set_variable = { global.all_rus_NA_votes = 0 }
		every_other_country = {
			limit = {
				OR = {
					is_former_russian_empire_russian_country = yes
					AND = {
						is_subject = yes
						OVERLORD = { is_former_russian_empire_russian_country = yes }
					}
				}
				NOT = { has_war_with = ROOT }
				OR = {
					is_subject_of = ROOT
					is_in_faction_with = ROOT
					NOT = { is_reactionary_country = yes }
				}
				has_capitulated = no
				has_war = no
			}
			country_event = rcw_all_rus_NA.2
		}
		country_event = { id = rcw_all_rus_NA.4 days = 14 }
		every_other_country = {
			limit = {
				is_main_former_russian_empire_country = yes
				NOT = {
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
				is_reactionary_country = yes
				has_capitulated = no
			}
			country_event = { id = rcw_all_rus_NA.31 days = 14 }
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
				active = no
			}
			ROOT = {
				diplomatic_relation = {
					country = PREV
					relation = non_aggression_pact
					active = no
				}
				create_wargoal = {
					type = annex_everything
					target = PREV
				}
			}
		}
		ai_chance = {
			factor = 2
		}
	}
	option = {
		name = rcw_all_rus_NA.1.e # Всех
		set_country_flag = RCW_Allrussian_national_assembly_leader
		set_country_flag = RCW_Allrussian_national_assembly_member
		set_variable = { global.all_rus_NA_members = 1 }
		set_variable = { global.all_rus_NA_gov_form_rep = 0 }
		set_variable = { global.all_rus_NA_gov_form_mon = 0 }
		set_variable = { global.all_rus_NA_votes = 0 }
		every_other_country = {
			limit = {
				OR = {
					is_former_russian_empire_russian_country = yes
					AND = {
						is_subject = yes
						OVERLORD = { is_former_russian_empire_russian_country = yes }
					}
				}
				NOT = { has_war_with = ROOT }
				has_capitulated = no
				has_war = no
			}
			country_event = rcw_all_rus_NA.2
		}
		country_event = { id = rcw_all_rus_NA.4 days = 14 }
		ai_chance = {
			factor = 1
		}
	}
}

# Приглашение
country_event = {
	id = rcw_all_rus_NA.2
	title = rcw_all_rus_NA.2.t
	desc = rcw_all_rus_NA.2.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	trigger = {
		has_capitulated = no
	}
	
	option = {
		name = rcw_all_rus_NA.2.a # отказ
		if = {
			limit = { has_capitulated = no }
			FROM = { country_event = rcw_all_rus_NA.3 }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				FROM = { NOT = { is_reactionary_country = yes } }
				is_left_country = yes
			}
			modifier = {
				factor = 0
				FROM = { NOT = { is_left_country = yes } }
				is_reactionary_country = yes
			}
			modifier = {
				factor = 0
				is_subject_of = FROM
			}
		}
	}
	option = {
		name = rcw_all_rus_NA.2.b # согласие
		if = {
			limit = { has_capitulated = no }
			set_country_flag = RCW_Allrussian_national_assembly_member
			add_to_variable = { global.all_rus_NA_members = 1 }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				FROM = { is_reactionary_country = yes }
				is_socialist_country = yes
			}
			modifier = {
				factor = 0.75
				FROM = { is_reactionary_country = yes }
				is_socdem_country = yes
			}
		}
	}
}
# Отрицательный ответ
country_event = {
	id = rcw_all_rus_NA.3
	title = rcw_all_rus_NA.3.t
	desc = rcw_all_rus_NA.3.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.3.a
	}
}

# Инициализация голосования по главному вопросу
country_event = {
	id = rcw_all_rus_NA.4
	title = rcw_all_rus_NA.4.t
	desc = rcw_all_rus_NA.4.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	hidden = yes
	
	option = {
		name = rcw_all_rus_NA.4.a
		every_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_member }
			country_event = rcw_all_rus_NA.5
		}
	}
}

# Голосование по главному вопросу
country_event = {
	id = rcw_all_rus_NA.5
	title = rcw_all_rus_NA.5.t
	desc = rcw_all_rus_NA.5.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	trigger = {
		has_capitulated = no
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.5.a # Республика
		set_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
		if = {
			limit = { tag = RVA }
			set_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_rep
		}
		hidden_effect = {
			add_to_variable = { global.all_rus_NA_votes = 1 }
			add_to_variable = { global.all_rus_NA_gov_form_rep = 1 }
			if = {
				limit = { check_variable = { global.all_rus_NA_votes = global.all_rus_NA_members } }
				if = {
					limit = { check_variable = { global.all_rus_NA_gov_form_mon > global.all_rus_NA_gov_form_rep } }
					random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } set_global_flag = RCW_Allrussian_national_assembly_mon_wins country_event = { id = rcw_all_rus_NA.7 days = 1 } }
					else = {
						random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } set_global_flag = RCW_Allrussian_national_assembly_rep_wins country_event = { id = rcw_all_rus_NA.6 days = 1 } }
					}
				}
				clear_variable = global.all_rus_NA_votes
				clear_variable = global.all_rus_NA_members
				clear_variable = global.all_rus_NA_gov_form_mon
				clear_variable = global.all_rus_NA_gov_form_rep
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				has_government = authoritarism
			}
		}
	}
	option = {
		name = rcw_all_rus_NA.5.b # Монархия
		trigger = {
			NOT = { is_left_country = yes }
		}
		set_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
		hidden_effect = {
			add_to_variable = { global.all_rus_NA_votes = 1 }
			add_to_variable = { global.all_rus_NA_gov_form_mon = 1 }
			if = {
				limit = { check_variable = { global.all_rus_NA_votes = global.all_rus_NA_members } }
				if = {
					limit = { check_variable = { global.all_rus_NA_gov_form_mon > global.all_rus_NA_gov_form_rep } }
					random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } set_global_flag = RCW_Allrussian_national_assembly_mon_wins country_event = { id = rcw_all_rus_NA.7 days = 1 } }
					else = {
						random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } set_global_flag = RCW_Allrussian_national_assembly_rep_wins country_event = { id = rcw_all_rus_NA.6 days = 1 } }
					}
				}
				clear_variable = global.all_rus_NA_votes
				clear_variable = global.all_rus_NA_members
				clear_variable = global.all_rus_NA_gov_form_mon
				clear_variable = global.all_rus_NA_gov_form_rep
			}
		}
		ai_chance = {
			factor = 3
			modifier = {
				factor = 0.2
				is_democratic_country = yes
			}
			modifier = {
				factor = 0
				has_country_leader = { name = "Lavr Kornilov" ruling_only = yes }
			}
		}
	}
}

# Республика победила, уведомление организатора
country_event = {
	id = rcw_all_rus_NA.6
	title = rcw_all_rus_NA.6.t
	desc = {
		text = rcw_all_rus_NA.6.desc
		trigger = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep }
	}
	desc = {
		text = rcw_all_rus_NA.6.desc_1
		trigger = { NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep } }
	}
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = { # Такова воля народа!
		name = rcw_all_rus_NA.6.a
		clr_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
		clr_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
		every_other_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_member }
			country_event = { id = rcw_all_rus_NA.11 days = 7 random = 48 }
		}
		set_country_flag = RCW_Allrussian_national_assembly_rep_formaly_wins
	}
	option = { # Подложить результаты голосования
		trigger = {
			NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep }
		}
		name = rcw_all_rus_NA.6.b
		clr_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
		clr_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
		every_other_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_member }
			country_event = { id = rcw_all_rus_NA.12 days = 7 random = 48 }
		}
		set_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins
	}
}
# Монархия победила, уведомление организатора
country_event = {
	id = rcw_all_rus_NA.7
	title = rcw_all_rus_NA.7.t
	desc = {
		text = rcw_all_rus_NA.7.desc
		trigger = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon }
	}
	desc = {
		text = rcw_all_rus_NA.7.desc_1
		trigger = { NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon } }
	}
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = { # Такова воля... народа.
		name = rcw_all_rus_NA.7.a
		clr_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
		clr_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
		every_other_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_member }
			country_event = { id = rcw_all_rus_NA.12 days = 1 random = 48 }
		}
		set_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins
	}
	option = { # Подложить результаты голосования
		trigger = {
			NOT = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon }
		}
		name = rcw_all_rus_NA.7.b
		clr_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
		clr_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
		every_other_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_member }
			country_event = { id = rcw_all_rus_NA.11 days = 1 random = 48 }
		}
		set_country_flag = RCW_Allrussian_national_assembly_rep_formaly_wins
	}
}

# Выбрали республику
country_event = {
	id = rcw_all_rus_NA.11
	title = rcw_all_rus_NA.6.t
	desc = rcw_all_rus_NA.6.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.6.a
		clr_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
		clr_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
		set_country_flag = RCW_Allrussian_national_assembly_rep_formaly_wins
		ai_chance = {
			factor = 2
			modifier = {
				factor = 0
				FROM = { has_global_flag = RCW_Allrussian_national_assembly_mon_wins }
			}
			modifier = {
				factor = 0
				any_other_country = { has_country_flag = RCW_Allrussian_national_assembly_revolt }
			}
		}
	}
	option = {
		trigger = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_mon NOT = { has_country_flag = RCW_Allrussian_national_assembly_leader } }
		name = rcw_all_rus_NA.11.b # Результаты голосования подложны! Мы вновь возьмёмся за оружие!
		clr_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
		clr_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
		set_country_flag = RCW_Allrussian_national_assembly_revolt
		OVERLORD = { end_puppet = ROOT }
		leave_faction = yes
		if = {
			limit = { NOT = { any_other_country = { has_country_flag = RCW_Allrussian_national_assembly_revolt } } }
			random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } country_event = { id = rcw_all_rus_NA.21 days = 7 } }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 999
				any_other_country = { has_country_flag = RCW_Allrussian_national_assembly_revolt }
			}
		}
	}
}
# Выбрали монархию
country_event = {
	id = rcw_all_rus_NA.12
	title = rcw_all_rus_NA.7.t
	desc = rcw_all_rus_NA.7.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.7.a
		clr_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
		clr_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
		ai_chance = {
			factor = 0
		}
	}
	option = {
		trigger = { has_country_flag = RCW_Allrussian_national_assembly_vote_for_rep NOT = { has_country_flag = RCW_Allrussian_national_assembly_leader } }
		name = rcw_all_rus_NA.12.b # Результаты голосования подложны! Мы вновь возьмёмся за оружие!
		clr_country_flag = RCW_Allrussian_national_assembly_vote_for_rep
		clr_country_flag = RCW_Allrussian_national_assembly_vote_for_mon
		clr_country_flag = RCW_Allrussian_national_assembly_member
		set_country_flag = RCW_Allrussian_national_assembly_revolt
		OVERLORD = { end_puppet = ROOT }
		leave_faction = yes
		if = {
			limit = { NOT = { any_other_country = { has_country_flag = RCW_Allrussian_national_assembly_revolt } } }
			random_country = { limit = { has_country_flag = RCW_Allrussian_national_assembly_leader } country_event = { id = rcw_all_rus_NA.22 days = 7 } }
		}
		ai_chance = {
			factor = 1
		}
	}
}
# Гражданка против монархистов
country_event = {
	id = rcw_all_rus_NA.21
	title = rcw_all_rus_NA.21.t
	desc = rcw_all_rus_NA.21.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.21.a
		every_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_member }
			leave_faction = yes
			dismantle_faction = yes
		}
		create_faction = republican_front
		clr_country_flag = RCW_Allrussian_national_assembly_member
		set_country_flag = RCW_Allrussian_national_assembly_loyal
		every_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { tag = ROOT } }
			clr_country_flag = RCW_Allrussian_national_assembly_member
			set_country_flag = RCW_Allrussian_national_assembly_loyal
			ROOT = { add_to_faction = PREV }
		}
		FROM = {
			create_faction = white_union
			clr_country_flag = RCW_Allrussian_national_assembly_revolt
			set_country_flag = RCW_Allrussian_national_assembly_disloyal
		}
		every_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_revolt NOT = { tag = FROM } }
			clr_country_flag = RCW_Allrussian_national_assembly_revolt
			set_country_flag = RCW_Allrussian_national_assembly_disloyal
			FROM = { add_to_faction = PREV }
		}
		every_country = {
			limit = { OR = { tag = ROOT is_in_faction_with = ROOT } }
			diplomatic_relation = {
				country = FROM
				relation = non_aggression_pact
				active = no
			}
			declare_war_on = { target = FROM type = annex_everything }
			every_country = {
				limit = { is_in_faction_with = FROM NOT = { has_war_with = PREV } }
				PREV = {
					diplomatic_relation = {
						country = PREV
						relation = non_aggression_pact
						active = no
					}
				}
				PREV = { declare_war_on = { target = PREV type = annex_everything } }
			}
		}
		every_country = {
			limit = { is_former_russian_empire_russian_country = yes NOT = { tag = ROOT } NOT = { has_war_with = ROOT } }
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
				active = no
			}
			ROOT = {
				diplomatic_relation = {
					country = PREV
					relation = non_aggression_pact
					active = no
				}
				create_wargoal = {
					type = annex_everything
					target = PREV
				}
			}
		}
		if = {
			limit = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_disloyal check_variable = { num_battalions > FROM.num_battalions } } }
			FROM = { leave_faction = yes }
			random_country = {
				limit = { has_country_flag = RCW_Allrussian_national_assembly_disloyal is_faction_leader = yes }
				add_to_faction = FROM
				every_country = {
					limit = { is_former_russian_empire_russian_country = yes NOT = { tag = PREV } NOT = { has_war_with = PREV } }
					diplomatic_relation = {
						country = PREV
						relation = non_aggression_pact
						active = no
					}
					PREV = {
						diplomatic_relation = {
							country = PREV
							relation = non_aggression_pact
							active = no
						}
						create_wargoal = {
							type = annex_everything
							target = PREV
						}
					}
				}
			}
		}
		hidden_effect = { news_event = { id = news_n.27 hours = 48 } }
	}
}
# Гражданка против республиканцев
country_event = {
	id = rcw_all_rus_NA.22
	title = rcw_all_rus_NA.22.t
	desc = rcw_all_rus_NA.22.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_NA.22.a
		every_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_member }
			leave_faction = yes
			dismantle_faction = yes
		}
		create_faction = white_union
		clr_country_flag = RCW_Allrussian_national_assembly_member
		set_country_flag = RCW_Allrussian_national_assembly_loyal
		every_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_member NOT = { tag = ROOT } }
			clr_country_flag = RCW_Allrussian_national_assembly_member
			set_country_flag = RCW_Allrussian_national_assembly_loyal
			ROOT = { add_to_faction = PREV }
		}
		FROM = {
			create_faction = republican_front
			clr_country_flag = RCW_Allrussian_national_assembly_revolt
			set_country_flag = RCW_Allrussian_national_assembly_disloyal
		}
		every_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_revolt NOT = { tag = FROM } }
			clr_country_flag = RCW_Allrussian_national_assembly_revolt
			set_country_flag = RCW_Allrussian_national_assembly_disloyal
			FROM = { add_to_faction = PREV }
		}
		every_country = {
			limit = { OR = { tag = ROOT is_in_faction_with = ROOT } }
			diplomatic_relation = {
				country = FROM
				relation = non_aggression_pact
				active = no
			}
			declare_war_on = { target = FROM type = annex_everything }
			every_country = {
				limit = { is_in_faction_with = FROM NOT = { has_war_with = PREV } }
				PREV = {
					diplomatic_relation = {
						country = PREV
						relation = non_aggression_pact
						active = no
					}
				}
				PREV = { declare_war_on = { target = PREV type = annex_everything } }
			}
		}
		every_country = {
			limit = { is_former_russian_empire_russian_country = yes NOT = { tag = ROOT } NOT = { has_war_with = ROOT } }
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
				active = no
			}
			ROOT = {
				diplomatic_relation = {
					country = PREV
					relation = non_aggression_pact
					active = no
				}
				create_wargoal = {
					type = annex_everything
					target = PREV
				}
			}
		}
		if = {
			limit = { any_country = { has_country_flag = RCW_Allrussian_national_assembly_disloyal check_variable = { num_battalions > FROM.num_battalions } } }
			FROM = { leave_faction = yes }
			random_country = {
				limit = { has_country_flag = RCW_Allrussian_national_assembly_disloyal is_faction_leader = yes }
				add_to_faction = FROM
				every_country = {
					limit = { is_former_russian_empire_russian_country = yes NOT = { tag = PREV } NOT = { has_war_with = PREV } }
					diplomatic_relation = {
						country = PREV
						relation = non_aggression_pact
						active = no
					}
					PREV = {
						diplomatic_relation = {
							country = PREV
							relation = non_aggression_pact
							active = no
						}
						create_wargoal = {
							type = annex_everything
							target = PREV
						}
					}
				}
			}
		}
		hidden_effect = { news_event = { id = news_n.27 hours = 48 } }
	}
}

# Конец всего
country_event = {
	id = rcw_all_rus_NA.23
	title = rcw_all_rus_NA.23.t
	desc = rcw_all_rus_NA.23.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	trigger = {
		has_global_flag = RCW_Allrussian_national_assembly
		has_war = no
		OR = {
			is_faction_leader = yes
			is_in_faction = no
		}
		OR = {
			AND = {
				has_country_flag = RCW_Allrussian_national_assembly_loyal
				NOT = { any_other_country = { exists = yes has_country_flag = RCW_Allrussian_national_assembly_disloyal } }
			}
			AND = {
				has_country_flag = RCW_Allrussian_national_assembly_disloyal
				NOT = { any_other_country = { exists = yes has_country_flag = RCW_Allrussian_national_assembly_loyal } }
			}
		}
		NOT = { any_other_country = { is_main_former_russian_empire_country = yes exists = yes is_subject = no NOT = { is_in_faction_with = ROOT } NOT = { has_country_flag = RCW_Allrussian_national_assembly_member } } }
	}
	
	mean_time_to_happen = {
		days = 3
	}
	
	hidden = yes
	
	immediate = { clr_global_flag = RCW_Allrussian_national_assembly }
	
	option = {
		name = rcw_all_rus_NA.24.a
		every_other_country = {
			limit = { is_former_russian_empire_russian_country = yes is_in_faction_with = ROOT }
			every_unit_leader = { set_nationality = ROOT }
			ROOT = { annex_country = { target = PREV transfer_troops = yes } }
		}
		every_country = {
			limit = {
				OR = {
					has_country_flag = RCW_Allrussian_national_assembly_leader
					has_country_flag = RCW_Allrussian_national_assembly_loyal
					has_country_flag = RCW_Allrussian_national_assembly_disloyal
				}
			}
			clr_country_flag = RCW_Allrussian_national_assembly_leader
			clr_country_flag = RCW_Allrussian_national_assembly_loyal
			clr_country_flag = RCW_Allrussian_national_assembly_disloyal
			clr_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_rep
		}
		dismantle_faction = yes
		if = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins }
			set_cosmetic_tag = RUS_MONARCHY
			add_ideas = limited_monarchy_gov_form
			else = {
				set_cosmetic_tag = CCA_russian_federation
				add_ideas = presidential_republic_gov_form
			}
		}
		clr_country_flag = RCW_Allrussian_national_assembly_rep_formaly_wins
		clr_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins
		every_other_country = {
			limit = { is_any_former_russian_empire_country = yes is_subject = no NOT = { has_war_with = ROOT } }
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
				active = no
			}
			ROOT = {
				diplomatic_relation = {
					country = PREV
					relation = non_aggression_pact
					active = no
				}
				create_wargoal = {
					type = annex_everything
					target = PREV
				}
			}
		}
		
			every_state = {
				limit = { is_core_of = RUS NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
			}
			every_state = {
				limit = { is_core_of = CCA NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { CCA = { exists = no } }
					remove_core_of = CCA
				}
			}
			if = {
				limit = {
					SIB = {
						NOT = { has_country_flag = SIB_want_to_be_autonomous }
						NOT = { has_global_flag = RUS_civil_war_reds_n_Siberia_peace }
					}
				}
				every_state = {
					limit = { is_core_of = SIB NOT = { is_core_of = ROOT } }
					add_core_of = ROOT
					if = {
						limit = { SIB = { exists = no } }
						remove_core_of = SIB
					}
				}
			}
			every_state = {
				limit = { is_core_of = RVA NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { RVA = { exists = no } }
					remove_core_of = RVA
				}
			}
			every_state = {
				limit = { is_core_of = PREV NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { PREV = { exists = no } }
					remove_core_of = PREV
				}
			}
			every_state = {
				limit = { is_core_of = RSS NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { RSS = { exists = no } }
					remove_core_of = RSS
				}
			}
			if = {
				limit = {
					NWA = { NOT = { has_cosmetic_tag = NWA_BLT } }
				}
				every_state = {
					limit = { is_core_of = NWA NOT = { is_core_of = ROOT } }
					add_core_of = ROOT
					if = {
						limit = { NWA = { exists = no } }
						remove_core_of = NWA
					}
				}
			}
			every_state = {
				limit = { is_core_of = RGR NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { RGR = { exists = no } }
					remove_core_of = RGR
				}
			}
			every_state = {
				limit = { is_core_of = MCW NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { MCW = { exists = no } }
					remove_core_of = MCW
				}
			}
			every_state = {
				limit = { is_core_of = YAR NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { YAR = { exists = no } }
					remove_core_of = YAR
				}
			}
			every_state = {
				limit = { is_core_of = NVA NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { NVA = { exists = no } }
					remove_core_of = NVA
				}
			}
			transfer_state = 219
			add_state_core = 219
			set_capital = 219
	}
}

# Конец всего, но без ГВ
country_event = {
	id = rcw_all_rus_NA.24
	title = rcw_all_rus_NA.24.t
	desc = rcw_all_rus_NA.24.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	trigger = {
		has_global_flag = RCW_Allrussian_national_assembly
		has_country_flag = RCW_Allrussian_national_assembly_leader
		NOT = { any_country = { exists = yes has_country_flag = RCW_Allrussian_national_assembly_revolt } }
		OR = {
			has_global_flag = RCW_Allrussian_national_assembly_mon_wins
			has_global_flag = RCW_Allrussian_national_assembly_rep_wins
		}
		has_war = no
		NOT = { any_country = { exists = yes has_country_flag = RCW_Allrussian_national_assembly_disloyal } }
		NOT = { any_country = { exists = yes has_country_flag = RCW_Allrussian_national_assembly_loyal } }
		NOT = { any_other_country = { is_main_former_russian_empire_country = yes exists = yes is_subject = no NOT = { is_in_faction_with = ROOT } NOT = { has_country_flag = RCW_Allrussian_national_assembly_member } } }
	}
	
	mean_time_to_happen = {
		days = 30
		modifier = {
			factor = 0.01
			NOT = { any_other_country = { is_main_former_russian_empire_country = yes exists = yes NOT = { has_country_flag = RCW_Allrussian_national_assembly_member } } }
		}
	}
	
	hidden = yes
	
	immediate = { clr_global_flag = RCW_Allrussian_national_assembly }
	
	option = {
		name = rcw_all_rus_NA.24.a
		clr_country_flag = RCW_Allrussian_national_assembly_member
		clr_global_flag = RCW_Allrussian_national_assembly_rep_wins
		clr_global_flag = RCW_Allrussian_national_assembly_mon_wins
		every_other_country = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_member }
			clr_country_flag = RCW_Allrussian_national_assembly_member
			clr_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_rep
			clr_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_mon
			every_unit_leader = { set_nationality = ROOT }
			ROOT = { annex_country = { target = PREV transfer_troops = yes } }
		}
		if = {
			limit = { has_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins }
			set_cosmetic_tag = RUS_MONARCHY
			add_ideas = limited_monarchy_gov_form
			else = {
				set_cosmetic_tag = CCA_russian_federation
				add_ideas = presidential_republic_gov_form
			}
		}
		clr_country_flag = RCW_Allrussian_national_assembly_rep_formaly_wins
		clr_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins
		every_other_country = {
			limit = { is_any_former_russian_empire_country = yes is_subject = no NOT = { has_war_with = ROOT } }
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
				active = no
			}
			ROOT = {
				diplomatic_relation = {
					country = PREV
					relation = non_aggression_pact
					active = no
				}
				create_wargoal = {
					type = annex_everything
					target = PREV
				}
			}
		}
		
			every_state = {
				limit = { is_core_of = RUS NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
			}
			every_state = {
				limit = { is_core_of = CCA NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { CCA = { exists = no } }
					remove_core_of = CCA
				}
			}
			if = {
				limit = {
					SIB = {
						NOT = { has_country_flag = SIB_want_to_be_autonomous }
						NOT = { has_global_flag = RUS_civil_war_reds_n_Siberia_peace }
					}
				}
				every_state = {
					limit = { is_core_of = SIB NOT = { is_core_of = ROOT } }
					add_core_of = ROOT
					if = {
						limit = { SIB = { exists = no } }
						remove_core_of = SIB
					}
				}
			}
			every_state = {
				limit = { is_core_of = RVA NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { RVA = { exists = no } }
					remove_core_of = RVA
				}
			}
			every_state = {
				limit = { is_core_of = PREV NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { PREV = { exists = no } }
					remove_core_of = PREV
				}
			}
			every_state = {
				limit = { is_core_of = RSS NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { RSS = { exists = no } }
					remove_core_of = RSS
				}
			}
			if = {
				limit = {
					NWA = { NOT = { has_cosmetic_tag = NWA_BLT } }
				}
				every_state = {
					limit = { is_core_of = NWA NOT = { is_core_of = ROOT } }
					add_core_of = ROOT
					if = {
						limit = { NWA = { exists = no } }
						remove_core_of = NWA
					}
				}
			}
			every_state = {
				limit = { is_core_of = RGR NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { RGR = { exists = no } }
					remove_core_of = RGR
				}
			}
			every_state = {
				limit = { is_core_of = MCW NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { MCW = { exists = no } }
					remove_core_of = MCW
				}
			}
			every_state = {
				limit = { is_core_of = YAR NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { YAR = { exists = no } }
					remove_core_of = YAR
				}
			}
			every_state = {
				limit = { is_core_of = NVA NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
				if = {
					limit = { NVA = { exists = no } }
					remove_core_of = NVA
				}
			}
			transfer_state = 219
			add_state_core = 219
			set_capital = 219
	}
}

# Технический ивент на случай провала того, кто в одно рыло проводил собрание
country_event = {
	id = rcw_all_rus_NA.25
	trigger = {
		has_global_flag = RCW_Allrussian_national_assembly
		219 = { OWNER = { OR = { tag = ROOT is_subject_of = ROOT } } }
		is_subject = no
		has_war = no
		NOT = {
			has_country_flag = RCW_Allrussian_national_assembly_leader
			has_country_flag = RCW_Allrussian_national_assembly_member
			has_country_flag = RCW_Allrussian_national_assembly_revolt
			has_country_flag = RCW_Allrussian_national_assembly_disloyal
			has_country_flag = RCW_Allrussian_national_assembly_loyal
			has_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_rep
			has_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_mon
			has_country_flag = RCW_Allrussian_national_assembly_rep_formaly_wins
			has_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins
		}
		NOT = { any_country = { exists = yes is_subject = no OR = { has_country_flag = RCW_Allrussian_national_assembly_revolt has_country_flag = RCW_Allrussian_national_assembly_disloyal has_country_flag = RCW_Allrussian_national_assembly_loyal has_country_flag = RCW_Allrussian_national_assembly_member has_country_flag = RCW_Allrussian_national_assembly_leader has_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_mon has_country_flag = RCW_Allrussian_national_assembly_rep_formaly_wins has_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins } } }
	}
	
	mean_time_to_happen = {
		days = 3
	}
	
	hidden = yes
	
	immediate = { clr_global_flag = RCW_Allrussian_national_assembly }
	
	option = {
		clr_global_flag = RCW_Allrussian_national_assembly_rep_wins
		clr_global_flag = RCW_Allrussian_national_assembly_mon_wins
		every_country = {
			limit = { OR = { has_country_flag = RCW_Allrussian_national_assembly_revolt has_country_flag = RCW_Allrussian_national_assembly_disloyal has_country_flag = RCW_Allrussian_national_assembly_loyal has_country_flag = RCW_Allrussian_national_assembly_member has_country_flag = RCW_Allrussian_national_assembly_leader has_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_rep has_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_mon has_country_flag = RCW_Allrussian_national_assembly_rep_formaly_wins has_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins } }
			clr_country_flag = RCW_Allrussian_national_assembly_revolt
			clr_country_flag = RCW_Allrussian_national_assembly_disloyal
			clr_country_flag = RCW_Allrussian_national_assembly_loyal
			clr_country_flag = RCW_Allrussian_national_assembly_member
			clr_country_flag = RCW_Allrussian_national_assembly_leader
			clr_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_rep
			clr_country_flag = RVA_RCW_Allrussian_national_assembly_vote_for_mon
			clr_country_flag = RCW_Allrussian_national_assembly_rep_formaly_wins
			clr_country_flag = RCW_Allrussian_national_assembly_mon_formaly_wins
		}
		transfer_state = 219
		add_state_core = 219
		set_capital = 219
	}
}

# Тревожная телеграмма (Сибирь)
country_event = {
	id = rcw_all_rus_NA.30
	title = rcw_all_rus_NA.30.t
	desc = rcw_all_rus_NA.30.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	trigger = {
		has_global_flag = RCW_Allrussian_national_assembly
		original_tag = SIB
		has_civil_war = no
		any_country = { OR = { has_country_flag = RCW_Allrussian_national_assembly_loyal has_country_flag = RCW_Allrussian_national_assembly_disloyal } has_war = yes }
		check_variable = { party_popularity@ruling_party < 0.3 }
		OR = {
			is_faction_leader = no
			NOT = { any_country = { OR = { has_country_flag = RCW_Allrussian_national_assembly_loyal has_country_flag = RCW_Allrussian_national_assembly_disloyal } has_war_with = ROOT } }
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_other_country = {
				limit = {
					is_faction_leader = yes
					OR = { has_country_flag = RCW_Allrussian_national_assembly_loyal has_country_flag = RCW_Allrussian_national_assembly_disloyal }
					OR = {
						controls_state = 219
						any_other_country = {
							is_in_faction_with = PREV
							controls_state = 219
						}
					}
				}
				save_global_event_target_as = Moscow_allience
			}
			random_other_country = {
				limit = {
					is_faction_leader = yes
					has_war_with = ROOT
					OR = { has_country_flag = RCW_Allrussian_national_assembly_loyal has_country_flag = RCW_Allrussian_national_assembly_disloyal }
				}
				save_global_event_target_as = hostile_allience
			}
			random_other_country = {
				limit = {
					is_faction_leader = yes
					has_war_with = event_target:hostile_allience
					OR = { has_country_flag = RCW_Allrussian_national_assembly_loyal has_country_flag = RCW_Allrussian_national_assembly_disloyal }
				}
				save_global_event_target_as = not_hostile_allience
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				is_in_faction = no
				has_war = no
			}
		}
		name = rcw_all_rus_NA.30.a
		leave_faction = yes
		event_target:Moscow_allience = {
			add_to_faction = ROOT
		}
		clear_global_event_target = Moscow_allience
		clear_global_event_target = not_hostile_allience
		clear_global_event_target = hostile_allience
	}
	option = {
		trigger = {
			NOT = { has_stability > 0.25 }
		}
		name = rcw_all_rus_NA.30.b
		leave_faction = yes
		every_unit_leader = { set_nationality = event_target:Moscow_allience }
		event_target:Moscow_allience = {
			annex_country = {
				target = ROOT
				transfer_troops = yes
			}
		}
		clear_global_event_target = Moscow_allience
		clear_global_event_target = not_hostile_allience
		clear_global_event_target = hostile_allience
	}
	option = {
		trigger = {
			OR = {
				AND = {
					has_stability > 0.25
					OR = {
						has_war = no
						is_in_faction = no
					}
					event_target:Moscow_allience = { NOT = { has_government = ROOT } }
				}
				AND = {
					has_war = yes
					is_in_faction = yes
				}
			}
		}
		name = rcw_all_rus_NA.30.c
		if = {
			limit = {
				OR = {
					has_war = no
					is_in_faction = no
				}
				event_target:Moscow_allience = { NOT = { has_government = ROOT } }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = radical_socialism } }
				set_temp_variable = { temp = party_popularity@radical_socialism }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = communism } }
				set_temp_variable = { temp = party_popularity@communism }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = social_democracy } }
				set_temp_variable = { temp = party_popularity@social_democracy }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = social_liberalism } }
				set_temp_variable = { temp = party_popularity@social_liberalism }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = market_liberalism } }
				set_temp_variable = { temp = party_popularity@market_liberalism }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = social_conservatism } }
				set_temp_variable = { temp = party_popularity@social_conservatism }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = authoritarism } }
				set_temp_variable = { temp = party_popularity@authoritarism }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = despotism } }
				set_temp_variable = { temp = party_popularity@despotism }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = fascism } }
				set_temp_variable = { temp = party_popularity@fascism }
			}
			if = {
				limit = { event_target:Moscow_allience = { has_government = national_syndicalism } }
				set_temp_variable = { temp = party_popularity@national_syndicalism }
			}
			event_target:Moscow_allience = {
				ROOT = {
					start_civil_war = {
						ideology = PREV
						size = temp
					}
				}
			}
		}
		if = {
			limit = {
				has_war = yes
				is_in_faction = yes
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = radical_socialism } }
				set_temp_variable = { temp = party_popularity@radical_socialism }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = communism } }
				set_temp_variable = { temp = party_popularity@communism }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = social_democracy } }
				set_temp_variable = { temp = party_popularity@social_democracy }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = social_liberalism } }
				set_temp_variable = { temp = party_popularity@social_liberalism }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = market_liberalism } }
				set_temp_variable = { temp = party_popularity@market_liberalism }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = social_conservatism } }
				set_temp_variable = { temp = party_popularity@social_conservatism }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = authoritarism } }
				set_temp_variable = { temp = party_popularity@authoritarism }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = despotism } }
				set_temp_variable = { temp = party_popularity@despotism }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = fascism } }
				set_temp_variable = { temp = party_popularity@fascism }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = national_syndicalism } }
				set_temp_variable = { temp = party_popularity@national_syndicalism }
			}
			if = {
				limit = { event_target:hostile_allience = { has_government = ROOT } }
				event_target:not_hostile_allience = {
					ROOT = {
						set_politics ={
							ruling_party = PREV
						}
					}
				}
			}
			event_target:hostile_allience = {
				ROOT = {
					start_civil_war = {
						ideology = PREV
						size = temp
					}
				}
			}
			random_other_country = {
				limit = { original_tag = ROOT NOT = { tag = ROOT } }
				event_target:hostile_allience = {
					add_to_faction = PREV
				}
			}
		}
		clear_global_event_target = Moscow_allience
		clear_global_event_target = not_hostile_allience
		clear_global_event_target = hostile_allience
	}
}

# Собрание без нас
country_event = {
	id = rcw_all_rus_NA.31
	title = rcw_all_rus_NA.31.t
	desc = rcw_all_rus_NA.31.desc
	picture = GFX_report_event_sib_kolchak_arrived
	
	is_triggered_only = yes
	
	trigger = {
		has_capitulated = no
	}
	
	option = {
		name = rcw_all_rus_NA.31.a # Возмутительно! Нелегитимно!
		every_other_country = {
			limit = {
				is_subject_of = ROOT
				has_country_flag = RCW_Allrussian_national_assembly_member
			}
			ROOT = { end_puppet = PREV }
		}
		if = {
			limit = {
				is_faction_leader = yes
			}
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					has_country_flag = RCW_Allrussian_national_assembly_member
				}
				leave_faction = yes
			}
		}
		if = {
			limit = {
				is_subject = yes
				OVERLORD = {
					OR = {
						tag = FROM
						is_in_faction_with = FROM
						has_country_flag = RCW_Allrussian_national_assembly_member
					}
				}
			}
			OVERLORD = { end_puppet = ROOT }
		}
		if = {
			limit = {
				is_in_faction = yes
				is_faction_leader = no
				any_other_country = {
					is_faction_leader = yes
					any_country = {
						is_in_faction_with = PREV
						has_country_flag = RCW_Allrussian_national_assembly_member
					}
				}
			}
			leave_faction = yes
		}
		every_country = {
			limit = { OR = { tag = FROM is_in_faction_with = FROM is_subject_of = FROM has_country_flag = RCW_Allrussian_national_assembly_member } }
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
				active = no
			}
			ROOT = {
				diplomatic_relation = {
					country = PREV
					relation = non_aggression_pact
					active = no
				}
				create_wargoal = {
					type = annex_everything
					target = PREV
				}
			}
		}
	}
}