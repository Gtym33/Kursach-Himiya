###########################
# Ukrainian Events
###########################

add_namespace = ukraine

# Восстание на заводе Аресенал
country_event = {
	id = ukraine.-72
	title = ukraine.-72.t
	desc = ukraine.-72.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		has_start_date < 29.1.1918
		tag = UKR
		RSR = { RSR = { exists = yes } }
		OR = {
			has_war_with = RSR
			has_war_with = USR
		}
		controls_state = 202
	}

	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = ukraine.-72.a
		if = {
			limit = { USR = { exists = yes has_war_with = UKR } }
			USR = {
				set_state_controller = 202
				if = {
					limit = { NOT = { has_template = "Krasnaya Gvardiya" } }
					division_template = {
						name = "Krasnaya Gvardiya"
						regiments = {
							militia = { x = 0 y = 0 }
							militia = { x = 0 y = 1 }
							militia = { x = 1 y = 0 }
						}
						priority = 0
						is_locked = yes
					}
				}
			}
			202 = {
				create_unit = {
					division = "name = \"Krasnaya Gvardiya\" division_template = \"Krasnaya Gvardiya\" start_experience_factor = 0.1 start_equipment_factor = 1"
					owner = USR
				}
			}
		}
		else_if = {
			limit = { RSR = { exists = yes has_war_with = UKR } }
			RSR = {
				set_state_controller = 202
				if = {
					limit = { NOT = { has_template = "Krasnaya Gvardiya" } }
					division_template = {
						name = "Krasnaya Gvardiya"
						regiments = {
							militia = { x = 0 y = 0 }
							militia = { x = 0 y = 1 }
							militia = { x = 1 y = 0 }
						}
						priority = 0
						is_locked = yes
					}
				}
			}
			202 = {
				create_unit = {
					division = "name = \"Krasnaya Gvardiya\" division_template = \"Krasnaya Gvardiya\" start_experience_factor = 0.1 start_equipment_factor = 1"
					owner = RSR
				}
			}
		}
		set_state_controller = 202
	}
}

# Кровавый разгон центральной рады
country_event = {
	id = ukraine.-71
	title = ukraine.-71.t
	desc = ukraine.-71.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = ukraine.-71.a
		release = UKR
		declare_war_on = {
			target = UKR
			type = annex_everything
		}
	}
}

# Исторический исход
country_event = {
	id = ukraine.-70
	title = ukraine.-70.t
	desc = ukraine.-70.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = ukraine.-70.a
	}
}

# Выступление полуботковцев
country_event = {
	id = ukraine.-69
	title = ukraine.-69.t
	desc = ukraine.-69.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		is_subject_of = RUS
		has_country_flag = UKR_polubotka
		RUS = {
			OR = {
				has_country_flag = RUS_1_July_meeting
				has_country_flag = RUS_second_coalition_gov
			}
		}
	}

	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 5
	}
	
	option = {
		name = ukraine.-69.a
		add_stability = 0.02
		add_war_support = -0.05
		RUS = { country_event = { id = ukraine.-70 days = 1 } }
		ai_chance = {
			factor = 1
		}
	}
	
	option = {
		name = ukraine.-69.b
		add_stability = -0.1
		add_war_support = 0.1
		RUS = { country_event = { id = ukraine.-71 days = 1 } }
		ai_chance = {
			factor = 0
		}
	}
}

# Передача власти Келлеру
country_event = {
	id = ukraine.-68
	title = ukraine.-68.t
	desc = ukraine.-68.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		has_government = authoritarism
	}

	is_triggered_only = yes
	
	option = {
		name = ukraine.-68.a
		country_event = ukraine.-57
	}
}
# Оповещалка Келлеру
country_event = {
	id = ukraine.-67
	title = ukraine.-67.t
	desc = ukraine.-67.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-67.a
	}
}

###Келлер требует подчинения ему всех сил на Юге России###
country_event = {
	id = ukraine.-66
	title = ukraine.-66.t
	desc = ukraine.-66.d

	picture = GFX_report_event_sovarmy
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-66.a
		trigger = { NOT = { has_government = conservatism has_government = authoritarism has_government = fascism } }
		ai_chance = {
			factor = 2
			modifier = {
				factor = 0
				OR = {
					has_government = conservatism
					has_government = authoritarism
					has_government = fascism
				}
			}
		}
		add_opinion_modifier = { target = UKR modifier = UKR_white_no_coop }
		UKR = {
			add_opinion_modifier = { target = DON modifier = UKR_white_no_coop }
			country_event = ukraine.-67
		}
	}
	
	option = {
		name = ukraine.-66.b
		ai_chance = {
			factor = 2
		}
		set_politics = {
			ruling_party = authoritarism
			elections_allowed = no
		}
		add_ideas = {
			military_dictatorship_gov_form
			unitary_gov_terr
			emergency_laws_b_law
		}
		add_popularity = { ideology = authoritarism popularity = 0.10 }
		hidden_effect = { remove_ideas = RVA_steel_discipline_idea }
		set_country_flag = RVA_authoritarism_coup_fired
		add_stability = -0.05
		add_war_support = -0.05
		hidden_effect = {
			set_capital = { state = 202 }
			UKR = {
				every_unit_leader = {
					set_nationality = RVA
				}
			}
			annex_country = {
				target = UKR
				transfer_troops = yes
			}
			every_state = {
				limit = { is_core_of = UKR }
				add_core_of = RVA
			}
			create_country_leader = { name = "Fyodor Keller" desc = "RUS_Fyodor_Keller_DESC" picture = "gfx/leaders/RUS/Portrait_Fyodor_Keller.dds" ideology = authoritarism_ideology traits = { warmonger_old_general } }
		}
	}
}

###Польша отвергла украинский ультиматум###
country_event = {
	id = ukraine.-65
	title = ukraine.-65.t
	desc = ukraine.-65.d

	picture = GFX_report_event_sovarmy
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-65.a
		declare_war_on = {
			target = POL
			type = annex_everything
		}
	}
	
	option = {
		name = ukraine.-65.b
		trigger = { always = no }
	}
}

# Украинский ультиматум Польше
country_event = {
	id = ukraine.-64
	title = ukraine.-64.t
	desc = ukraine.-64.d
	picture = GFX_report_event_februrary_revolution
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-64.a
		ai_chance = {
			factor = 0
		}
		every_country = {
			limit = {
				has_war_with = GAL
				OR = {
					tag = POL
					is_in_faction_with = POL
				}
			}
			white_peace = GAL
		}
	}
	
	option = {
		name = ukraine.-64.b
		ai_chance = {
			factor = 1
		}
		UKR = { country_event = { id = ukraine.-65 days = 1 } }
	}
}

# Технический ивент на победу Григорьева (потом выпилим)
country_event = {
	id = ukraine.-63
	title = ukraine.-63.t
	desc = ukraine.-63.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = GRG
		owns_state = 202
		USR = { exists = no }
		UKR = { exists = no }
		FRT = { exists = no }
	}
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-63.a
		every_state = {
			limit = { is_core_of = UKR }
			add_core_of = GRG
		}
		set_capital = { state = 202 }
		set_cosmetic_tag = UKR
	}
}

# Оповещалка Григорьеву
country_event = {
	id = ukraine.-62
	title = ukraine.-62.t
	desc = ukraine.-62.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-62.a
	}
}

# Белогвардейцы походом сбегают из Украины (неисторичный поход)
country_event = {
	id = ukraine.-61
	title = ukraine.-61.t
	desc = ukraine.-61.d
	picture = GFX_report_event_februrary_revolution

	is_triggered_only = yes
	
	option = {
		name = ukraine.-61.a
		add_stability = -0.05
		if = {
			limit = { has_completed_focus = UKR_reliance_on_old_shots }
			every_unit_leader = {
				limit = {
					OR = {
						has_id = 77653
						has_id = 77473
						has_id = 77475
						has_id = 77476
						has_id = 77477
						has_id = 77478
						has_id = 77479
						has_id = 77480
						has_id = 77481
						has_id = 77482
					}
				}
				set_nationality = REB
			}
		}
		else = {
			REB = { every_unit_leader = { limit = { OR = { has_id = 77653 } } set_nationality = UKR } }
			create_corps_commander = { name = "Ignatiy Vasilchenko" id = 77473 portrait_path = "gfx/leaders/RUS/Portrait_Ignatiy_Vasilchenko.dds" traits = { guerilla_fighter trait_reckless } skill = 1 attack_skill = 3 defense_skill = 3 planning_skill = 3 logistics_skill = 3 }
			create_corps_commander = { name = "Mikhail Volkhovskiy" id = 77475 portrait_path = "gfx/leaders/RUS/Portrait_Mikhail_Volkhovskiy.dds" traits = { guerilla_fighter trait_reckless } skill = 1 attack_skill = 3 defense_skill = 3 planning_skill = 3 logistics_skill = 3 }
			create_corps_commander = { name = "Lev Davydov" id = 77476 portrait_path = "gfx/leaders/Russia/Portrait_Russia_Generic_25.dds" traits = { guerilla_fighter trait_reckless } skill = 1 attack_skill = 3 defense_skill = 3 planning_skill = 3 logistics_skill = 3 }
			create_corps_commander = { name = "Lev Kirpichov" id = 77477 portrait_path = "gfx/leaders/Russia/Portrait_Russia_Generic_24.dds" traits = { guerilla_fighter trait_reckless } skill = 1 attack_skill = 3 defense_skill = 3 planning_skill = 3 logistics_skill = 3 }
			create_corps_commander = { name = "Alexandr Lignau" id = 77478 portrait_path = "gfx/leaders/RUS/Portrait_Alexandr_Lignau.dds" traits = { guerilla_fighter trait_reckless } skill = 1 attack_skill = 3 defense_skill = 3 planning_skill = 3 logistics_skill = 3 }
			create_corps_commander = { name = "Vladimir Mustafin" id = 77479 portrait_path = "gfx/leaders/RUS/Portrait_Vladimir_Mustafin.dds" traits = { guerilla_fighter trait_reckless } skill = 1 attack_skill = 3 defense_skill = 3 planning_skill = 3 logistics_skill = 3 }
			create_corps_commander = { name = "Alexandr Ragoza" id = 77480 portrait_path = "gfx/leaders/RUS/Portrait_Alexandr_Ragoza.dds" traits = { guerilla_fighter trait_reckless } skill = 1 attack_skill = 3 defense_skill = 3 planning_skill = 3 logistics_skill = 3 }
			create_corps_commander = { name = "Boris Stelletskiy" id = 77481 portrait_path = "gfx/leaders/RUS/Portrait_Boris_Stelletskiy.dds" traits = { guerilla_fighter trait_reckless } skill = 1 attack_skill = 3 defense_skill = 3 planning_skill = 3 logistics_skill = 3 }
			create_corps_commander = { name = "Leonid Svyatopolk-Mirskiy" id = 77482 portrait_path = "gfx/leaders/Russia/Portrait_Russia_Generic_26.dds" traits = { guerilla_fighter trait_reckless } skill = 1 attack_skill = 3 defense_skill = 3 planning_skill = 3 logistics_skill = 3 }
			every_unit_leader = {
				limit = {
					OR = {
						has_id = 77653
						has_id = 77473
						has_id = 77475
						has_id = 77476
						has_id = 77477
						has_id = 77478
						has_id = 77479
						has_id = 77480
						has_id = 77481
						has_id = 77482
					}
				}
				set_nationality = REB
			}
		}
		hidden_effect = {
			NWA = { country_event = { id = rcw_dku.108 days = 58 } }
			KUB = { country_event = { id = rcw_dku.108 days = 57 } }
			DON = { country_event = { id = rcw_dku.108 days = 56 } }
			RVA = { country_event = { id = rcw_dku.108 days = 55 } }
		}
	}
}

# Тайный компромисс с директорией
country_event = {
	id = ukraine.-60
	title = ukraine.-60.t
	desc = ukraine.-60.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		has_government = authoritarism
	}

	is_triggered_only = yes
	
	option = {
		name = ukraine.-60.a
		country_event = ukraine.31
		set_country_flag = UKR_nominal_uprising
		if = {
			limit = { check_variable = { UKR_is_RUS > 0 } }
			country_event = ukraine.-61
		}
	}
}

# Появление повстанческих атаманов (Григорьев, Махно, Зелёный)
country_event = {
	id = ukraine.-59
	title = ukraine.-59.t
	desc = ukraine.-59.d
	picture = GFX_report_event_februrary_revolution

	is_triggered_only = yes
	
	option = {
		name = ukraine.-59.a
		if = {
			limit = { FRT = { exists = no } }
			every_state = {
				limit = { state = 965 }
				add_core_of = FRT
				FRT = { transfer_state = PREV }
			}
			FRT = {
				inherit_technology = UKR
				load_oob = FRT_1918
			}
			if = {
				limit = { KRN = { any_unit_leader = { OR = { has_id = 77418 has_id = 77419 has_id = 77420 has_id = 77421 has_id = 77422 has_id = 77423 has_id = 77424 } } } }
				KRN = {
					every_unit_leader = {
						limit = {
							has_id = 77418
							has_id = 77419
							has_id = 77420
							has_id = 77421
							has_id = 77422
							has_id = 77423
							has_id = 77424
						}
						set_nationality = FRT
					}
				}
			}
			hidden_effect = {
				FRT = {
					every_country = {
						limit = {
							NOT = {
								tag = PREV
								is_any_former_russian_empire_country = yes
								former_russian_empire_baltic_states_country = yes tag = HRB
								has_war_with = PREV
								is_in_faction_with = PREV
							}
						}
						set_THIS_country_non_recognize_PREV = yes
					}
				}
			}
			every_country = {
				limit = {
					OR = { has_war_with = RSR former_russian_empire_ukraine_country = yes }
					NOT = { OR = { has_government = communism has_government = radical_socialism tag = RSR is_in_faction_with = RSR } }
					NOT = { has_war_with = FRT }
				}
				FRT = {
					declare_war_on = {
						target = PREV
						type = annex_everything
					}
				}
			}
		}
		#if = {
			#limit = { GRG = { exists = no } }
			#every_state = {
				#limit = { OR = { state = 196 } }
				#add_core_of = GRG
				#GRG = { transfer_state = PREV }
			#}
			#RGR = { every_unit_leader = { limit = { OR = { has_id = 77487 } } set_nationality = GRG } }
			#GRG = {
				#inherit_technology = UKR
				#hidden_effect = { add_offsite_building = { type = arms_factory level = 3 } }
				#load_oob = GRG_1918
			#}
			#hidden_effect = {
			#	GRG = {
			#		every_country = {
			#			limit = {
			#				NOT = {
			#					tag = PREV
			#					is_any_former_russian_empire_country = yes
			#					former_russian_empire_baltic_states_country = yes tag = HRB
			#					has_war_with = PREV
			#					is_in_faction_with = PREV
			#				}
			#			}
			#			set_THIS_country_non_recognize_PREV = yes
			#		}
			#	}
			#}
			#every_country = {
				#limit = {
					#OR = { OR = { is_former_russian_empire_settled_non_cossack_country = yes former_russian_empire_cossack_country = yes } former_russian_empire_ukraine_country = yes }
					#NOT = { OR = { AND = { tag = UKR NOT = { has_country_flag = UKR_white } } has_government = communism has_government = radical_socialism is_in_faction_with = RUS } }
					#GRG = { has_war_with = FRT }
				#}
				#GRG = {
					#declare_war_on = {
						#target = PREV
						#type = annex_everything
					#}
				#}
			#}
		#}
	}
	
	option = {
		name = ukraine.-59.b
		if = {
			limit = { FRT = { exists = no } }
			every_state = {
				limit = { state = 965 }
				add_core_of = FRT
				FRT = { transfer_state = PREV }
			}
			FRT = {
				inherit_technology = UKR
				load_oob = FRT_1918
			}
			if = {
				limit = { KRN = { any_unit_leader = { OR = { has_id = 77418 has_id = 77419 has_id = 77420 has_id = 77421 has_id = 77422 has_id = 77423 has_id = 77424 } } } }
				KRN = {
					every_unit_leader = {
						limit = {
							has_id = 77418
							has_id = 77419
							has_id = 77420
							has_id = 77421
							has_id = 77422
							has_id = 77423
							has_id = 77424
						}
						set_nationality = FRT
					}
				}
			}
			hidden_effect = {
				FRT = {
					every_country = {
						limit = {
							NOT = {
								tag = PREV
								is_any_former_russian_empire_country = yes
								former_russian_empire_baltic_states_country = yes tag = HRB
								has_war_with = PREV
								is_in_faction_with = PREV
							}
						}
						set_THIS_country_non_recognize_PREV = yes
					}
				}
			}
			every_country = {
				limit = {
					OR = { has_war_with = RSR former_russian_empire_ukraine_country = yes }
					NOT = { OR = { has_government = communism has_government = radical_socialism tag = RSR is_in_faction_with = RSR } }
					NOT = { has_war_with = FRT }
				}
				FRT = {
					declare_war_on = {
						target = PREV
						type = annex_everything
					}
				}
			}
		}
		#if = {
			#limit = { GRG = { exists = no } }
			#every_state = {
				#limit = { OR = { state = 196 } }
				#add_core_of = GRG
				#GRG = { transfer_state = PREV }
			#}
			#RGR = { every_unit_leader = { limit = { OR = { has_id = 77487 } } set_nationality = GRG } }
			#GRG = {
				#inherit_technology = UKR
				#hidden_effect = { add_offsite_building = { type = arms_factory level = 3 } }
				#load_oob = GRG_1918
			#}
			#hidden_effect = {
			#	GRG = {
			#		every_country = {
			#			limit = {
			#				NOT = {
			#					tag = PREV
			#					is_any_former_russian_empire_country = yes
			#					former_russian_empire_baltic_states_country = yes tag = HRB
			#					has_war_with = PREV
			#					is_in_faction_with = PREV
			#				}
			#			}
			#			set_THIS_country_non_recognize_PREV = yes
			#		}
			#	}
			#}
			#every_country = {
				#limit = {
					#OR = { OR = { is_former_russian_empire_settled_non_cossack_country = yes former_russian_empire_cossack_country = yes } former_russian_empire_ukraine_country = yes }
					#NOT = { OR = { AND = { tag = UKR NOT = { has_country_flag = UKR_white } } has_government = communism has_government = radical_socialism is_in_faction_with = RUS } }
					#GRG = { has_war_with = FRT }
				#}
				#GRG = {
					#declare_war_on = {
						#target = PREV
						#type = annex_everything
					#}
				#}
			#}
		#}
		FRT = { change_tag_from = UKR }
	}
	
	option = {
		name = ukraine.-59.c
		trigger = { always = no }
		custom_effect_tooltip = work_in_progress
		hidden_effect = {
		if = {
			limit = { FRT = { exists = no } }
			every_state = {
				limit = { state = 965 }
				add_core_of = FRT
				FRT = { transfer_state = PREV }
			}
			FRT = {
				inherit_technology = UKR
				load_oob = FRT_1918
			}
			if = {
				limit = { KRN = { any_unit_leader = { OR = { has_id = 77418 has_id = 77419 has_id = 77420 has_id = 77421 has_id = 77422 has_id = 77423 has_id = 77424 } } } }
				KRN = {
					every_unit_leader = {
						limit = {
							has_id = 77418
							has_id = 77419
							has_id = 77420
							has_id = 77421
							has_id = 77422
							has_id = 77423
							has_id = 77424
						}
						set_nationality = FRT
					}
				}
			}
			hidden_effect = {
				FRT = {
					every_country = {
						limit = {
							NOT = {
								tag = PREV
								is_any_former_russian_empire_country = yes
								former_russian_empire_baltic_states_country = yes tag = HRB
								has_war_with = PREV
								is_in_faction_with = PREV
							}
						}
						set_THIS_country_non_recognize_PREV = yes
					}
				}
			}
			every_country = {
				limit = {
					OR = { has_war_with = RSR former_russian_empire_ukraine_country = yes }
					NOT = { OR = { has_government = communism has_government = radical_socialism tag = RSR is_in_faction_with = RSR } }
					NOT = { has_war_with = FRT }
				}
				FRT = {
					declare_war_on = {
						target = PREV
						type = annex_everything
					}
				}
			}
		}
		#if = {
			#limit = { GRG = { exists = no } }
			#every_state = {
				#limit = { OR = { state = 196 } }
				#add_core_of = GRG
				#GRG = { transfer_state = PREV }
			#}
			#RGR = { every_unit_leader = { limit = { OR = { has_id = 77487 } } set_nationality = GRG } }
			#GRG = {
				#inherit_technology = UKR
				#hidden_effect = { add_offsite_building = { type = arms_factory level = 3 } }
				#load_oob = GRG_1918
			#}
			#hidden_effect = {
			#	GRG = {
			#		every_country = {
			#			limit = {
			#				NOT = {
			#					tag = PREV
			#					is_any_former_russian_empire_country = yes
			#					former_russian_empire_baltic_states_country = yes tag = HRB
			#					has_war_with = PREV
			#					is_in_faction_with = PREV
			#				}
			#			}
			#			set_THIS_country_non_recognize_PREV = yes
			#		}
			#	}
			#}
			#every_country = {
				#limit = {
					#OR = { OR = { is_former_russian_empire_settled_non_cossack_country = yes former_russian_empire_cossack_country = yes } former_russian_empire_ukraine_country = yes }
					#NOT = { OR = { AND = { tag = UKR NOT = { has_country_flag = UKR_white } } has_government = communism has_government = radical_socialism is_in_faction_with = RUS } }
					#NOT = { has_war_with = GRG }
				#}
				#GRG = {
					#declare_war_on = {
						#target = PREV
						#type = annex_everything
					#}
				#}
			#}
		#}
		GRG = { change_tag_from = UKR }
		}
	}
}

# Казнь Скоропадского если отказался сотрудничать
country_event = {
	id = ukraine.-58
	title = ukraine.-58.t
	desc = ukraine.-58.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		any_unit_leader = { has_id = 91036 }
	}

	is_triggered_only = yes
	
	option = {
		name = ukraine.-58.a
		every_unit_leader = { limit = { has_id = 91036 } remove_unit_leader = yes }
	}
}

# После разгрома директории решается вопрос с Гетманом (+ ГВ с украинскими силами, если осада затянулась)
country_event = {
	id = ukraine.-57
	title = ukraine.-57.t
	desc = ukraine.-57.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		has_government = authoritarism
	}

	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { NOT = { any_unit_leader = { has_id = 91035 } } }
			REB = { every_unit_leader = { limit = { has_id = 91035 } set_nationality = UKR } }
			create_country_leader = { name = "Simon Petlura" desc = UKR_Simon_Petlura_DESC picture = "gfx/leaders/UKR/Portrait_Simon_Petlura.dds" expire = "1935.1.1" ideology = despotism_ideology traits = {  } }
		}
	}
	
	option = {
		name = ukraine.-57.a
		trigger = { is_ai = no }
		country_event = ukraine.-58
		retire_ideology_leader = authoritarism
		set_party_name = { ideology = authoritarism long_name = RVA_despotism_party_long name = RVA_despotism_party }
		if = {
			limit = { has_idea = Pyotr_Wrangel_army_chief }
			create_country_leader = { name = "Pyotr Wrangel" desc = RUS_Pyotr_Wrangel_DESC picture = "gfx/leaders/RUS/Portrait_Pyotr_Wrangel.dds" ideology = authoritarism_ideology traits = { min_1_the_black_baron warmonger_old_general political_dancer min_1_power_hungry_demagogue } }
			else = { create_country_leader = { name = "Fyodor Keller" desc = "RUS_Fyodor_Keller_DESC" picture = "gfx/leaders/RUS/Portrait_Fyodor_Keller.dds" ideology = authoritarism_ideology traits = { warmonger_old_general } } }
		}
		load_focus_tree = UKR_Keller
		set_cosmetic_tag = UKR_white
		set_country_flag = UKR_white
		add_ideas = {
			emergency_laws_b_law
			military_dictatorship_gov_form
		}
		if = {
			limit = { NOT = { has_idea = state_capitalism_law } }
			rise_mobilization_economy_law = yes
			add_ideas = state_capitalism_law
			low_labor_legislation = yes
		}
		hidden_effect = {
			remove_ideas = {
				UKR_weak_state_suppression_apparatus
				UKR_weak_state_suppression_apparatus_1
				UKR_weak_cultural_influence
				UKR_weak_cultural_influence_0_5
				UKR_weak_cultural_influence_0_25
				UKR_weak_cultural_influence_0
				UKR_cultural_collaboration
				UKR_cultural_collaboration_1
				UKR_cultural_collaboration_2
				UKR_local_autonomy
				UKR_russian_donbass
				UKR_free_cossaks
				UKR_reborn_cossaks
				UKR_lack_of_officers
			}
		}
		if = {
			limit = { NOT = { has_idea = UKR_russian_exiles } }
			add_ideas = UKR_russian_exiles
		}
		add_ideas = UKR_resistance_of_Ukrainian_elements
		if = {
			limit = { has_country_flag = UKR_have_siege_real }
			add_ideas = UKR_cruel_atamanshina
		}
		add_war_support = 0.1
		add_command_power = 50
		if = {
			limit = { NOT = { has_completed_focus = UKR_reliance_on_old_shots } }
			complete_national_focus = UKR_reliance_on_old_shots
		}
		country_event = ukraine.-59
		if = {
			limit = { has_country_flag = UKR_whites_hard_victory }
			start_civil_war = {
				ideology = despotism
				size = 0.6
				keep_unit_leaders_trigger = { NOT = { has_id = 91034 has_id = 91035 has_id = 91037 has_id = 91031 has_id = 91032 has_id = 91016 has_id = 91017 has_id = 91027 has_id = 91009 has_id = 9103 has_id = 91015 has_id = 91028 } }
			}
			else = {
				start_civil_war = {
					ideology = despotism
					size = 0.4
					keep_unit_leaders_trigger = { NOT = { has_id = 91034 has_id = 91035 has_id = 91037 has_id = 91031 has_id = 91032 has_id = 91016 has_id = 91017 has_id = 91027 has_id = 91009 has_id = 9103 has_id = 91015 has_id = 91028 } }
				}
			}
		}
		hidden_effect = { create_country_leader = { name = "Simon Petlura" desc = UKR_Simon_Petlura_DESC picture = "gfx/leaders/UKR/Portrait_Simon_Petlura.dds" expire = "1935.1.1" ideology = despotism_ideology traits = {  } } }
		random_other_country = {
			limit = {
				original_tag = UKR
				has_government = despotism
			}
			set_stability = 0.1
			set_war_support = 0.7
			save_global_event_target_as = UKR_CW_Petlyra
			add_ideas = {
				UKR_weak_cultural_influence
				UKR_cruel_atamanshina
			}
		}
		event_target:UKR_CW_Petlyra = {
			set_cosmetic_tag = UKR_yellow_blue
			load_focus_tree = UKR_directory
		}
		every_country = {
			limit = {
				has_war_with = UKR
				NOT = { has_war_with = event_target:UKR_CW_Petlyra }
			}
			declare_war_on = { target = event_target:UKR_CW_Petlyra type = annex_everything }
		}
		clear_global_event_target = UKR_CW_Petlyra
	}
	
	option = {
		name = ukraine.-57.b
		retire_ideology_leader = authoritarism
		set_party_name = { ideology = authoritarism long_name = RVA_despotism_party_long name = RVA_despotism_party }
		if = {
			limit = { has_idea = Pyotr_Wrangel_army_chief }
			create_country_leader = { name = "Pyotr Wrangel" desc = RUS_Pyotr_Wrangel_DESC picture = "gfx/leaders/RUS/Portrait_Pyotr_Wrangel.dds" ideology = authoritarism_ideology traits = { min_1_the_black_baron warmonger_old_general political_dancer min_1_power_hungry_demagogue } }
			else = { create_country_leader = { name = "Fyodor Keller" desc = "RUS_Fyodor_Keller_DESC" picture = "gfx/leaders/RUS/Portrait_Fyodor_Keller.dds" ideology = authoritarism_ideology traits = { warmonger_old_general } } }
		}
		load_focus_tree = UKR_Keller
		set_cosmetic_tag = UKR_white
		set_country_flag = UKR_white
		add_ideas = {
			emergency_laws_b_law
			military_dictatorship_gov_form
		}
		if = {
			limit = { NOT = { has_idea = state_capitalism_law } }
			rise_mobilization_economy_law = yes
			add_ideas = state_capitalism_law
			low_labor_legislation = yes
		}
		hidden_effect = {
			remove_ideas = {
				UKR_weak_state_suppression_apparatus
				UKR_weak_state_suppression_apparatus_1
				UKR_weak_cultural_influence
				UKR_weak_cultural_influence_0_5
				UKR_weak_cultural_influence_0_25
				UKR_weak_cultural_influence_0
				UKR_cultural_collaboration
				UKR_cultural_collaboration_1
				UKR_cultural_collaboration_2
				UKR_local_autonomy
				UKR_russian_donbass
				UKR_free_cossaks
				UKR_reborn_cossaks
				UKR_lack_of_officers
			}
		}
		if = {
			limit = { NOT = { has_idea = UKR_russian_exiles } }
			add_ideas = UKR_russian_exiles
		}
		add_ideas = UKR_resistance_of_Ukrainian_elements
		if = {
			limit = { has_country_flag = UKR_have_siege_real }
			add_ideas = UKR_cruel_atamanshina
		}
		add_war_support = 0.1
		add_command_power = 50
		if = {
			limit = { NOT = { has_completed_focus = UKR_reliance_on_old_shots } }
			complete_national_focus = UKR_reliance_on_old_shots
		}
		country_event = ukraine.-59
		if = {
			limit = { has_country_flag = UKR_whites_hard_victory }
			start_civil_war = {
				ideology = despotism
				size = 0.6
				keep_unit_leaders_trigger = { NOT = { has_id = 91034 has_id = 91035 has_id = 91037 has_id = 91031 has_id = 91032 has_id = 91016 has_id = 91017 has_id = 91027 has_id = 91009 has_id = 9103 has_id = 91015 has_id = 91028 } }
			}
			else = {
				start_civil_war = {
					ideology = despotism
					size = 0.4
					keep_unit_leaders_trigger = { NOT = { has_id = 91034 has_id = 91035 has_id = 91037 has_id = 91031 has_id = 91032 has_id = 91016 has_id = 91017 has_id = 91027 has_id = 91009 has_id = 9103 has_id = 91015 has_id = 91028 } }
				}
			}
		}
		hidden_effect = { create_country_leader = { name = "Simon Petlura" desc = UKR_Simon_Petlura_DESC picture = "gfx/leaders/UKR/Portrait_Simon_Petlura.dds" expire = "1935.1.1" ideology = despotism_ideology traits = {  } } }
		random_other_country = {
			limit = {
				original_tag = UKR
				has_government = despotism
			}
			set_stability = 0.1
			set_war_support = 0.7
			save_global_event_target_as = UKR_CW_Petlyra
			add_ideas = {
				UKR_weak_cultural_influence
				UKR_cruel_atamanshina
			}
		}
		event_target:UKR_CW_Petlyra = {
			set_cosmetic_tag = UKR_yellow_blue
			load_focus_tree = UKR_directory
		}
		every_country = {
			limit = {
				has_war_with = UKR
				NOT = { has_war_with = event_target:UKR_CW_Petlyra }
			}
			declare_war_on = { target = event_target:UKR_CW_Petlyra type = annex_everything }
		}
		clear_global_event_target = UKR_CW_Petlyra
	}
}

# Финальный штурм Киева
country_event = {
	id = ukraine.-56
	title = ukraine.-56.t
	desc = ukraine.-56.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		has_government = authoritarism
	}

	is_triggered_only = yes
	
	option = {
		name = ukraine.-56.a
		if = {
			limit = { check_variable = { UKR_is_RUS > UKR_is_UKR } NOT = { has_country_flag = UKR_siege_lost } }
			random_list = {
				55 = {
					country_event = ukraine.-47
					set_country_flag = UKR_whites_hard_victory
				}
				45 = {
					country_event = ukraine.-46
				}
			}
		}
		else = { country_event = ukraine.-46 }
	}
}

# Договор с оставшимися германскими частями
country_event = {
	id = ukraine.-55
	title = ukraine.-55.t
	desc = ukraine.-55.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		has_government = authoritarism
	}

	is_triggered_only = yes
	
	option = {
		name = ukraine.-55.a
		country_event = { id = ukraine.-56 days = 4 }
	}
}

# Войска директории задержаны 
country_event = {
	id = ukraine.-54
	title = ukraine.-54.t
	desc = ukraine.-54.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		has_government = authoritarism
	}

	is_triggered_only = yes
	
	option = {
		name = ukraine.-54.a
		clr_country_flag = UKR_have_uprising_november
		country_event = { id = ukraine.-55 days = 8 }
	}
}

# Назначить главнокомадующим Келлера?
country_event = {
	id = ukraine.-53
	title = ukraine.-53.t
	desc = ukraine.-53.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		has_government = authoritarism
		has_variable = UKR_is_RUS
	}
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-53.a
		set_country_flag = UKR_siege_lost
		remove_ideas = Fyodor_Keller_army_chief
		add_war_support = -0.01
	}
	
	option = {
		name = ukraine.-53.b
		
	}
}

# Антигетманское восстание в Киеве
country_event = {
	id = ukraine.-52
	title = ukraine.-52.t
	desc = ukraine.-52.d
	picture = GFX_report_event_februrary_revolution

	is_triggered_only = yes
	
	option = {
		name = ukraine.-52.a
		set_country_flag = UKR_have_uprising_november
		add_political_power = -50
		add_stability = -0.2
		if = {
			limit = { OR = { check_variable = { UKR_is_RUS < 2 } has_country_flag = UKR_siege_lost } }
			country_event = ukraine.-46
		}
		country_event = { id = ukraine.-54 days = 4 }
	}
}

# Осада затягивается ещё сильнее
country_event = {
	id = ukraine.-51
	title = ukraine.-51.t
	desc = ukraine.-51.d
	picture = GFX_report_event_februrary_revolution

	is_triggered_only = yes
	
	option = {
		name = ukraine.-51.a
		add_political_power = -200
		add_stability = -0.1
		country_event = { id = ukraine.-52 days = 2 }
		set_country_flag = UKR_have_siege_real
	}
}

# Директория пытается штурмовать город
country_event = {
	id = ukraine.-50
	title = ukraine.-50.t
	desc = ukraine.-50.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		has_government = authoritarism
	}
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-50.a
		if = {
			limit = { check_variable = { UKR_is_RUS > UKR_is_UKR } }
			random_list = {
				50 = {
					country_event = ukraine.-47
					modifier = {
						add = 10
						OR = { has_idea = Fyodor_Keller_army_chief has_idea = Pyotr_Wrangel_army_chief }
					}
				}
				50 = {
					country_event = ukraine.-51
				}
			}
		}
		else_if = {
			limit = { check_variable = { UKR_is_UKR > UKR_is_RUS } }
			random_list = {
				20 = {
					country_event = ukraine.-51
					modifier = {
						add = 10
						OR = { has_idea = Fyodor_Keller_army_chief has_idea = Pyotr_Wrangel_army_chief }
					}
				}
				80 = {
					country_event = ukraine.-46
				}
			}
		}
		else = {
			country_event = ukraine.-51
		}
	}
}

# Назначить главнокомадующим Келлера?
country_event = {
	id = ukraine.-49
	title = ukraine.-49.t
	desc = ukraine.-49.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		has_government = authoritarism
		has_variable = UKR_is_RUS
	}
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-49.a
		add_to_variable = {
			var = UKR_is_RUS
			value = 1
		}
		add_ideas = Fyodor_Keller_army_chief
		add_war_support = 0.05
		country_event = { id = ukraine.-53 days = 2 random_days = 7 }
	}
	
	option = {
		name = ukraine.-49.b
		
	}
}

# Переход к осаде города
country_event = {
	id = ukraine.-48
	title = ukraine.-48.t
	desc = ukraine.-48.d
	picture = GFX_report_event_februrary_revolution

	is_triggered_only = yes
	
	option = {
		name = ukraine.-48.a
		add_political_power = -100
		add_stability = -0.1
		if = {
			limit = { has_completed_focus = UKR_reliance_on_old_shots NOT = { has_idea = Pyotr_Wrangel_army_chief has_idea = Fyodor_Keller_army_chief } }
			country_event = { id = ukraine.-49 days = 1 }
		}
		else_if = {
			limit = { has_completed_focus = UKR_reliance_on_old_shots OR = { has_idea = Pyotr_Wrangel_army_chief has_idea = Fyodor_Keller_army_chief } }
			country_event = { id = ukraine.-53 days = 2 random_days = 7 } 
		}
		country_event = { id = ukraine.-50 days = 3 }
		set_country_flag = UKR_have_siege
	}
}

# Белогвардейцы разбили войска директории (Мотовиловка/Короткая осада/Осада)
country_event = {
	id = ukraine.-47
	title = ukraine.-47.t
	desc = {
		text = ukraine.-47.d
		trigger = {
			UKR = { has_country_flag = UKR_have_siege has_country_flag = UKR_have_siege_real }
		}
	}
	desc = {
		text = ukraine.-47.d_1
		trigger = {
			UKR = { has_country_flag = UKR_have_siege NOT = { has_country_flag = UKR_have_siege_real } }
		}
	}
	desc = {
		text = ukraine.-47.d_2
		trigger = {
			UKR = { NOT = { has_country_flag = UKR_have_siege_real has_country_flag = UKR_have_siege } }
		}
	}
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-47.a
		if = {
			limit = { NOT = { has_country_flag = UKR_have_siege } }
			add_stability = 0.15
		}
		if = {
			limit = { NOT = { has_country_flag = UKR_have_siege_real } }
			add_political_power = 50
		}
		country_event = ukraine.-57
		clear_variable = UKR_is_UKR
		clear_variable = UKR_is_RUS
	}
}

# Директория смогла взять Киев (Мотовиловка/Удачный первый штурм/Антигетманскон восстание/Реальный исход)
country_event = {
	id = ukraine.-46
	title = ukraine.-46.t
	desc = {
		text = ukraine.-46.d
		trigger = {
			UKR = { has_country_flag = UKR_have_siege has_country_flag = UKR_have_siege_real }
		}
	}
	desc = {
		text = ukraine.-46.d_1
		trigger = {
			UKR = { has_country_flag = UKR_have_siege NOT = { has_country_flag = UKR_have_siege_real has_country_flag = UKR_have_uprising_november } }
		}
	}
	desc = {
		text = ukraine.-46.d_2
		trigger = {
			UKR = { has_country_flag = UKR_have_siege has_country_flag = UKR_have_siege_real has_country_flag = UKR_have_uprising_november }
		}
	}
	desc = {
		text = ukraine.-46.d_3
		trigger = {
			UKR = { NOT = { has_country_flag = UKR_have_siege_real has_country_flag = UKR_have_siege has_country_flag = UKR_have_uprising_november } }
		}
	}
	
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-46.a
		if = {
			limit = { NOT = { has_country_flag = UKR_have_siege } }
			add_stability = 0.15
		}
		if = {
			limit = { NOT = { has_country_flag = UKR_have_siege_real } }
			add_political_power = 50
		}
		country_event = ukraine.31
		clear_variable = UKR_is_UKR
		clear_variable = UKR_is_RUS
	}
}

# Начало восстания директории
country_event = {
	id = ukraine.-45
	title = {
		text = ukraine.-45.t
		trigger = {
			UKR = { has_country_flag = UKR_have_sich_archers }
		}
	}
	title = {
		text = ukraine.-45.t_1
		trigger = {
			UKR = { NOT = { has_country_flag = UKR_have_sich_archers } }
		}
	}
	desc = {
		text = ukraine.-45.d
		trigger = {
			UKR = { has_country_flag = UKR_have_sich_archers }
		}
	}
	desc = {
		text = ukraine.-45.d_1
		trigger = {
			UKR = { NOT = { has_country_flag = UKR_have_sich_archers } }
		}
	}
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-45.a
		every_unit_leader = { limit = { OR = { has_id = 77473 } } set_nationality = REB }
		hidden_effect = {
			NWA = { country_event = { id = rcw_dku.108 days = 58 } }
			KUB = { country_event = { id = rcw_dku.108 days = 57 } }
			DON = { country_event = { id = rcw_dku.108 days = 56 } }
			RVA = { country_event = { id = rcw_dku.108 days = 55 } }
		}
		if = {
			limit = { check_variable = { UKR_is_RUS > UKR_is_UKR } }
			random_list = {
				75 = {
					country_event = ukraine.-47
				}
				25 = {
					modifier = {
						add = 8
						has_country_flag = UKR_have_sich_archers
					}
					country_event = ukraine.-48
				}
			}
		}
		else_if = {
			limit = { check_variable = { UKR_is_UKR > UKR_is_RUS } }
			random_list = {
				67 = {
					modifier = {
						add = 8
						has_country_flag = UKR_have_sich_archers
					}
					country_event = ukraine.-46
				}
				33 = {
					country_event = ukraine.-48
				}
			}
		}
		else = {
			random_list = {
				30 = {
					modifier = {
						add = 10
						has_country_flag = UKR_have_sich_archers
					}
					country_event = ukraine.-46
				}
				30 = {
					country_event = ukraine.-47
				}
				40 = {
					country_event = ukraine.-48
				}
			}
		}
	}
}

# Гетман мгновенно свергается если выбрал Россию и не поддерживал русских (или выбрал Украину и не поддерживал украинцев)
country_event = {
	id = ukraine.-44
	title = ukraine.-44.t
	desc = {
		text = ukraine.-44.d
		trigger = {
			UKR = { has_country_flag = UKR_hetman_support_UKR }
		}
	}
	desc = {
		text = ukraine.-44.d_1
		trigger = {
			UKR = { has_country_flag = UKR_hetman_support_RUS }
		}
	}
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-44.a
		if = {
			limit = { has_country_flag = UKR_hetman_support_RUS }
			country_event = ukraine.31
		}
		else = { country_event = ukraine.-57 }
	}
}

# Германия согласилась на украинскую интервенцию
country_event = {
	id = ukraine.-43
	title = ukraine.-43.t
	desc = ukraine.-43.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-43.a
		
	}
}

# Германия отказала Украине в интервенции
country_event = {
	id = ukraine.-42
	title = ukraine.-42.t
	desc = ukraine.-42.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-42.a
		add_political_power = -50
		#load_focus_tree
	}
}

# Украина просит у Германии разрешения на интервенцию в Россию
country_event = {
	id = ukraine.-41
	title = ukraine.-41.t
	desc = ukraine.-41.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-38.a
		UKR = { country_event = ukraine.-42 }
	}
	
	option = {
		name = ukraine.-38.a
		UKR = { country_event = ukraine.-43 }
	}
}

# Германия дала согласие на смягчение режима
country_event = {
	id = ukraine.-40
	title = ukraine.-40.t
	desc = ukraine.-40.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-40.a
		add_popularity = {
			ideology = authoritarism
			popularity = 0.05
		}
		add_stability = 0.1
		add_political_power = -25
		add_ideas = presidential_republic_gov_form
		add_ideas = decrees_of_ruler_b_law
	}
}

# Германия отклонила реформы
country_event = {
	id = ukraine.-39
	title = ukraine.-39.t
	desc = ukraine.-39.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-39.a
		add_political_power = -25
		complete_national_focus = UKR_cancel_reforms_of_the_central_council
		#set_country_flag = GER_think_hetman_not_loyal
	}
}

# Оповещение Германии о том, что Гетман планирует пойти на уступки "левым"
country_event = {
	id = ukraine.-38
	title = ukraine.-38.t
	desc = ukraine.-38.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-38.a
		UKR = { country_event = ukraine.-39 }
	}
	
	option = {
		name = ukraine.-38.a
		UKR = { country_event = ukraine.-40 }
	}
}

# Согласие Дона
country_event = {
	id = ukraine.-37
	title = ukraine.-37.t
	desc = ukraine.-37.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-37.a
		set_country_flag = UKR_can_protect_DON
		add_political_power = 15
	}	
}

# Отказ Дона
country_event = {
	id = ukraine.-36
	title = ukraine.-36.t
	desc = ukraine.-36.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-36.a
	}	
}

# Договор с Доном
country_event = {
	id = ukraine.-35
	title = ukraine.-35.t
	desc = ukraine.-35.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = DON
		NOT = { has_government = communism has_government = radical_socialism }
		NOT = { has_war_with = UKR }
		is_subject = no
	}
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-35.a
		UKR = { country_event = ukraine.-37 }
		add_opinion_modifier = { target = UKR modifier = UKR_coop_DON }
		UKR = {
			add_opinion_modifier = { target = DON modifier = UKR_coop_DON }
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment_great_war
			amount = 5000
			producer = RUS
		}
		add_equipment_to_stockpile = {
			type = artillery_equipment_1_5
			amount = 200
			producer = RUS
		}
		add_equipment_to_stockpile = {
			type = field_guns_equipment
			amount = 200
			producer = RUS
		}
		add_equipment_to_stockpile = {
			type = motorized_equipment_0
			amount = 100
			producer = RUS
		}
		add_equipment_to_stockpile = {
			type = support_equipment_1
			amount = 100
			producer = RUS
		}
	}	
	
	option = {
		name = ukraine.-35.b
		trigger = { always = no }
		UKR = { country_event = ukraine.-36 }
	}
}

# Перемога
country_event = {
	id = ukraine.-34
	title = ukraine.-34.t
	desc = ukraine.-34.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-34.a
		if = {
			limit = { tag = UKR }
			add_political_power = 50
			add_war_support = 0.02
			annex_country = {
				target = CRI
				transfer_troops = no
			}
		}
	}	
}

# Зрада
country_event = {
	id = ukraine.-33
	title = ukraine.-33.t
	desc = ukraine.-33.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-33.a
		if = {
			limit = { NOT = { tag = UKR } }
			add_political_power = 50
			add_war_support = 0.02
		}
		if = {
			limit = { tag = UKR }
			add_political_power = -50
			add_war_support = -0.02
		}
	}	
}

# Перемога
country_event = {
	id = ukraine.-32
	title = ukraine.-32.t
	desc = ukraine.-32.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-32.a
		if = {
			limit = { tag = UKR }
			add_political_power = 50
			add_war_support = 0.02
			annex_country = {
				target = ODS
				transfer_troops = no
			}
		}
	}	
}

# Зрада
country_event = {
	id = ukraine.-31
	title = ukraine.-31.t
	desc = ukraine.-31.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-31.a
		if = {
			limit = { NOT = { tag = UKR } }
			add_political_power = 50
			add_war_support = 0.02
		}
		if = {
			limit = { tag = UKR }
			add_political_power = -50
			add_war_support = -0.02
		}
	}	
}

# Отказ ЗУНР
country_event = {
	id = ukraine.-30
	title = ukraine.-30.t
	desc = ukraine.-30.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-30.a
	}	
}

# Акт Злуки (Украина)
country_event = {
	id = ukraine.-29
	title = ukraine.-29.t
	desc = ukraine.-29.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-29.a
		add_political_power = 25
		set_country_flag = GAL_agree_zluky
		add_opinion_modifier = { target = GAL modifier = UKR_akt_zluky }
		GAL = {
			add_opinion_modifier = { target = UKR modifier = UKR_akt_zluky }
		}
	}
}

# Акт Злуки (ЗУНР)
country_event = {
	id = ukraine.-28
	title = ukraine.-28.t
	desc = ukraine.-28.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-28.a
		trigger = { always = no }
		UKR = { country_event = ukraine.-30 }
	}
	
	option = {
		name = ukraine.-28.b
		UKR = { country_event = ukraine.-29 }
	}
}

# Оповещалка
country_event = {
	id = ukraine.-27
	title = ukraine.-27.t
	desc = ukraine.-27.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-27.a
		if = {
			limit = { tag = RUS }
			add_stability = -0.1
			add_war_support = -0.1
		}
	}
}

# Восстание против России
country_event = {
	id = ukraine.-26
	title = ukraine.-26.t
	desc = ukraine.-26.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		UKR = { is_subject_of = RUS }
		has_global_flag = WWI_is_now
		NOT = { has_global_flag = WWI_GER_HAS_CAPITULATED }
	}
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-26.a
		add_stability = -0.05
		every_country = {
			limit = { OR = { tag = GER tag = AUH tag = SNS tag = TRG tag = TUR is_in_faction_with = GER is_in_faction_with = AUH is_in_faction_with = SNS tag = SNS is_in_faction_with = TRG tag = TRG is_in_faction_with = OAF tag = OAF is_in_faction_with = TUR AND = { is_in_faction_with = BUL NOT = { is_in_faction_with = ENG } } } OR = { is_faction_leader = yes is_in_faction = no } }
			white_peace = UKR
		}
		UKR = {
			if = {
				limit = { is_faction_leader = no is_in_faction_with = ENG }
				leave_faction = yes
			}
			RUS = {
				transfer_units_fraction= {
					target = PREV
					size = 0.07
					stockpile_ratio = 0.07
					army_ratio = 0.07
					navy_ratio = 0.0
					air_ratio = 0.0
					keep_unit_leaders_trigger = {
						always = yes
					}
				}
			}
		}
		every_state = {
			limit = {
				is_claimed_by = UKR
			}
			set_state_flag = subject_save_claim
		}
		GER = { UKR = { subjecting_script_with_transfer_parties_dominion = yes } country_event = ukraine.-27 }
		every_state = {
			limit = {
				has_state_flag = subject_save_claim
			}
			add_claim_by = UKR
			clr_state_flag = subject_save_claim
		}
		RUS = { country_event = ukraine.-27 }
	}
}

# Результаты расследования
country_event = {
	id = ukraine.-25
	title = ukraine.-25.t
	desc = ukraine.-25.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = RUS
		UKR = { is_subject_of = RUS }
		NOT = { has_country_flag = RUS_Oktober_revolution_fired }
		NOT = { has_country_flag = general_kornilov }
		has_country_flag = RUS_investigation_of_the_uprising_UKR
	}
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-25.a
		add_stability = -0.05
		UKR = { country_event = ukraine.-6 }
	}
}

# Подозрительная активность
country_event = {
	id = ukraine.-24
	title = ukraine.-24.t
	desc = ukraine.-24.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = RUS
		UKR = { is_subject_of = RUS }
		NOT = { has_country_flag = RUS_Oktober_revolution_fired }
		NOT = { has_country_flag = general_kornilov }
		NOT = { has_country_flag = RUS_investigation_of_the_uprising_UKR }
	}
	
	immediate = {
		if = {
			limit = { UKR = { has_completed_focus = UKR_contract_with_industrialists } }
			custom_effect_tooltip = ukraine.-24_contract_with_industrialists
		}
		if = {
			limit = { UKR = { has_completed_focus = UKR_seize_the_arsenals } }
			custom_effect_tooltip = ukraine.-24_seize_the_arsenals
		}
		if = {
			limit = { UKR = { has_completed_focus = UKR_the_promise_of_radical_reforms } }
			custom_effect_tooltip = ukraine.-24_promise_of_radical_reforms
		}
	}
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-24.a
		add_stability = 0.01
	}
	
	option = {
		name = ukraine.-24.b
		add_stability = -0.01
		set_country_flag = RUS_investigation_of_the_uprising_UKR
		country_event = { id = ukraine.-25 days = 18 }
	}
}

# Оповещение Германии
country_event = {
	id = ukraine.-23
	title = ukraine.-23.t
	desc = ukraine.-23.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = GER
		has_global_flag = WWI_is_now
		NOT = { has_country_flag = GER_monarchy_fall }
	}
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.-23.a
	}
}

# Стихийная демобилизация
country_event = {
	id = ukraine.-22
	title = ukraine.-22.t
	desc = ukraine.-22.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		OR = {
			is_subject_of = GER
			has_war = no
		}
	}
	
	mean_time_to_happen = {
		days = 0
	}
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-22.a
		custom_effect_tooltip = UKR_demobilization
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Gvardeyskaya Pekhotnaya Diviziya"
			}
			delete_unit_template_and_units = {
				division_template = "Sibirskaya Strelkovaya Diviziya"
			}
			delete_unit_template_and_units = {
				division_template = "Kazach'ya brigada"
			}
			delete_unit_template_and_units = {
				division_template = "Shturmovaya diviziya"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1899 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1913-1915 godov"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1910-1912 godov"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1900 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1901 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1902 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1903 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1904-1907 godov"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1908-1909 godov"
			}
		}
	}
}

# Сепаратный мир если революционная война
country_event = {
	id = ukraine.-21
	title = ukraine.-21.t
	desc = ukraine.-21.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		is_puppet = no
		is_in_faction = no
		has_global_flag = WWI_is_now
		NOT = { has_global_flag = WWI_GER_HAS_CAPITULATED }
		has_war_with = GER
		RUS = { OR = { has_completed_focus = RUS_revolutionary_war focus_progress = { focus = RUS_revolutionary_war progress > 0.01 } } }
	}
	
	mean_time_to_happen = {
		days = 0
	}
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-21.a
		complete_national_focus = UKR_war_for_freedom
	}
	
	option = {
		name = ukraine.-21.b
		complete_national_focus = UKR_peace_negotiations_with_GER
		GER = { country_event = treaty_of_brest.71 }
	}
}

# ОВВ совместные действия с большевиками
country_event = {
	id = ukraine.-20
	title = ukraine.-20.t
	desc = ukraine.-20.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-20.a
		random_list = {
			50 = {
				country_event = ukraine.-8
			}
			50 = {
				country_event = ukraine.-17
			}
		}
	}
}

# Русские разгромили центральную раду и уходят
country_event = {
	id = ukraine.-18
	title = ukraine.-18.t
	desc = ukraine.-18.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-18.a
		add_war_support = -10
		add_stability = -10
		add_political_power = -1000
		load_focus_tree = blank_focus
		RUS = { annex_country = { target = UKR transfer_troops = no } }
		hidden_effect = {
			NWA = { country_event = { id = rcw_dku.110 days = 58 } }
			KUB = { country_event = { id = rcw_dku.110 days = 57 } }
			DON = { country_event = { id = rcw_dku.110 days = 56 } }
			RVA = { country_event = { id = rcw_dku.110 days = 55 } }
		}
	}
}

# Успешное разоружение
country_event = {
	id = ukraine.-17
	title = ukraine.-17.t
	desc = ukraine.-17.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-17.a
		add_war_support = 0.1
		add_political_power = 50
		complete_national_focus = UKR_kkor
		add_equipment_to_stockpile = {
			type = infantry_equipment_great_war
			amount = 3000
			producer = RUS
		}
		add_equipment_to_stockpile = {
			type = support_equipment_1
			amount = 300
			producer = RUS
		}
	}
}

# Русские уходят
country_event = {
	id = ukraine.-16
	title = ukraine.-16.t
	desc = ukraine.-16.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-16.a
		add_war_support = -0.1
		complete_national_focus = UKR_kkor
		hidden_effect = {
			NWA = { country_event = { id = rcw_dku.107 days = 58 } }
			KUB = { country_event = { id = rcw_dku.107 days = 57 } }
			DON = { country_event = { id = rcw_dku.107 days = 56 } }
			RVA = { country_event = { id = rcw_dku.107 days = 55 } }
		}
	}
}

# ОВВ совместные действия с русскими частями
country_event = {
	id = ukraine.-15
	title = ukraine.-15.t
	desc = ukraine.-15.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-15.a
		random_list = {
			50 = {
				country_event = ukraine.-18
			}
			50 = {
				country_event = ukraine.-17
			}
		}
	}
	
	option = {
		name = ukraine.-15.b
		country_event = ukraine.-16
	}
}

# ОВВ исторический исход
country_event = {
	id = ukraine.-14
	title = ukraine.-14.t
	desc = ukraine.-14.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-14.a
		complete_national_focus = UKR_kkor
		add_political_power = 25
	}
}

# Октябрьское вооружённое восстание
country_event = {
	id = ukraine.-13
	title = ukraine.-13.t
	desc = ukraine.-13.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		RUS = { has_government = communism }
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-13.a
		country_event = { id = ukraine.-14 days = 5 }
	}
	
	option = {
		name = ukraine.-13.b
			country_event = { id = ukraine.-15 days = 5 }
	}
	
	option = {
		name = ukraine.-13.c
			country_event = { id = ukraine.-20 days = 5 }
	}
}

# Инструкция временного правительства центральной раде
country_event = {
	id = ukraine.-12
	title = ukraine.-12.t
	desc = ukraine.-12.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		UKR = { is_subject_of = RUS }
		UKR = { exists = yes }
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-12.a
		add_political_power = -100
		every_state = {
			limit = {
				is_claimed_by = UKR
			}
			set_state_flag = subject_save_claim
		}
		RUS = { UKR = { subjecting_script_with_transfer_parties_colony = yes } }
		every_state = {
			limit = {
				has_state_flag = subject_save_claim
			}
			add_claim_by = UKR
			clr_state_flag = subject_save_claim
		}
	}
}

# Временное правительство получает известие о формировании генерального секретариата
country_event = {
	id = ukraine.-11
	title = ukraine.-11.t
	desc = ukraine.-11.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = RUS
		UKR = { is_subject_of = RUS }
		UKR = { exists = yes }
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = budem_sledit_za_situaciey
		UKR = {
			add_ideas = {
				Vladimir_Vynnychenko_1
				Alexandr_Shulhyn_2
				Vsevolod_Holubovych_3
				Vladimir_Vynnychenko_4
				Valentyn_Sadovsky_5
			}
			remove_ideas = UKR_samostiyniki_vs_autonomists
			remove_ideas = UKR_poster_government
			if = {
				limit = { UKR = { NOT = { has_autonomy_state = autonomy_dominion } } }
				every_state = {
					limit = {
						is_claimed_by = UKR
					}
					set_state_flag = subject_save_claim
				}
				RUS = { UKR = { subjecting_script_with_transfer_parties_dominion = yes } }
				every_state = {
					limit = {
						has_state_flag = subject_save_claim
					}
					add_claim_by = UKR
					clr_state_flag = subject_save_claim
				}	
			}
		}
		ai_chance = {
			factor = 0
		}
	}
	
	option = {
		name = ukraine.-11.b
		UKR = { country_event = ukraine.-12 }
		ai_chance = {
			factor = 1
		}
	}
}

# Вербовка полуботковцев и запорожцев
country_event = {
	id = ukraine.-10
	title = ukraine.-10.t
	desc = ukraine.-10.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		UKR = { is_subject_of = RUS }
		has_completed_focus = UKR_organize_a_national_congress
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-10.a
		set_country_flag = UKR_polubotka
		capital_scope = {
			create_unit = {
				division = "name = \"2-y ukrainskiy kazachiy polk imeni getmana Pavla Polubotka\" division_template = \"Pekhotnyy polk\" start_experience_factor = 0.5 start_equipment_factor = 1 start_manpower_factor = 1"
				owner = ROOT
			}
		}
	}
}

# Съезд вольного казачества
country_event = {
	id = ukraine.-9
	title = ukraine.-9.t
	desc = ukraine.-9.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		UKR = { is_subject_of = RUS }
		has_completed_focus = UKR_organize_a_national_congress
	}
	
	mean_time_to_happen = {
		days = 10
	}
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-9.a
		add_war_support = 0.05
		add_ideas = UKR_free_cossaks
	}
}

# Вся власть у совета
country_event = {
	id = ukraine.-8
	title = ukraine.-8.t
	desc = ukraine.-8.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		RUS = { has_country_flag = RUS_Oktober_revolution_fired }
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = { USR = { set_cosmetic_tag = USR_Ukr_People_Rep_Sov } }
	}
	
	option = {
		name = ukraine.-8.a
		hidden_effect = {
			capital_scope = { USR = { transfer_state = PREV } }
			USR = {
				inherit_technology = UKR
				add_ideas = neutral_foreign_policy_law
				if = {
					limit = { RUS = { has_war_with = GER } }
					add_to_war = { targeted_alliance = RUS enemy = GER }
				}
				if = {
					limit = { RUS = { has_war_with = AUH } }
					add_to_war = { targeted_alliance = RUS enemy = AUH }
				}
				if = {
					limit = { DON = { exists = yes has_war_with = RUS } NOT = { has_war_with = DON } }
					declare_war_on = {
						target = DON
						type = annex_everything
					}
				}
				if = {
					limit = { RVA = { exists = yes has_war_with = RUS } NOT = { has_war_with = RVA } }
					declare_war_on = {
						target = RVA
						type = annex_everything
					}
				}
			}
		}
		USR = {
			annex_country = { target = UKR transfer_troops = yes }
			hidden_effect = {
				every_state = {
					limit = {
						is_core_of = UKR
					}
					add_core_of = PREV
				}
				every_state = {
					limit = {
						is_claimed_by = UKR
					}
					set_state_flag = subject_save_claim
				}
			}
			RUS = { PREV = { subjecting_script_with_transfer_parties_dominion = yes } }
			hidden_effect = {
				every_state = {
					limit = {
						has_state_flag = subject_save_claim
					}
					if = {
						limit = { OR = { is_claimed_by = BLR NOT = { is_core_of = RUS is_core_of = BLR } } }
						add_claim_by = PREV
					}
					clr_state_flag = subject_save_claim
				}
				every_country = {
					limit = {
						NOT = {
							tag = PREV
							has_government = communism
							has_government = radical_socialism
							has_government = social_democracy
							is_any_former_russian_empire_country = yes
							former_russian_empire_baltic_states_country = yes tag = HRB
							has_war_with = PREV
							is_in_faction_with = PREV
						}
					}
					set_THIS_country_non_recognize_PREV = yes
				}
				every_state = {
					limit = {
						is_owned_by = RUS
						is_core_of = PREV
					}
					PREV = { set_state_owner = PREV }
					if = {
						limit = { is_fully_controlled_by = RUS }
						PREV = { set_state_controller = PREV }
					}
				}
			}
		}
		USR = { change_tag_from = ROOT }
	}
}

# Агония центральной рады при раннем разгоне и октябрьской революции
country_event = {
	id = ukraine.-7
	title = ukraine.-7.t
	desc = ukraine.-7.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		UKR = { exists = no }
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-7.a
		UKR = {
			transfer_state = 202
			hidden_effect = { country_event = { id = ukraine.-8 hours = 2 } }
		}
	}
	option = {
		name = ukraine.-7.b
		UKR = {
			transfer_state = 202
			hidden_effect = { country_event = { id = ukraine.-8 hours = 2 } }
		}
		UKR = { change_tag_from = ROOT }
	}
}

# Разгон центральной рады
country_event = {
	id = ukraine.-6
	title = ukraine.-6.t
	desc = ukraine.-6.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		is_subject_of = RUS
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-6.a
		RUS = { annex_country = { target = UKR transfer_troops = no } set_country_flag = RUS_Central_Rada_early_dissolve }
	}
	
}

# Первый Всеукраинский военный съезд 20 мая (Временное правительство)
country_event = {
	id = ukraine.-5
	title = ukraine.-5.t
	desc = {
		text = ukraine.-5.d
		trigger = {
			UKR = { NOT = { has_country_flag = UKR_military_congress_independent_decision } }
		}
	}
	desc = {
		text = ukraine.-5.d_1
		trigger = {
			UKR = { has_country_flag = UKR_military_congress_independent_decision }
		}
	}
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_provisional_government_created
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = budem_sledit_za_situaciey
		add_political_power = -25
	}
	
	option = {
		name = ukraine.-5.b
		trigger = { NOT = { UKR = { has_country_flag = UKR_PG_attention } } }
		UKR = { country_event = ukraine.-2 }
	}
	
	option = {
		name = ukraine.-5.c
		trigger = { UKR = { has_country_flag = UKR_PG_attention OR = { has_country_flag = UKR_PG_cancel_unit has_country_flag = UKR_military_congress_independent_decision } } }
		add_political_power = -50
		add_stability = -0.05
		add_popularity = { ideology = ROOT popularity = -0.04 }
		UKR = { country_event = ukraine.-6 }
	}
}

# Украина не может создать юнит из-за запрета
country_event = {
	id = ukraine.-4
	title = ukraine.-4.t
	desc = ukraine.-4.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-4.a
		add_war_support = -0.15
		add_command_power = -25
		set_country_flag = UKR_PG_cancel_unit
	}
	
}

# Временное правительство оповещено о создании украинского полка, если противодействовало национальному строительству ранее
country_event = {
	id = ukraine.-3
	title = ukraine.-3.t
	desc = ukraine.-3.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_provisional_government_created
		has_country_flag = RUS_PG_no_accept_UKR_unit
		UKR = {
			is_subject_of = RUS
			focus_progress = {
  				focus = UKR_form_the_first_ukrainian_unit
  			progress > 0.01
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-3.a
	}
	
	option = {
		name = ukraine.-3.b
		add_popularity = { ideology = ROOT popularity = -0.02 }
		add_stability = -0.03
		add_political_power = -10
		UKR = { country_event = ukraine.-4 }
	}
}

# Предупреждение от Временного правительства
country_event = {
	id = ukraine.-2
	title = ukraine.-2.t
	desc = ukraine.-2.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		#has_country_flag = UKR_national_congress_independent_decision
		UKR = { is_subject_of = RUS }
		NOT = { has_country_flag = UKR_PG_attention }
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.-2.a
		add_political_power = -25
		add_stability = -0.02
		if = {
			limit = { has_country_flag = UKR_national_congress_independent_decision }
			clr_country_flag = UKR_national_congress_independent_decision
		}
		set_country_flag = UKR_PG_attention
	}
	
}

# Национальный конгресс (Временное правительство)
country_event = {
	id = ukraine.-1
	title = ukraine.-1.t
	desc = ukraine.-1.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_provisional_government_created
		UKR = { is_subject_of = RUS }
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = budem_sledit_za_situaciey
		if = {
			limit = { UKR = { has_country_flag = UKR_national_congress_independent_decision } }
			add_political_power = -50
			add_stability = -0.01
			UKR = { clr_country_flag = UKR_national_congress_independent_decision }
		}
		else = {
			add_political_power = -25
		}
	}
	
	option = {
		name = ukraine.-1.b
		trigger = { UKR = { has_country_flag = UKR_national_congress_independent_decision } }
		add_popularity = { ideology = ROOT popularity = -0.01 }
		UKR = { country_event = { id = ukraine.-2 days = 1 } }
	}
}

# Стихийная украинизация
country_event = {
	id = ukraine.0
	title = ukraine.0.t
	desc = ukraine.0.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_provisional_government_created
		UKR = { is_subject_of = RUS }
	}
	
	mean_time_to_happen = {
		days = 5
	}
	
	fire_only_once = yes
	
	option = {
		name = ukraine.0.a
		add_popularity = { ideology = ROOT popularity = 0.01 }
		add_stability = 0.01
	}
	
	option = {
		name = ukraine.0.b
		add_popularity = { ideology = ROOT popularity = -0.02 }
		add_stability = -0.03
		set_country_flag = RUS_PG_no_accept_UKR_unit
	}
}

# Українська Центральна Рада 22 марта
country_event = {
	id = ukraine.1
	title = ukraine.1.t
	desc = ukraine.1.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		has_start_date < 1917.11.7
		tag = RUS
		has_country_flag = RUS_provisional_government_created
		UKR = { exists = no }
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = budem_sledit_za_situaciey
		UKR = {
			transfer_state = 202
			load_focus_tree = Ukraine_central_rada_focus
		}
		every_state = {
			limit = {
				is_claimed_by = UKR
			}
			set_state_flag = subject_save_claim
		}
		RUS = { UKR = { subjecting_script_with_transfer_parties_poster_government = yes } }
		every_state = {
			limit = {
				has_state_flag = subject_save_claim
			}
			add_claim_by = UKR
			clr_state_flag = subject_save_claim
		}
	}
	
	option = {
		name = ukraine.1.b
		trigger = { is_ai = no }
		UKR = {
			transfer_state = 202
			load_focus_tree = Ukraine_central_rada_focus
		}
		every_state = {
			limit = {
				is_claimed_by = UKR
			}
			set_state_flag = subject_save_claim
		}
		RUS = { UKR = { subjecting_script_with_transfer_parties_poster_government = yes } }
		every_state = {
			limit = {
				has_state_flag = subject_save_claim
			}
			add_claim_by = UKR
			clr_state_flag = subject_save_claim
		}
		UKR = { change_tag_from = RUS }
	}
}

# Всеукраинский национальный съезд 20 апреля
country_event = {
	id = ukraine.2
	title = ukraine.2.t
	desc = ukraine.2.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		has_start_date < 1917.11.7
		tag = RUS
		has_country_flag = UKR_central_rada
		has_country_flag = RUS_provisional_government_created
		UKR = { exists = no }
		tag = UKR
		is_subject_of = RUS
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.2.a
		add_stability = 0.03
		RUS = { country_event = { id = ukraine.-1 days = 1 } }
	}
	
	option = {
		name = ukraine.2.b
		trigger = { NOT = { has_country_flag = UKR_false_loyalyty } }
		set_country_flag = UKR_national_congress_independent_decision
		add_war_support = 0.05
		add_popularity = { ideology = national_syndicalism popularity = 0.04 }
		add_popularity = { ideology = authoritarism popularity = 0.03 }
		add_popularity = { ideology = conservatism popularity = -0.07 }
		RUS = { country_event = { id = ukraine.-1 days = 1 } }
	}
	
}

# Первый Всеукраинский военный съезд 20 мая
country_event = {
	id = ukraine.3
	title = ukraine.3.t
	desc = ukraine.3.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		has_start_date < 1917.11.7
		tag = RUS
		has_country_flag = UKR_allukraine_national_congress
		has_country_flag = RUS_provisional_government_created
		UKR = { exists = no }
		tag = UKR
		is_subject_of = RUS
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.3.a
		add_war_support = 0.03
		RUS = { country_event = { id = ukraine.-5 days = 1 } }
	}
	
	option = {
		name = ukraine.3.b
		add_war_support = 0.15
		add_command_power = 200
		add_popularity = { ideology = conservatism popularity = -0.07 }
		set_country_flag = UKR_military_congress_independent_decision
		RUS = { country_event = { id = ukraine.-5 days = 1 } }
	}
}

# Требования центальной рады 30 мая
country_event = {
	id = ukraine.4
	title = ukraine.4.t
	desc = ukraine.4.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		has_start_date < 1917.11.7
		tag = RUS
		has_country_flag = UKR_first_allukraine_military_congress
		has_country_flag = RUS_provisional_government_created
		UKR = { exists = no }
	}
	
	mean_time_to_happen = {
		days = 10
		modifier = {
			factor = 0.5
			OR = {
				NOT = { controls_state = 199 }
				NOT = { controls_state = 201 }
			}
		}
	}
	
	fire_only_once = yes
	
	#Проигнорировать требования и ждать учредительного собрания
	option = {
		name = etot_vopros_doljen_bit_reshyon_na_uchrenitelnom_sobranii
		add_political_power = 50
		clr_country_flag = UKR_first_allukraine_military_congress
		set_country_flag = UKR_central_rada_demands_refused
		ai_chance = {
			factor = 1
		}
	}
	#Дать Украине ограниченную автономию
	option = {
		name = ukraine.4.b
		clr_country_flag = UKR_first_allukraine_military_congress
		set_country_flag = UKR_central_rada_demands_accepted
		every_state = {
			limit = {
				is_owned_by = RUS
				OR = {
					state = 202
					state = 93
					state = 193
					state = 198
					state = 834 state = 1293 state = 1352
					state = 199
					state = 201
					state = 203
					state = 1281
					state = 259
					state = 1323
					state = 959
					state = 916
					state = 1371
					state = 1217
					state = 200
					state = 1291
					state = 221
					state = 1285
					state = 225
					state = 226
					state = 1063
					state = 1367
					state = 958
					state = 1286
					state = 965
					#state = 923
				}
			}
			UKR = { set_state_owner = PREV }
			if = {
				limit = { is_fully_controlled_by = RUS }
				UKR = { set_state_controller = PREV }
			}
		}
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						state = 202
						state = 93
						state = 193
						state = 198
						state = 834 state = 1293 state = 1352
						state = 199
						state = 201
						state = 203
						state = 1281
						state = 259
						state = 1323
						state = 959
						state = 916
						state = 1371
						state = 1217
						state = 200
						state = 1291
						state = 221
						state = 1285
						state = 225
						state = 226
						state = 1063
						state = 1367
						state = 958
						state = 1286
						state = 965
						#state = 923
					}
				}
				set_state_province_controller = {
					controller = UKR
					limit = { OR = { tag = RUS is_subject_of = RUS is_in_faction_with = RUS } }
				}
			}
		}
		every_state = {
			limit = {
				is_claimed_by = UKR
			}
			set_state_flag = subject_save_claim
		}
		RUS = { UKR = { subjecting_script_with_transfer_parties_dominion = yes } }
		every_state = {
			limit = {
				has_state_flag = subject_save_claim
			}
			add_claim_by = UKR
			clr_state_flag = subject_save_claim
		}
		UKR = {
			add_to_war = { targeted_alliance = RUS enemy = GER }
			hidden_effect = { add_ideas = UKR_bonus_against_Central_powers }
			set_country_flag = UKR_no_need_first_and_second_universal
			#load_oob = UKR_1917
			remove_ideas = UKR_poster_government
		}
		ai_chance = {
			factor = 0
		}
	}
	#Дать Украине ограниченную автономию а потом за неё играть
	option = {
		name = ukraine.4.c
		clr_country_flag = UKR_first_allukraine_military_congress
		set_country_flag = UKR_central_rada_demands_accepted
		every_state = {
			limit = {
				is_owned_by = RUS
				OR = {
					state = 202
					state = 93
					state = 193
					state = 198
					state = 834 state = 1293 state = 1352
					state = 199
					state = 201
					state = 203
					state = 1281
					state = 259
					state = 1323
					state = 959
					state = 916
					state = 1371
					state = 1217
				}
			}
			UKR = { set_state_owner = PREV }
			if = {
				limit = { is_fully_controlled_by = RUS }
				UKR = { set_state_controller = PREV }
			}
		}
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						state = 202
						state = 93
						state = 193
						state = 198
						state = 834 state = 1293 state = 1352
						state = 199
						state = 201
						state = 203
						state = 1281
						state = 259
						state = 1323
						state = 959
						state = 916
						state = 1371
						state = 1217
					}
				}
				set_state_province_controller = {
					controller = UKR
					limit = { OR = { tag = RUS is_subject_of = RUS is_in_faction_with = RUS } }
				}
			}
		}
		every_state = {
			limit = {
				is_claimed_by = UKR
			}
			set_state_flag = subject_save_claim
		}
		RUS = { UKR = { subjecting_script_with_transfer_parties_dominion = yes } }
		every_state = {
			limit = {
				has_state_flag = subject_save_claim
			}
			add_claim_by = UKR
			clr_state_flag = subject_save_claim
		}
		UKR = {
			add_to_war = { targeted_alliance = RUS enemy = GER }
			hidden_effect = { add_ideas = UKR_bonus_against_Central_powers }
			set_country_flag = UKR_no_need_first_and_second_universal
			#load_oob = UKR_1917
			remove_ideas = UKR_poster_government
		}
		ai_chance = {
			factor = 0
		}
	}
}

# Первый Универсал 23 июня
country_event = {
	id = ukraine.5
	title = ukraine.5.t
	desc = ukraine.5.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		has_start_date < 1917.11.7
		tag = RUS
		has_country_flag = UKR_central_rada_demands_refused
		has_country_flag = RUS_provisional_government_created
		UKR = { exists = yes }
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	immediate = {
		add_to_variable = { var = global.num_of_universal value = 1 }
	}
	
	#Будем следить за ситуацией
	option = {
		name = budem_sledit_za_situaciey
		clr_country_flag = UKR_central_rada_demands_refused
		UKR = {
			transfer_state = 202
		}
		every_state = {
			limit = {
				is_claimed_by = UKR
			}
			set_state_flag = subject_save_claim
		}
		RUS = { UKR = { subjecting_script_with_transfer_parties_poster_government = yes } }
		every_state = {
			limit = {
				has_state_flag = subject_save_claim
			}
			add_claim_by = UKR
			clr_state_flag = subject_save_claim
		}
		UKR = {
			add_to_war = { targeted_alliance = RUS enemy = GER }
			hidden_effect = { add_ideas = UKR_bonus_against_Central_powers }
		}
		ai_chance = {
			factor = 0
		}
	}
	
	#Ехать на переговоры
	option = {
		name = ukraine.5.b
		clr_country_flag = UKR_central_rada_demands_refused
		UKR = {
			transfer_state = 202
		}
		every_state = {
			limit = {
				is_claimed_by = UKR
			}
			set_state_flag = subject_save_claim
		}
		RUS = { UKR = { subjecting_script_with_transfer_parties_poster_government = yes } }
		every_state = {
			limit = {
				has_state_flag = subject_save_claim
			}
			add_claim_by = UKR
			clr_state_flag = subject_save_claim
		}
		UKR = {
			add_to_war = { targeted_alliance = RUS enemy = GER }
			hidden_effect = { add_ideas = UKR_bonus_against_Central_powers }
			country_event = { id = ukraine.6 days = 18 }
			set_country_flag = UKR_first_universal_in_progress
		}
		ai_chance = {
			factor = 1
		}
	}
	
	#Ще не вмерла (играть за Украину)
	option = {
		trigger = {
			is_ai = no
		}
		name = ukraine.5.c
		clr_country_flag = UKR_central_rada_demands_refused
		UKR = {
			transfer_state = 202
		}
		every_state = {
			limit = {
				is_claimed_by = UKR
			}
			set_state_flag = subject_save_claim
		}
		RUS = { UKR = { subjecting_script_with_transfer_parties_poster_government = yes } }
		every_state = {
			limit = {
				has_state_flag = subject_save_claim
			}
			add_claim_by = UKR
			clr_state_flag = subject_save_claim
		}
		UKR = {
			add_to_war = { targeted_alliance = RUS enemy = GER }
			hidden_effect = { add_ideas = UKR_bonus_against_Central_powers }
		}
		UKR = { country_event = { id = ukraine.6 days = 18 } }
		UKR = { change_tag_from = RUS }
		ai_chance = {
			factor = 0
		}
	}
}

# Киевские переговоры 11 июля
country_event = {
	id = ukraine.6
	title = ukraine.6.t
	desc = ukraine.6.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		UKR = { exists = yes is_subject_of = RUS }
		RUS = { NOT = { has_country_flag = RUS_Oktober_revolution_fired } }
	}
	
	is_triggered_only = yes
	
	#Принять условия
	option = {
		name = ukraine.6.a
		RUS = { country_event = ukraine.8 }
	}
	#Потребовать большей автономии
	option = {
		name = ukraine.6.b
		trigger = { NOT = { has_country_flag = UKR_false_loyalyty } }
		add_political_power = 25
		ai_chance = {
			factor = 0
		}
		RUS = { country_event = ukraine.7 }
	}
}

# Центральная рада требует расширенной автономии 11 июля
country_event = {
	id = ukraine.7
	title = ukraine.7.t
	desc = ukraine.7.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = { #согласиться
		name = ukraine.7.a
		every_state = {
			limit = {
				is_owned_by = RUS
				OR = {
					state = 202
					state = 93
					state = 193
					state = 198
					state = 834 state = 1293 state = 1352
					state = 199
					state = 201
					state = 203
					state = 1281
					state = 259
					state = 1323
					state = 959
					state = 916
					state = 1371
					state = 1217
					state = 200
					state = 1291
					state = 221
					state = 1285
					state = 225
					state = 226
					state = 1063
					state = 1367
					state = 958
					state = 1286
					state = 965
					#state = 923
				}
			}
			UKR = { set_state_owner = PREV }
			if = {
				limit = { is_fully_controlled_by = RUS }
				UKR = { set_state_controller = PREV }
			}
		}
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						state = 202
						state = 93
						state = 193
						state = 198
						state = 834 state = 1293 state = 1352
						state = 199
						state = 201
						state = 203
						state = 1281
						state = 259
						state = 1323
						state = 959
						state = 916
						state = 1371
						state = 1217
						state = 200
						state = 1291
						state = 221
						state = 1285
						state = 225
						state = 226
						state = 1063
						state = 1367
						state = 958
						state = 1286
						state = 965
						#state = 923
					}
				}
				set_state_province_controller = {
					controller = UKR
					limit = { OR = { tag = RUS is_subject_of = RUS is_in_faction_with = RUS } }
				}
			}
		}
		#UKR = { load_oob = UKR_1917 }
		UKR = { set_country_flag = UKR_central_rada_II_universal }
		RUS = { set_country_flag = UKR_central_rada_II_universal }
		every_state = {
			limit = {
				is_claimed_by = UKR
			}
			set_state_flag = subject_save_claim
		}
		RUS = { UKR = { subjecting_script_with_transfer_parties_colony = yes } }
		every_state = {
			limit = {
				has_state_flag = subject_save_claim
			}
			add_claim_by = UKR
			clr_state_flag = subject_save_claim
		}
		hidden_effect = { RUS = { country_event = { id = russia.21 days = 1 } } }
		ai_chance = {
			factor = 50
		}
	}
	option = { #не согласиться
		name = ukraine.7.b
		add_political_power = 25
		#annex_country = { target = UKR transfer_troops = no }
		ai_chance = {
			factor = 50
		}
	}
}

# Второй Универсал 11 июля
country_event = {
	id = ukraine.8
	title = ukraine.8.t
	desc = ukraine.8.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	immediate = {
		add_to_variable = { var = global.num_of_universal value = 1 }
	}
	
	option = {
		name = excellent
		UKR = { set_country_flag = UKR_central_rada_II_universal }
		RUS = { set_country_flag = UKR_central_rada_II_universal }
		every_state = {
			limit = {
				is_claimed_by = UKR
			}
			set_state_flag = subject_save_claim
		}
		RUS = { UKR = { subjecting_script_with_transfer_parties = yes } }
		every_state = {
			limit = {
				has_state_flag = subject_save_claim
			}
			add_claim_by = UKR
			clr_state_flag = subject_save_claim
		}
		hidden_effect = { RUS = { country_event = { id = russia.21 days = 1 } } }
		every_state = {
			limit = {
				is_owned_by = RUS
				OR = {
					state = 202
					state = 93
					state = 193
					state = 198
					state = 834 state = 1293 state = 1352
					state = 199
					state = 201
					state = 203
					state = 1281
					state = 259
					state = 1323
					state = 959
					state = 916
					state = 1371
					state = 1217
				}
			}
			UKR = { set_state_owner = PREV }
			if = {
				limit = { is_fully_controlled_by = RUS }
				UKR = { set_state_controller = PREV }
			}
		}
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						state = 202
						state = 93
						state = 193
						state = 198
						state = 834 state = 1293 state = 1352
						state = 199
						state = 201
						state = 203
						state = 1281
						state = 259
						state = 1323
						state = 959
						state = 916
						state = 1371
						state = 1217
					}
				}
				set_state_province_controller = {
					controller = UKR
					limit = { OR = { tag = RUS is_subject_of = RUS is_in_faction_with = RUS } }
				}
			}
		}
		#UKR = { load_oob = UKR_1917 }
	}
}

# Третий Универсал 20 ноября
country_event = {
	id = ukraine.9
	title = ukraine.9.t
	desc = ukraine.9.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = RUS
		OR = {
			has_country_flag = RUS_Oktober_revolution_fired
			has_global_flag = RUS_Kornilov_civil_war
		}
		UKR = { is_puppet = no }
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	immediate = {
		add_to_variable = { var = global.num_of_universal value = 1 }
	}
	
	option = {
		name = budem_sledit_za_situaciey
		end_puppet = UKR
		every_owned_state = {
			limit = { OR = { is_core_of = UKR is_core_of = ROM } NOT = { region = 133 region = 135 region = 137 state = 953 state = 1284 state = 227 state = 918 state = 1290 state = 958 state = 1286 state = 1367 state = 221 state = 1285 state = 225 } }
			UKR = { set_state_owner = PREV }
			if = {
				limit = { is_fully_controlled_by = RUS }
				UKR = { set_state_controller = PREV }
			}
		}
		remove_from_faction = UKR
		diplomatic_relation = {
			country = UKR
			relation = military_access
			active = yes
		}
		clr_country_flag = UKR_central_rada_II_universal
		clr_country_flag = UKR_central_rada_demands_accepted
		UKR = {
			clr_country_flag = UKR_central_rada_II_universal
			country_event = { id = ukraine.11 days = 27 }
			add_ideas = neutral_foreign_policy_law
			add_ideas = UKR_russian_donbass
			add_to_war = { targeted_alliance = RUS enemy = GER }
			add_to_war = { targeted_alliance = RUS enemy = AUH }
		}
		RUS = {
			clr_country_flag = UKR_central_rada_II_universal
			clr_country_flag = UKR_central_rada_demands_accepted
		}
		clr_country_flag = UKR_central_rada_II_universal
		#load_oob = UKR_1918
		if = {
			limit = { RUS = { owns_state = 78 } }
			if = {
				limit = { RUS = { controls_state = 78 } }
				MOL = { transfer_state = 78 }
				else = {
					ROM = { set_state_owner = 78 }
				}
			}
		}
		if = {
			limit = { RUS = { owns_state = 766 } }
			if = {
				limit = { RUS = { controls_state = 766 } }
				MOL = { transfer_state = 766 }
				else = {
					ROM = { set_state_owner = 766 }
				}
			}
		}
		if = {
			limit = { RUS = { owns_state = 1292 } }
			if = {
				limit = { RUS = { controls_state = 1292 } }
				MOL = { transfer_state = 1292 }
				else = {
					ROM = { set_state_owner = 1292 }
				}
			}
		}
		if = {
			limit = { RUS = { owns_state = 1294 } }
			if = {
				limit = { RUS = { controls_state = 1294 } }
				MOL = { transfer_state = 1294 }
				else = {
					ROM = { set_state_owner = 1294 }
				}
			}
		}
	}
	
	option = {
		name = ukraine.9.b
		trigger = {
			is_ai = no
		}
		end_puppet = UKR
		every_owned_state = {
			limit = { OR = { is_core_of = UKR is_core_of = ROM } NOT = { region = 133 region = 135 region = 137 state = 953 state = 1284 state = 227 state = 918 state = 1290 state = 958 state = 1286 state = 1367 state = 221 state = 1285 state = 225 } }
			UKR = { set_state_owner = PREV }
			if = {
				limit = { is_fully_controlled_by = RUS }
				UKR = { set_state_controller = PREV }
			}
		}
		remove_from_faction = UKR
		diplomatic_relation = {
			country = UKR
			relation = military_access
			active = yes
		}
		clr_country_flag = UKR_central_rada_II_universal
		clr_country_flag = UKR_central_rada_demands_accepted
		UKR = {
			clr_country_flag = UKR_central_rada_II_universal
			country_event = { id = ukraine.11 days = 27 }
			add_ideas = neutral_foreign_policy_law
			add_ideas = UKR_russian_donbass
			add_to_war = { targeted_alliance = RUS enemy = GER }
			add_to_war = { targeted_alliance = RUS enemy = AUH }
		}
		RUS = {
			clr_country_flag = UKR_central_rada_II_universal
			clr_country_flag = UKR_central_rada_demands_accepted
		}
		clr_country_flag = UKR_central_rada_II_universal
		#load_oob = UKR_1918
		if = {
			limit = { RUS = { owns_state = 78 } }
			if = {
				limit = { RUS = { controls_state = 78 } }
				MOL = { transfer_state = 78 }
				else = {
					ROM = { set_state_owner = 78 }
				}
			}
		}
		if = {
			limit = { RUS = { owns_state = 766 } }
			if = {
				limit = { RUS = { controls_state = 766 } }
				MOL = { transfer_state = 766 }
				else = {
					ROM = { set_state_owner = 766 }
				}
			}
		}
		if = {
			limit = { RUS = { owns_state = 1292 } }
			if = {
				limit = { RUS = { controls_state = 1292 } }
				MOL = { transfer_state = 1292 }
				else = {
					ROM = { set_state_owner = 1292 }
				}
			}
		}
		if = {
			limit = { RUS = { owns_state = 1294 } }
			if = {
				limit = { RUS = { controls_state = 1294 } }
				MOL = { transfer_state = 1294 }
				else = {
					ROM = { set_state_owner = 1294 }
				}
			}
		}
		UKR = { change_tag_from = RUS }
	}
	
}

# Ввод войск РСФСР в Харьков
country_event = {
	id = ukraine.10
	title = ukraine.10.t
	desc = ukraine.10.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			every_state = {
				limit = { is_core_of = UKR }
				add_core_of = USR
				remove_core_of = RUS
				remove_core_of = RSS
				remove_core_of = CCA
			}
			every_state = {
				limit = {
					is_core_of = USR
					OWNER = {
						OR = {
							original_tag = DON
							original_tag = UKR
							original_tag = RUS
						}
					}
					OR = {
						region = 135
						state = 1291
						state = 221
						state = 1285
						state = 225
						state = 960
						state = 1367
						state = 965
						state = 958
						state = 1286
						state = 954
						state = 918
						state = 1290
						state = 227
						state = 953
						state = 1284
						state = 228
						state = 1044
						state = 218
						state = 1287
						state = 1288
						state = 1289
						state = 1259
					}
				}
				USR = { transfer_state = PREV }
			}
			USR = {
				set_cosmetic_tag = USR_Ukr_People_Rep_Sov
				inherit_technology = UKR
				add_ideas = neutral_foreign_policy_law
				if = {
					limit = { RUS = { has_war_with = GER } }
					add_to_war = { targeted_alliance = RUS enemy = GER }
				}
				if = {
					limit = { DON = { exists = yes has_war_with = RUS } NOT = { has_war_with = DON } }
					declare_war_on = {
						target = DON
						type = annex_everything
					}
				}
				if = {
					limit = { RVA = { exists = yes has_war_with = RUS } NOT = { has_war_with = RVA } }
					declare_war_on = {
						target = RVA
						type = annex_everything
					}
				}
				if = {
					limit = { UKR = { exists = yes } NOT = { has_war_with = UKR } }
					declare_war_on = {
						target = UKR
						type = annex_everything
					}
				}
				if = {
					limit = { 227 = { OR = { is_owned_by = DON is_owned_by = RVA } } }
					set_state_owner = 227
				}
				every_country = {
					limit = {
						NOT = {
							tag = PREV
							has_government = communism
							has_government = radical_socialism
							has_government = social_democracy
							is_any_former_russian_empire_country = yes
							former_russian_empire_baltic_states_country = yes tag = HRB
							has_war_with = PREV
							is_in_faction_with = PREV
						}
					}
					set_THIS_country_non_recognize_PREV = yes
				}
			}
			RUS = {
				end_puppet = UKR
				remove_from_faction = UKR
				diplomatic_relation = {
					country = UKR
					relation = military_access
					active = no
				}
				UKR = {
					diplomatic_relation = {
						country = RUS
						relation = military_access
						active = no
					}
				}
				diplomatic_relation = {
					country = USR
					relation = military_access
					active = yes
				}
				USR = {
					diplomatic_relation = {
						country = RUS
						relation = military_access
						active = yes
					}
				}
			}
			UKR = { add_ideas = neutral_foreign_policy_law }
			if = {
				limit = { UKR = { is_subject = no } RUS = { NOT = { has_war_with = UKR } } }
				RUS = {
					declare_war_on = {
						target = UKR
						type = annex_everything
					}
				}
				every_state = {
					limit = {
						is_claimed_by = UKR
					}
					set_state_flag = subject_save_claim
				}
				RUS = { USR = { subjecting_script_with_transfer_parties_semi_independent = yes } }
				every_state = {
					limit = {
						has_state_flag = subject_save_claim
					}
					add_claim_by = UKR
					clr_state_flag = subject_save_claim
				}
			}
		}
	}
	option = {
		name = ukraine.10.a
		effect_tooltip = {
			every_state = {
				limit = { is_core_of = UKR }
				add_core_of = USR
				remove_core_of = RUS
				remove_core_of = RSS
				remove_core_of = CCA
			}
			USR = {
				inherit_technology = UKR
				if = {
					limit = { DON = { exists = yes has_war_with = RUS } NOT = { has_war_with = DON } }
					declare_war_on = {
						target = DON
						type = annex_everything
					}
				}
				if = {
					limit = { RVA = { exists = yes has_war_with = RUS } NOT = { has_war_with = RVA } }
					declare_war_on = {
						target = RVA
						type = annex_everything
					}
				}
				if = {
					limit = { RUS = { has_war_with = GER } }
					add_to_war = { targeted_alliance = RUS enemy = GER }
				}
				add_ideas = neutral_foreign_policy_law
			}
		}
		#RUS = { every_unit_leader = { limit = { has_id = 19194 } set_nationality = USR } }
		USR = {
			load_oob = USR_1918
			load_oob = USR_russian_red_guard
		}
	}
	option = {
		name = ukraine.10.b
		trigger = {
			is_ai = no
		}
		effect_tooltip = {
			every_state = {
				limit = { is_core_of = UKR }
				add_core_of = USR
				remove_core_of = RUS
				remove_core_of = RSS
				remove_core_of = CCA
			}
			USR = {
				inherit_technology = UKR
				if = {
					limit = { DON = { exists = yes has_war_with = RUS } NOT = { has_war_with = DON } }
					declare_war_on = {
						target = DON
						type = annex_everything
					}
				}
				if = {
					limit = { RVA = { exists = yes has_war_with = RUS } NOT = { has_war_with = RVA } }
					declare_war_on = {
						target = RVA
						type = annex_everything
					}
				}
				if = {
					limit = { RUS = { has_war_with = GER } }
					add_to_war = { targeted_alliance = RUS enemy = GER }
				}
				add_ideas = neutral_foreign_policy_law
			}
		}
		#RUS = { every_unit_leader = { limit = { has_id = 19194 } set_nationality = USR } }
		USR = {
			load_oob = USR_1918
			load_oob = USR_russian_red_guard
		}
		USR = {
			change_tag_from = RUS
		}
	}
}

# Съезд советов
country_event = {
	id = ukraine.11
	title = ukraine.11.t
	desc = ukraine.11.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		RUS = {
			has_country_flag = RUS_Oktober_revolution_fired
		}
		#USR = { exists = yes }
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	#mean_time_to_happen = {
		#days = 20
		#modifier = {
			#factor = 0.01
			#has_global_flag = RUS_brest_peace_fired
		#}
	#}
	
	option = {
		name = ukraine.11.a #обеспечить проигрыш большевиков
		complete_national_focus = UKR_interfere_with_the_congress
		add_popularity = { ideology = communism popularity = -0.75 }
		hidden_effect = {
			RUS = {
				end_puppet = UKR
			}
			UKR = {
				leave_faction = yes
			}
		}
		#declare_war_on = {
			#target = USR
			#type = annex_everything
		#}
		#hidden_effect = {
			#if = {
				#limit = { UKR = { is_subject = no } }
				#RUS = {
					#declare_war_on = {
						#target = UKR
						#type = annex_everything
					#}
				#}
				#RUS = { USR = { subjecting_script_with_transfer_parties_semi_independent = yes } }
			#}
		#}
		set_country_flag = UKR_fail_of_congress_of_councils
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = ukraine.11.b #провести съезд как обычно
		complete_national_focus = UKR_not_interfere_with_the_congress
		if = {
			limit = { USR = { exists = no } }
			hidden_effect = { USR = { set_cosmetic_tag = USR_Ukr_People_Rep_Sov } }
			hidden_effect = {
				capital_scope = { USR = { transfer_state = PREV } }
				USR = {
					inherit_technology = UKR
					add_ideas = neutral_foreign_policy_law
					if = {
						limit = { RUS = { has_war_with = GER } }
						add_to_war = { targeted_alliance = RUS enemy = GER }
					}
					if = {
						limit = { RUS = { has_war_with = AUH } }
						add_to_war = { targeted_alliance = RUS enemy = AUH }
					}
					if = {
						limit = { DON = { exists = yes has_war_with = RUS } NOT = { has_war_with = DON } }
						declare_war_on = {
							target = DON
							type = annex_everything
						}
					}
					if = {
						limit = { RVA = { exists = yes has_war_with = RUS } NOT = { has_war_with = RVA } }
						declare_war_on = {
							target = RVA
							type = annex_everything
						}
					}
				}
			}
			USR = {
				annex_country = { target = UKR transfer_troops = yes }
				hidden_effect = {
					every_state = {
						limit = {
							is_core_of = UKR
						}
						add_core_of = PREV
					}
					every_state = {
						limit = {
							is_claimed_by = UKR
						}
						set_state_flag = subject_save_claim
					}
				}
				RUS = { PREV = { subjecting_script_with_transfer_parties_dominion = yes } }
				hidden_effect = {
					every_state = {
						limit = {
							has_state_flag = subject_save_claim
						}
						if = {
							limit = { OR = { is_claimed_by = BLR NOT = { is_core_of = RUS is_core_of = BLR } } }
							add_claim_by = PREV
						}
						clr_state_flag = subject_save_claim
					}
					every_country = {
						limit = {
							NOT = {
								tag = PREV
								has_government = communism
								has_government = radical_socialism
								has_government = social_democracy
								is_any_former_russian_empire_country = yes
								former_russian_empire_baltic_states_country = yes tag = HRB
								has_war_with = PREV
								is_in_faction_with = PREV
							}
						}
						set_THIS_country_non_recognize_PREV = yes
					}
					every_state = {
						limit = {
							is_owned_by = RUS
							is_core_of = PREV
						}
						PREV = { set_state_owner = PREV }
						if = {
							limit = { is_fully_controlled_by = RUS }
							PREV = { set_state_controller = PREV }
						}
					}
					every_state = {
						limit = {
							is_core_of = PREV
						}
						set_state_province_controller = {
							controller = PREV
							limit = { OR = { tag = RUS is_subject_of = RUS is_in_faction_with = RUS } }
						}
					}
				}
			}
			else = {
				USR = {
					annex_country = {
						target = ROOT
						transfer_troops = yes
					}
				}
			}
		}
		USR = { set_capital = { state = 202 } }
		USR = { change_tag_from = ROOT }
		ai_chance = {
			factor = 0
		}
	}
}
# Откол Румчерода и передача войск Украинского фронта Украине (пока что так, потом надо будет тебе, Дима, переделать как там должно быть по фокусам или чё там)
country_event = {
	id = ukraine.12
	title = ukraine.12.t
	desc = ukraine.12.d
	picture = GFX_report_event_februrary_revolution
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			#
		}
	}
	
	option = {
		name = ukraine.12.a
		every_owned_state = {
			limit = {
				OR = {
					state = 202
					state = 93
					state = 193
					state = 198
					state = 834 state = 1293 state = 1352
					state = 199
					state = 201
					state = 203
					state = 1281
					state = 259
					state = 1323
					state = 959
					state = 916
					state = 1371
					state = 1217
				}
			}
			UKR = { set_state_owner = PREV }
			if = {
				limit = { is_fully_controlled_by = RUS }
				UKR = { set_state_controller = PREV }
			}
		}
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						state = 202
						state = 93
						state = 193
						state = 198
						state = 834 state = 1293 state = 1352
						state = 199
						state = 201
						state = 203
						state = 1281
						state = 259
						state = 1323
						state = 959
						state = 916
						state = 1371
						state = 1217
					}
				}
				set_state_province_controller = {
					controller = UKR
					limit = { OR = { tag = RUS is_subject_of = RUS is_in_faction_with = RUS } }
				}
			}
		}
		UKR = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnyy polk"
			}
			if = {
				limit = { NOT = { UKR = { has_country_flag = UKR_taken_some_biggest_troops } } }
				RUS = {
					transfer_units_fraction= {
						target = PREV
						size = 0.07
						stockpile_ratio = 0.07
						army_ratio = 0.07
						navy_ratio = 0.0
						air_ratio = 0.0
						keep_unit_leaders_trigger = {
							always = yes
						}
					}
				}
			}
			else = {
				RUS = {
					transfer_units_fraction= {
						target = PREV
						size = 0.12
						stockpile_ratio = 0.07
						army_ratio = 0.07
						navy_ratio = 0.0
						air_ratio = 0.0
						keep_unit_leaders_trigger = {
							always = yes
						}
					}
				}
			}
		}
		if = {
			limit = { NOT = { country_exists = ODS } }
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
							state = 192
							state = 766
							state = 1292
							state = 1293
							state = 1294
							state = 1394
						}
					}
					add_core_of = ODS
				}
			}
			every_owned_state = {
				limit = { is_core_of = ODS }
				ODS = { transfer_state = PREV }
			}
			every_owned_state = {
				limit = { is_core_of = ROM }
				UKR = { transfer_state = PREV }
			}
			ODS = {
				RUS = {
					if = {
						limit = { ROM = { owns_state = 79 } }
						ODS = { set_state_owner = 79 }
						transfer_units_fraction= {
							target = ODS
							size = 0.02
							stockpile_ratio = 0.02
							army_ratio = 0.02
							navy_ratio = 0.0
							air_ratio = 0.0
							keep_unit_leaders_trigger = {
								always = yes
							}
						}
						ROM = { set_state_owner = 79 }
						else = {
							transfer_units_fraction= {
								target = ODS
								size = 0.02
								stockpile_ratio = 0.02
								army_ratio = 0.02
								navy_ratio = 0.0
								air_ratio = 0.0
								keep_unit_leaders_trigger = {
									always = yes
								}
							}
						}
					}
				}
				
				set_cosmetic_tag = ODS_RUMCHEROD
				set_country_flag = ODS_RUMCHEROD
				
				subjecting_script_with_transfer_parties_dominion = yes
			}
			hidden_effect = {
				random_owned_state = {
					limit = { is_on_continent = europe NOT = { impassable = yes } any_neighbor_state = { CONTROLLER = { has_war_with = ROOT } } }
					every_state = {
						limit = {
							OR = {
								is_owned_by = ROM
								is_controlled_by = ROM
								AND = {
									is_core_of = ROM
									is_owned_by = AUH
								}
							}
						}
						teleport_armies = {
							limit = {
								tag = ROOT
							}
							to_state = PREV
						}
					}
				}
			}
		}
	}
	
	option = {
		trigger = { always = no }
		name = ukraine.12.b
		every_owned_state = {
			limit = {
				OR = {
					state = 202
					state = 93
					state = 193
					state = 198
					state = 834 state = 1293 state = 1352
					state = 199
					state = 201
					state = 203
					state = 1281
					state = 259
					state = 1323
					state = 959
					state = 916
					state = 1371
					state = 1217
				}
			}
			UKR = { set_state_owner = PREV }
			if = {
				limit = { is_fully_controlled_by = RUS }
				UKR = { set_state_controller = PREV }
			}
		}
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						state = 202
						state = 93
						state = 193
						state = 198
						state = 834 state = 1293 state = 1352
						state = 199
						state = 201
						state = 203
						state = 1281
						state = 259
						state = 1323
						state = 959
						state = 916
						state = 1371
						state = 1217
					}
				}
				set_state_province_controller = {
					controller = UKR
					limit = { OR = { tag = RUS is_subject_of = RUS is_in_faction_with = RUS } }
				}
			}
		}
		UKR = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnyy polk"
			}
			if = {
				limit = { NOT = { UKR = { has_country_flag = UKR_taken_some_biggest_troops } } }
				RUS = {
					transfer_units_fraction= {
						target = PREV
						size = 0.07
						stockpile_ratio = 0.07
						army_ratio = 0.07
						navy_ratio = 0.0
						air_ratio = 0.0
						keep_unit_leaders_trigger = {
							always = yes
						}
					}
				}
			}
			else = {
				RUS = {
					transfer_units_fraction= {
						target = PREV
						size = 0.12
						stockpile_ratio = 0.07
						army_ratio = 0.07
						navy_ratio = 0.0
						air_ratio = 0.0
						keep_unit_leaders_trigger = {
							always = yes
						}
					}
				}
			}
		}
		if = {
			limit = { NOT = { country_exists = ODS } }
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
							state = 192
							state = 766
							state = 1292
							state = 1293
							state = 1294
							state = 1394
						}
					}
					add_core_of = ODS
				}
			}
			every_owned_state = {
				limit = { is_core_of = ODS }
				ODS = { transfer_state = PREV }
			}
			every_owned_state = {
				limit = { is_core_of = ROM }
				UKR = { transfer_state = PREV }
			}
			ODS = {
				RUS = {
					if = {
						limit = { ROM = { owns_state = 79 } }
						ODS = { set_state_owner = 79 }
						transfer_units_fraction= {
							target = ODS
							size = 0.02
							stockpile_ratio = 0.02
							army_ratio = 0.02
							navy_ratio = 0.0
							air_ratio = 0.0
							keep_unit_leaders_trigger = {
								always = yes
							}
						}
						ROM = { set_state_owner = 79 }
						else = {
							transfer_units_fraction= {
								target = ODS
								size = 0.02
								stockpile_ratio = 0.02
								army_ratio = 0.02
								navy_ratio = 0.0
								air_ratio = 0.0
								keep_unit_leaders_trigger = {
									always = yes
								}
							}
						}
					}
				}
				
				set_cosmetic_tag = ODS_RUMCHEROD
				set_country_flag = ODS_RUMCHEROD
				
				subjecting_script_with_transfer_parties_dominion = yes
			}
			hidden_effect = {
				random_owned_state = {
					limit = { is_on_continent = europe NOT = { impassable = yes } any_neighbor_state = { CONTROLLER = { has_war_with = ROOT } } }
					every_state = {
						limit = {
							OR = {
								is_owned_by = ROM
								is_controlled_by = ROM
								AND = {
									is_core_of = ROM
									is_owned_by = AUH
								}
							}
						}
						teleport_armies = {
							limit = {
								tag = ROOT
							}
							to_state = PREV
						}
					}
				}
			}
		}
		ODS = { change_tag_from = ROOT }
	}
}
# Роспуск первого состава исполкома Румчерода
country_event = {
	id = ukraine.13
	title = ukraine.13.t
	desc = ukraine.13.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		tag = ODS
		has_country_flag = ODS_RUMCHEROD
		has_government = social_liberalism
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 40
	}
	
	option = {
		name = ukraine.13.a # да
		add_popularity = {
			ideology = communism
			popularity = 0.2
		}
		add_popularity = {
			ideology = social_liberalism
			popularity = -0.2
		}
		country_event = { id = ukraine.14 days = 7 }
		ai_chance = {
			factor = 1
		}
	}
	
	option = {
		name = ukraine.13.b
		add_political_power = 30
		country_event = { id = ukraine.14 days = 7 }
		ai_chance = {
			factor = 0
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}
# Новые выборы в совет Румчерода
country_event = {
	id = ukraine.14
	title = ukraine.14.t
	desc = ukraine.14.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.14.a
		set_politics = {
			ruling_party = communism
			elections_allowed = no
		}
		set_country_flag = ODS_RUMCHEROD_vybory
		ai_chance = {
			factor = 1
		}
	}
	
	option = {
		trigger = { communism < 0.3 }
		name = ukraine.14.b
		set_politics = {
			ruling_party = social_liberalism
			elections_allowed = no
		}
		set_country_flag = ODS_RUMCHEROD_vybory
		OVERLORD = { end_puppet = ROOT }
		ai_chance = {
			factor = 0
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}
# Образование Одесской советской республики из Румчерода
country_event = {
	id = ukraine.15
	title = ukraine.15.t
	desc = {
		text = ukraine.15.d
		trigger = {
			OR = {
				has_government = radical_socialism
				has_government = communism
			}
		}
	}
	desc = {
		text = ukraine.15.d_1
		trigger = {
			NOT = {
				has_government = radical_socialism
				has_government = communism
			}
		}
	}
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		tag = ODS
		has_country_flag = ODS_RUMCHEROD
		has_country_flag = ODS_RUMCHEROD_vybory
		OR = {
			has_war_with = UKR
			is_neighbor_of = RVA
			is_neighbor_of = DON
			is_neighbor_of = CUB
			is_neighbor_of = RSS
			is_neighbor_of = CRI
			is_neighbor_of = USR
			UKR = {
				has_war_with = RUS
			}
			UKR = {
				has_war_with = USR
			}
		}
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = ukraine.15.a
		clr_country_flag = ODS_RUMCHEROD_vybory
		clr_country_flag = ODS_RUMCHEROD
		drop_cosmetic_tag = yes
		
		if = {
			limit = {
				OR = {
					has_government = radical_socialism
					has_government = communism
				}
			}
			if = {
				limit = { USR = { exists = yes } }
				give_military_access = USR
			}
		}
		if = {
			limit = {
				NOT = {
					has_government = radical_socialism
					has_government = communism
				}
			}
			add_popularity = {
				ideology = communism
				popularity = -0.1
			}
			add_popularity = {
				ideology = radical_socialism
				popularity = -0.1
			}
			add_popularity = {
				ideology = conservatism
				popularity = 0.3
			}
			if = {
				limit = { OR = { NOT = { has_war_with = GER has_war_with = AUH } RVA = { OR = { has_war_with = GER has_war_with = AUH } } } RVA = { exists = yes is_in_faction = no } }
				RVA = { create_faction = south_of_russia add_to_faction = ROOT }
				else = {
					if = {
						limit = { RVA = { exists = yes is_faction_leader = yes } }
						RVA = { add_to_faction = ROOT }
					}
				}
			}
		}
		
		ai_chance = {
			factor = 1
		}
	}
}

# Переворот Скоропадского
country_event = {
	id = ukraine.24
	title = ukraine.24.t
	desc = ukraine.24.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.24.a
		add_popularity = {
			ideology = authoritarism
			popularity = 0.2
		}
		set_politics = {
			ruling_party = authoritarism
			elections_allowed = no
		}
		add_ideas = {
			disarmed_nation
			civilian_economy
			export_focus
			emergency_laws_b_law
			military_dictatorship_gov_form
			#private_military_campaign
			minimum_legislation
			interventionalism_law
		}
		hidden_effect = {
			every_unit_leader = { limit = { has_id = 91035 } set_nationality = REB }
		}
		load_focus_tree = Ukraine_after_german_occupation_focus
		set_variable = {
			var = UKR_is_UKR
			value = 0
		}
		set_variable = {
			var = UKR_is_RUS
			value = 0
		}
		add_ideas = UKR_raw_material_appendage
		add_ideas = RUS_prodrazverstka_idea
		add_ideas = UKR_zerno_in
		remove_ideas = UKR_lack_of_a_clear_social_program
		#GER = { end_puppet = UKR }
		#every_state = {
		#	limit = {
		#		is_claimed_by = UKR
		#	}
		#	set_state_flag = subject_save_claim
		#}
		GER = { UKR = { subjecting_script_with_transfer_parties_integrated_puppet = yes } }
		#every_state = {
		#	limit = {
		#		has_state_flag = subject_save_claim
		#	}
		#	add_claim_by = UKR
		#	clr_state_flag = subject_save_claim
		#}
		GER = {
			add_ideas = UKR_zerno_out
			diplomatic_relation = {
				country = UKR
				relation = military_access
				active = yes
			}
		}
		AUH = {
			diplomatic_relation = {
				country = UKR
				relation = military_access
				active = yes
			}
		}
	}
}

# Сопротивление крестьян
country_event = {
	id = ukraine.25
	title = ukraine.25.t
	desc = ukraine.25.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		is_subject = yes
		is_subject_of = GER
		has_idea = UKR_zerno_in
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = ukraine.25.a
		add_popularity = {
			ideology = authoritarism
			popularity = -0.15
		}
		add_ideas = UKR_resistance_prodrazvorstka
		add_stability = -0.2
		add_war_support = -0.2
		set_country_flag = UKR_may_be_rebellion_ataman_zelonyy
	}
}

# Звенигородско-Таращанское восстание
country_event = {
	id = ukraine.26
	title = ukraine.26.t
	desc = ukraine.26.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		is_subject = yes
		is_subject_of = GER
		has_idea = UKR_zerno_in
		has_idea = UKR_resistance_prodrazvorstka
		has_country_flag = UKR_may_be_rebellion_ataman_zelonyy
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 3
	}
	
	option = {
		name = ukraine.26.a
		clr_country_flag = UKR_may_be_rebellion_ataman_zelonyy
		add_stability = -0.1
		add_war_support = -0.1
	}
}

# Украинский национальный союз и союз земских деятелей
country_event = {
	id = ukraine.27
	title = ukraine.27.t
	desc = ukraine.27.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		is_subject = yes
		is_subject_of = GER
		OR = {
			has_completed_focus = UKR_cancel_reforms_of_the_central_council
			has_completed_focus = UKR_reliance_on_landlords
		}
		has_government = authoritarism
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 2
	}
	
	option = {
		name = ukraine.27.a
		add_stability = -0.1
		add_political_power = -50
		set_party_name = { ideology = authoritarism long_name = UKR_authoritarism_hetman_party_long name = UKR_authoritarism_hetman_party }
	}
}

# Русские белогвардейцы
country_event = {
	id = ukraine.28
	title = ukraine.28.t
	desc = ukraine.28.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		has_war = no
		has_government = authoritarism
		NOT = { has_idea = UKR_russian_exiles }
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = ukraine.28.a
		add_ideas = UKR_russian_exiles
	}
}

# Вопрос о сичевых стрельцах
country_event = {
	id = ukraine.29
	title = ukraine.29.t
	desc = ukraine.29.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		has_government = authoritarism
	}
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.29.a
		add_political_power = -25
	}
	
	option = {
		name = ukraine.29.b
		add_to_variable = {
			var = UKR_is_UKR
			value = 1
		}
		set_country_flag = UKR_have_sich_archers
		division_template = {
			name = "Gvardeyskaya Pekhotnaya Diviziya"		# Elite
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
				infantry = { x = 1 y = 2 }
				infantry = { x = 2 y = 0 }
				artillery_brigade = { x = 2 y = 1 }
				artillery_brigade = { x = 2 y = 2 }
			}
			support = {
				recon = { x = 0 y = 0 }
				engineer = { x = 0 y = 1 }
				field_hospital = { x = 0 y = 2 }
				artillery = { x = 0 y = 3 }
			}
			priority = 2
		}
		capital_scope = {
			create_unit = {
				division = "name = \"Otdelnyy otryad Sechevykh streltsov\" division_template = \"Gvardeyskaya Pekhotnaya Diviziya\" start_experience_factor = 0.5 start_equipment_factor = 1 start_manpower_factor = 1"
				owner = ROOT
			}
		}
	}
}

# Выбор позиционирования государства (часть России или независимость)
country_event = {
	id = ukraine.30
	title = ukraine.30.t
	desc = ukraine.30.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		has_global_flag = WWI_GER_HAS_CAPITULATED
		has_government = authoritarism
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 0
	}
	
	immediate = {
		set_country_flag = UKR_unstable_hetman
		hidden_effect = { remove_ideas = private_military_campaign }
	}
	
	option = {
		name = ukraine.30.a
		set_country_flag = UKR_hetman_support_RUS
		if = {
			limit = { OR = { check_variable = { UKR_is_RUS = 0 } AND = { check_variable = { UKR_is_RUS = 1 } has_country_flag = UKR_have_sich_archers } } }
			country_event = { id = ukraine.-44 days = 3 }
		}
		else_if = {
			limit = { check_variable = { UKR_is_UKR = 0 } }
			country_event = { id = ukraine.-68 days = 3 }
		}
		else = {
			country_event = { id = ukraine.-45 days = 3 }
		}
	}
	
	option = {
		name = ukraine.30.b
		set_country_flag = UKR_hetman_support_UKR
		if = {
			limit = { check_variable = { UKR_is_UKR = 0 } }
			country_event = { id = ukraine.-44 days = 3 }
		}
		else = {
			country_event = { id = ukraine.-60 days = 3 }
		}
	}
}

# Переворот Петлюры aka Директории УНР
country_event = {
	id = ukraine.31
	title = ukraine.31.t
	desc = ukraine.31.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		has_global_flag = WWI_GER_HAS_CAPITULATED
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			set_party_name = { ideology = authoritarism long_name = UKR_authoritarism_party_long name = UKR_authoritarism_party }
			remove_ideas = UKR_russian_exiles
			if = {
				limit = { NOT = { any_unit_leader = { has_id = 91035 } } }
				REB = { every_unit_leader = { limit = { has_id = 91035 } set_nationality = UKR } }
				create_country_leader = { name = "Simon Petlura" desc = UKR_Simon_Petlura_DESC picture = "gfx/leaders/UKR/Portrait_Simon_Petlura.dds" expire = "1935.1.1" ideology = despotism_ideology traits = {  } }
			}
		}
	}
	
	
	option = {
		name = ukraine.31.a
		#trigger = { always = no }
		if = {
			limit = { NOT = { has_country_flag = UKR_nominal_uprising } }
			add_ideas = UKR_cruel_atamanshina
		}
		load_focus_tree = UKR_directory
		add_popularity = {
			ideology = authoritarism
			popularity = -0.3
		}
		add_popularity = {
			ideology = despotism
			popularity = 0.1
		}
		set_politics = {
			ruling_party = despotism
			elections_allowed = no
		}
		set_variable = { despotism_coalition = 2 } #socdem
		#remove_ideas = UKR_zerno_in
		GER = {
			#remove_ideas = UKR_zerno_out
		}
		remove_ideas = {
			UKR_cultural_collaboration
			UKR_cultural_collaboration_1
			UKR_cultural_collaboration_2
		}
		if = {
			limit = { NOT = { has_idea = UKR_weak_cultural_influence has_idea = UKR_weak_cultural_influence_0_5 has_idea = UKR_weak_cultural_influence_0_25 has_idea = UKR_weak_cultural_influence_0 } }
			add_ideas = UKR_weak_cultural_influence
		}
		if = {
			limit = { NOT = { has_completed_focus = UKR_course_towards_full_ukrainianization } }
			complete_national_focus = UKR_course_towards_full_ukrainianization
		}
		set_country_flag = UKR_directory_win
		country_event = ukraine.-59
		add_ideas = {
			emergency_laws_b_law
			military_dictatorship_gov_form
			laissez_faire_law
		}
		if = {
			limit = { NOT = { has_country_flag = UKR_hetman_support_UKR } }
			every_unit_leader = { limit = { has_id = 91036 } set_nationality = REB }
		}
		every_unit_leader = {
			limit = {
				OR = {
					has_id = 77653
					has_id = 77473
					has_id = 77475
					has_id = 77476
					has_id = 77477
					has_id = 77478
					has_id = 77479
					has_id = 77480
					has_id = 77481
					has_id = 77482
				}
			}
			set_nationality = REB
		}
	}
}

# Трудовой конгресс
country_event = {
	id = ukraine.32
	title = ukraine.32.t
	desc = ukraine.32.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		controls_state = 202
		surrender_progress < 0.2
		NOT = { has_country_flag = UKR_cancel_labor_congress }
	}
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.32.a
		add_stability = 0.1
		peasant_and_land_and_bread_question_fall = yes
	}
}

# Пропуск трудового конгресса
country_event = {
	id = ukraine.33
	title = ukraine.33.t
	desc = ukraine.33.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		NOT = { controls_state = 202 }
		surrender_progress > 0.2
		has_completed_focus = UKR_mobilization_directory
		NOT = { has_completed_focus = UKR_convene_labor_congress }
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 0
	}
	
	immediate = {
		set_country_flag = UKR_cancel_labor_congress
	}
	
	option = {
		name = ukraine.33.a
		peasant_and_land_and_bread_question_fall = yes
		complete_national_focus = UKR_convene_labor_congress
	}
}

###Переворот Оскилко###
country_event = {
	id = ukraine.34
	title = ukraine.34.t
	desc = ukraine.34.d

	picture = GFX_report_event_sovarmy
	
	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		tag = UKR
		has_country_flag = UKR_directory_win
		has_government = despotism
		has_war = yes
		has_idea = UKR_cruel_atamanshina
		surrender_progress > 0.3
		RUS = { has_country_flag = RUS_Oktober_revolution_fired }
		has_unit_leader = 91017
	}
	
	mean_time_to_happen = {
		days = 5
	}
	
	fire_only_once = yes
	
	option = {
		name = ukraine.34.a
		add_political_power = -50
		every_unit_leader = { limit = { has_id = 91017 } set_nationality = REB }
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = ukraine.34.a
		add_stability = -0.05
		set_politics = { ruling_party = national_syndicalism elections_allowed = no }
		country_event = ukraine.35
		every_unit_leader = { limit = { has_id = 91035 } remove_unit_leader = yes }
		kill_ideology_leader = despotism
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

###Контрпереворот Коновальца###
country_event = {
	id = ukraine.35
	title = ukraine.35.t
	desc = ukraine.35.d

	picture = GFX_report_event_sovarmy
	
	trigger = {
		has_unit_leader = 91034
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.35.a
		add_political_power = -50
		every_unit_leader = { limit = { has_id = 91034 } set_nationality = REB }
	}
	option = {
		name = ukraine.35.b
		add_stability = -0.05
		if = {
			limit = { has_government = national_syndicalism }
			every_unit_leader = { limit = { has_id = 91017 } set_nationality = REB }
		}
		else_if = {
			limit = { has_government = authoritarism }
			every_unit_leader = { limit = { has_id = 91032 } set_nationality = REB }
		}
		set_politics = { ruling_party = fascism elections_allowed = no }
	}
}

###Переворот Болбочана###
country_event = {
	id = ukraine.36
	title = ukraine.36.t
	desc = ukraine.36.d

	picture = GFX_report_event_sovarmy
	
	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		tag = UKR
		has_country_flag = UKR_directory_win
		has_government = despotism
		has_war = yes
		has_idea = UKR_cruel_atamanshina
		surrender_progress > 0.3
		RUS = { has_country_flag = RUS_Oktober_revolution_fired }
		has_unit_leader = 91032
	}
	
	mean_time_to_happen = {
		days = 5
	}
	
	fire_only_once = yes
	
	option = {
		name = ukraine.36.a
		add_political_power = -50
		every_unit_leader = { limit = { has_id = 91032 } set_nationality = REB }
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = ukraine.36.b
		add_stability = -0.05
		set_politics = { ruling_party = authoritarism elections_allowed = no }
		country_event = ukraine.35
		every_unit_leader = { limit = { has_id = 91035 } remove_unit_leader = yes }
		kill_ideology_leader = despotism
		create_country_leader = { name = "Pyotr Bolbochan" desc = UKR_Pyotr_Bolbochan_DESC picture = "gfx/leaders/UKR/Portrait_Pyotr_Bolbochan.dds" ideology = authoritarism_ideology traits = {  } }
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

###Директория отправляет ультиматум Горигорьеву если не воевала с ним###
country_event = {
	id = ukraine.37
	title = ukraine.37.t
	desc = ukraine.37.d

	picture = GFX_report_event_sovarmy
	
	trigger = {
		tag = UKR
		has_country_flag = UKR_directory_win
		has_war = no
		NOT = { has_war_with = GRG }
		GRG = { exists = yes is_neighbor_of = ROOT has_capitulated = no is_in_faction = no is_subject = no }
	}
	
	mean_time_to_happen = {
		days = 0
	}
	
	fire_only_once = yes
	
	option = {
		name = ukraine.37.a
		GRG = { country_event = { id = ukraine.38 days = 1 } }
	}
}

###Григорьев получает ультиматум###
country_event = {
	id = ukraine.38
	title = ukraine.38.t
	desc = ukraine.38.d

	picture = GFX_report_event_sovarmy
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.38.a
		UKR = { country_event = { id = ukraine.39 days = 1 } }
	}
	
	option = {
		name = ukraine.38.b
		UKR = { country_event = { id = ukraine.40 days = 1 } }
	}
}

###Григорьев согласился подчиниться###
country_event = {
	id = ukraine.39
	title = ukraine.39.t
	desc = ukraine.39.d

	picture = GFX_report_event_sovarmy
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.39.a
		every_state = {
			limit = { is_core_of = GRG }
			remove_core_of = GRG
		}
		GRG = { every_unit_leader = { limit = { OR = { has_id = 77487 } } set_nationality = UKR } }
		annex_country = { 
			target = GRG
			transfer_troops = no 
		}
	}
}

###Война против Григорьева###
country_event = {
	id = ukraine.40
	title = ukraine.40.t
	desc = ukraine.40.d

	picture = GFX_report_event_sovarmy
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.40.a
		declare_war_on = {
			target = GRG
			type = annex_everything
		}
	}
}

###Большевики столкнулись с Григорьевым###
country_event = {
	id = ukraine.41
	title = ukraine.41.t
	desc = ukraine.41.d

	picture = GFX_report_event_sovarmy
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
		is_neighbor_of = GRG
		NOT = { has_war_with = GRG }
		GRG = { exists = yes is_neighbor_of = ROOT has_capitulated = no is_in_faction = no is_subject = no }
	}
	
	mean_time_to_happen = {
		days = 0
	}
	
	fire_only_once = yes
	
	option = {
		name = ukraine.41.a
		declare_war_on = {
			target = GRG
			type = annex_everything
		}
	}
	
	option = {
		name = ukraine.41.b
		GRG = { country_event = { id = ukraine.42 days = 1 } }
	}
}

###Григорьев получает требование большевиков###
country_event = {
	id = ukraine.42
	title = ukraine.42.t
	desc = ukraine.42.d

	picture = GFX_report_event_sovarmy
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.42.a
		RUS = { country_event = { id = ukraine.43 days = 1 } }
	}
	
	option = {
		name = ukraine.42.b
		RUS = { country_event = { id = ukraine.44 days = 1 } }
	}
}

###Война против Григорьева (большевики)###
country_event = {
	id = ukraine.43
	title = ukraine.43.t
	desc = ukraine.43.d

	picture = GFX_report_event_sovarmy
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.43.a
		declare_war_on = {
			target = GRG
			type = annex_everything
		}
	}
}

###Григорьев перешёл на сторону красной армии###
country_event = {
	id = ukraine.44
	title = ukraine.44.t
	desc = ukraine.44.d

	picture = GFX_report_event_sovarmy
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.44.a
		RUS = { GRG = { subjecting_script_with_transfer_parties_dominion = yes } }
	}
}

###Парни Григорьева недовольны большевиками###
country_event = {
	id = ukraine.45
	title = ukraine.45.t
	desc = ukraine.45.d

	picture = GFX_report_event_sovarmy
	
	trigger = {
		tag = GRG
		is_puppet_of = RUS
		RUS = { has_government = communism }
	}
	
	mean_time_to_happen = {
		days = 20
	}
	
	fire_only_once = yes
	
	option = {
		name = ukraine.45.a
		declare_war_on = {
			target = RUS
			type = annex_everything
		}
		RUS = { country_event = ukraine.46 }
	}
}

###Оповещалка большевикам о мятеже Григорьева###
country_event = {
	id = ukraine.46
	title = ukraine.46.t
	desc = ukraine.46.d

	picture = GFX_report_event_sovarmy
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.46.a
		#
	}
}

###Григорьев столкнулся с Махно в первый раз###
country_event = {
	id = ukraine.47
	title = ukraine.47.t
	desc = ukraine.47.d

	picture = GFX_report_event_sovarmy
	
	trigger = {
		tag = FRT
		is_neighbor_of = GRG
		NOT = { has_war_with = GRG }
		GRG = { exists = yes is_neighbor_of = ROOT has_capitulated = no is_in_faction = no is_subject = no has_war_with = RUS }
	}
	
	mean_time_to_happen = {
		days = 0
	}
	
	fire_only_once = yes
	
	option = {
		name = ukraine.47.a
		declare_war_on = {
			target = GRG
			type = annex_everything
		}
	}
	
	option = {
		name = ukraine.47.b
		
	}
}

###Григорьев просит сотрудничества с Махно?###
country_event = {
	id = ukraine.48
	title = ukraine.48.t
	desc = ukraine.48.d

	picture = GFX_report_event_sovarmy
	
	trigger = {
		tag = GRG
		has_war_with = RUS
		is_neighbor_of = FRT
		NOT = { has_war_with = FRT }
		FRT = { exists = yes is_neighbor_of = ROOT has_capitulated = no }
	}
	
	mean_time_to_happen = {
		days = 0
	}
	
	fire_only_once = yes
	
	option = {
		name = ukraine.48.a
		custom_effect_tooltip = work_in_progress
		FRT = { country_event = ukraine.49 }
	}
	
	option = {
		name = ukraine.48.b
	}
}

###Григорьев предложил Махно переговоры###
country_event = {
	id = ukraine.49
	title = ukraine.49.t
	desc = ukraine.49.d

	picture = GFX_report_event_sovarmy
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.49.a
		declare_war_on = {
			target = GRG
			type = annex_everything
		}
	}
	
	option = {
		name = ukraine.49.b
		random_list = {
			100 = {
				country_event = ukraine.50
			}
			0 = {
				custom_effect_tooltip = work_in_progress
			}
		}
	}
}

###Махно расправился с Григорьевым###
country_event = {
	id = ukraine.50
	title = ukraine.50.t
	desc = ukraine.50.d

	picture = GFX_report_event_sovarmy
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.50.a
		every_state = {
			limit = { is_core_of = GRG }
			add_core_of = FRT
			remove_core_of = GRG
		}
		GRG = { every_unit_leader = { limit = { OR = { has_id = 77487 } } remove_unit_leader = yes } }
		annex_country = { 
			target = GRG
			transfer_troops = yes 
		}
	}
}

###Григорьев расправился с Махно###
country_event = {
	id = ukraine.51
	title = ukraine.51.t
	desc = ukraine.51.d

	picture = GFX_report_event_sovarmy
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = ukraine.51.a
		every_state = {
			limit = { is_core_of = FRT }
			remove_core_of = FRT
		}
		FRT = { every_unit_leader = { limit = { NOT = { has_id = 77418 } } set_nationality = GRG } }
		FRT = { every_unit_leader = { limit = { OR = { has_id = 77418 } } remove_unit_leader = yes } }
		GRG = { country_event = ukraine.-62 }
	}
}

# Зрада (Крым побеждает интервентов)
country_event = {
	id = ukraine.52
	title = ukraine.52.t
	desc = ukraine.52.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		OR = {
			original_tag = UKR
			original_tag = GER
		}
		is_subject = no
		has_war_with = CRI
		CRI = { has_capitulated = no NOT = { surrender_progress > 0 } has_full_control_of_state = 137 has_full_control_of_state = 1251 }
		RUS = { has_country_flag = RUS_brest_peace_fired }
		NOT = { has_government = radical_socialism has_government = communism }
		OR = {
			is_in_faction = no
			is_faction_leader = yes
		}
	}
	
	mean_time_to_happen = {
		days = 90
	}
	
	fire_only_once = yes
	
	option = {
		name = ukraine.52.a
		add_political_power = -50
		add_stability = -0.05
		add_war_support = -0.05
		every_state = {
			limit = {
				region = 230
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
			CRI = { transfer_state = PREV }
		}
		if = {
			limit = {
				919 = {
					OWNER = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
							is_in_faction_with = ROOT
						}
					}
					CONTROLLER = {
						original_tag = CRI
						has_war_with = ROOT
					}
				}
			}
			919 = { CONTROLLER = { transfer_state = PREV } }
			if = {
				limit = {
					1259 = {
						OWNER = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								is_in_faction_with = ROOT
							}
						}
						CONTROLLER = {
							original_tag = CRI
							has_war_with = ROOT
						}
					}
				}
				1259 = { CONTROLLER = { transfer_state = PREV } }
			}
		}
		CRI = { leave_faction = yes }
		white_peace = CRI
		every_country = {
			limit = { is_in_faction_with = ROOT }
			white_peace = CRI
		}
		if = {
			limit = { CRI = { OR = { has_government = radical_socialism has_government = communism } } RSR = { NOT = { has_war_with = CRI } exists = yes } }
			RSR = { CRI = { subjecting_script_with_transfer_parties_dominion = yes } }
		}
	}
}
# Перемога в Тамани
country_event = {
	id = ukraine.53
	title = ukraine.53.t
	desc = ukraine.53.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.53.a
		if = {
			limit = { controls_state = 1251 }
			transfer_state = 917
		}
	}
}
# Зрада в Тамани
country_event = {
	id = ukraine.54
	title = ukraine.54.t
	desc = ukraine.54.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.54.a
		if = {
			limit = { controls_state = 917 }
			add_political_power = 25
			add_war_support = 0.02
		}
		if = {
			limit = { NOT = { controls_state = 917 } }
			add_political_power = -50
			add_war_support = -0.02
		}
	}
}
# Наступление на Ростов
country_event = {
	id = ukraine.55
	title = ukraine.55.t
	desc = ukraine.55.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	hidden = yes
	
	option = {
		name = ukraine.55.a
			if = {
				limit = {
					owns_state = 1291
					controls_state = 1291
					NOT = {
						owns_state = 1289
						controls_state = 1289
					}
					1289 = { OWNER = { NOT = { has_war_with = ROOT } any_owned_state = { NOT = { state = 1289 } } } }
					1289 = { CONTROLLER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } } }
				}
				1289 = { CONTROLLER = { transfer_state = PREV } }
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 1291
						num_provinces = 2
						on_win = ukraine.57
						on_lose = ukraine.56
						on_cancel = ukraine.58
					}
					defender = {
						state = 1289
						num_provinces = 2
						on_win = ukraine.56
						on_lose = ukraine.57
						on_cancel = ukraine.58
					}
				}
			}
			if = {
				limit = {
					owns_state = 1289
					controls_state = 1289
					NOT = {
						owns_state = 227
						controls_state = 227
					}
					227 = { OWNER = { NOT = { has_war_with = ROOT } any_owned_state = { NOT = { state = 227 } } } }
					227 = { CONTROLLER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } } }
				}
				227 = { CONTROLLER = { transfer_state = PREV } }
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 1289
						num_provinces = 2
						on_win = ukraine.57
						on_lose = ukraine.56
						on_cancel = ukraine.58
					}
					defender = {
						state = 227
						num_provinces = 2
						on_win = ukraine.56
						on_lose = ukraine.57
						on_cancel = ukraine.58
					}
				}
			}
			else_if = {
				limit = {
					owns_state = 919
					controls_state = 919
					NOT = {
						owns_state = 227
						controls_state = 227
					}
					227 = { OWNER = { NOT = { has_war_with = ROOT } any_owned_state = { NOT = { state = 227 } } } }
					227 = { CONTROLLER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } } }
				}
				227 = { CONTROLLER = { transfer_state = PREV } }
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 919
						num_provinces = 2
						on_win = ukraine.57
						on_lose = ukraine.56
						on_cancel = ukraine.58
					}
					defender = {
						state = 227
						num_provinces = 1
						on_win = ukraine.56
						on_lose = ukraine.57
						on_cancel = ukraine.58
					}
				}
			}
			else_if = {
				limit = {
					owns_state = 227
					controls_state = 227
					NOT = {
						owns_state = 918
						controls_state = 918
					}
					918 = { OWNER = { NOT = { has_war_with = ROOT } any_owned_state = { NOT = { state = 918 } } } }
					918 = { CONTROLLER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } } }
				}
				918 = { CONTROLLER = { transfer_state = PREV } }
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 227
						num_provinces = 1
						on_win = ukraine.57
						on_lose = ukraine.56
						on_cancel = ukraine.58
					}
					defender = {
						state = 918
						num_provinces = 1
						on_win = ukraine.56
						on_lose = ukraine.57
						on_cancel = ukraine.58
					}
				}
			}
			else_if = {
				limit = {
					owns_state = 227
					controls_state = 227
					NOT = {
						owns_state = 953
						controls_state = 953
					}
					953 = { OWNER = { NOT = { has_war_with = ROOT } any_owned_state = { NOT = { state = 953 } } } }
					953 = { CONTROLLER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } } }
				}
				953 = { CONTROLLER = { transfer_state = PREV } }
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 227
						num_provinces = 4
						on_win = ukraine.57
						on_lose = ukraine.56
						on_cancel = ukraine.58
					}
					defender = {
						state = 953
						num_provinces = 3
						on_win = ukraine.56
						on_lose = ukraine.57
						on_cancel = ukraine.58
					}
				}
			}
			else_if = {
				limit = {
					owns_state = 953
					controls_state = 953
					NOT = {
						owns_state = 918
						controls_state = 918
					}
					918 = { OWNER = { NOT = { has_war_with = ROOT } any_owned_state = { NOT = { state = 918 } } } }
					918 = { CONTROLLER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } } }
				}
				918 = { CONTROLLER = { transfer_state = PREV } }
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 953
						num_provinces = 2
						on_win = ukraine.57
						on_lose = ukraine.56
						on_cancel = ukraine.58
					}
					defender = {
						state = 918
						num_provinces = 2
						on_win = ukraine.56
						on_lose = ukraine.57
						on_cancel = ukraine.58
					}
				}
			}
			else_if = {
				limit = {
					owns_state = 953
					controls_state = 953
					NOT = {
						owns_state = 1284
						controls_state = 1284
					}
					1284 = { OWNER = { NOT = { has_war_with = ROOT } any_owned_state = { NOT = { state = 1284 } } } }
					1284 = { CONTROLLER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } } }
				}
				1284 = { CONTROLLER = { transfer_state = PREV } }
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 953
						num_provinces = 1
						on_win = ukraine.57
						on_lose = ukraine.56
						on_cancel = ukraine.58
					}
					defender = {
						state = 1284
						num_provinces = 1
						on_win = ukraine.56
						on_lose = ukraine.57
						on_cancel = ukraine.58
					}
				}
			}
			else_if = {
				limit = {
					owns_state = 918
					controls_state = 918
					NOT = {
						owns_state = 1284
						controls_state = 1284
					}
					1284 = { OWNER = { NOT = { has_war_with = ROOT } any_owned_state = { NOT = { state = 1284 } } } }
					1284 = { CONTROLLER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } } }
				}
				1284 = { CONTROLLER = { transfer_state = PREV } }
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 918
						num_provinces = 2
						on_win = ukraine.57
						on_lose = ukraine.56
						on_cancel = ukraine.58
					}
					defender = {
						state = 1284
						num_provinces = 2
						on_win = ukraine.56
						on_lose = ukraine.57
						on_cancel = ukraine.58
					}
				}
			}
			else_if = {
				limit = {
					owns_state = 1284
					controls_state = 1284
					NOT = {
						owns_state = 953
						controls_state = 953
					}
					953 = { OWNER = { NOT = { has_war_with = ROOT } any_owned_state = { NOT = { state = 953 } } } }
					953 = { CONTROLLER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } } }
				}
				953 = { CONTROLLER = { transfer_state = PREV } }
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 1284
						num_provinces = 1
						on_win = ukraine.57
						on_lose = ukraine.56
						on_cancel = ukraine.58
					}
					defender = {
						state = 953
						num_provinces = 1
						on_win = ukraine.56
						on_lose = ukraine.57
						on_cancel = ukraine.58
					}
				}
			}
			else_if = {
				limit = {
					owns_state = 953
					controls_state = 953
					NOT = {
						owns_state = 228
						controls_state = 228
					}
					228 = { OWNER = { NOT = { has_war_with = ROOT } any_owned_state = { NOT = { state = 228 } } } }
					228 = { CONTROLLER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } } }
				}
				228 = { CONTROLLER = { transfer_state = PREV } }
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 953
						num_provinces = 3
						on_win = ukraine.57
						on_lose = ukraine.56
						on_cancel = ukraine.58
					}
					defender = {
						state = 228
						num_provinces = 2
						on_win = ukraine.56
						on_lose = ukraine.57
						on_cancel = ukraine.58
					}
				}
			}
			else_if = {
				limit = {
					owns_state = 918
					controls_state = 918
					NOT = {
						owns_state = 954
						controls_state = 954
					}
					954 = { OWNER = { NOT = { has_war_with = ROOT } any_owned_state = { NOT = { state = 954 } } } }
					954 = { CONTROLLER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } } }
				}
				954 = { CONTROLLER = { transfer_state = PREV } }
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 918
						num_provinces = 2
						on_win = ukraine.57
						on_lose = ukraine.56
						on_cancel = ukraine.58
					}
					defender = {
						state = 954
						num_provinces = 1
						on_win = ukraine.56
						on_lose = ukraine.57
						on_cancel = ukraine.58
					}
				}
			}
			else_if = {
				limit = {
					owns_state = 954
					controls_state = 954
					NOT = {
						owns_state = 245
						controls_state = 245
					}
					245 = { OWNER = { NOT = { has_war_with = ROOT } any_owned_state = { NOT = { state = 245 } } } }
					245 = { CONTROLLER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } } }
				}
				245 = { CONTROLLER = { transfer_state = PREV } }
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 954
						num_provinces = 1
						on_win = ukraine.57
						on_lose = ukraine.56
						on_cancel = ukraine.58
					}
					defender = {
						state = 245
						num_provinces = 2
						on_win = ukraine.56
						on_lose = ukraine.57
						on_cancel = ukraine.58
					}
				}
			}
			else_if = {
				limit = {
					owns_state = 228
					controls_state = 228
					NOT = {
						owns_state = 218
						controls_state = 218
					}
					218 = { OWNER = { NOT = { has_war_with = ROOT } any_owned_state = { NOT = { state = 218 } } } }
					218 = { CONTROLLER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } } }
				}
				218 = { CONTROLLER = { transfer_state = PREV } }
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 228
						num_provinces = 2
						on_win = ukraine.57
						on_lose = ukraine.56
						on_cancel = ukraine.58
					}
					defender = {
						state = 218
						num_provinces = 2
						on_win = ukraine.56
						on_lose = ukraine.57
						on_cancel = ukraine.58
					}
				}
			}
			else_if = {
				limit = {
					1289 = { OWNER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } NOT = { any_owned_state = { NOT = { state = 1289 } } } } }
				}
				1289 = { OWNER = { ROOT = { annex_country = { target = PREV transfer_troops = no } } } }
			}
			else_if = {
				limit = {
					227 = { OWNER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } NOT = { any_owned_state = { NOT = { state = 227 } } } } }
				}
				227 = { OWNER = { ROOT = { annex_country = { target = PREV transfer_troops = no } } } }
			}
			else_if = {
				limit = {
					918 = { OWNER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } NOT = { any_owned_state = { NOT = { state = 918 } } } } }
				}
				918 = { OWNER = { ROOT = { annex_country = { target = PREV transfer_troops = no } } } }
			}
			else_if = {
				limit = {
					1284 = { OWNER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } NOT = { any_owned_state = { NOT = { state = 1284 } } } } }
				}
				1284 = { OWNER = { ROOT = { annex_country = { target = PREV transfer_troops = no } } } }
			}
			else_if = {
				limit = {
					953 = { OWNER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } NOT = { any_owned_state = { NOT = { state = 953 } } } } }
				}
				953 = { OWNER = { ROOT = { annex_country = { target = PREV transfer_troops = no } } } }
			}
			else_if = {
				limit = {
					228 = { OWNER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } NOT = { any_owned_state = { NOT = { state = 228 } } } } }
				}
				228 = { OWNER = { ROOT = { annex_country = { target = PREV transfer_troops = no } } } }
			}
			else_if = {
				limit = {
					954 = { OWNER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } NOT = { any_owned_state = { NOT = { state = 954 } } } } }
				}
				954 = { OWNER = { ROOT = { annex_country = { target = PREV transfer_troops = no } } } }
			}
			else_if = {
				limit = {
					245 = { OWNER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } NOT = { any_owned_state = { NOT = { state = 245 } } } } }
				}
				245 = { OWNER = { ROOT = { annex_country = { target = PREV transfer_troops = no } } } }
			}
			else_if = {
				limit = {
					218 = { OWNER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } NOT = { any_owned_state = { NOT = { state = 218 } } } } }
				}
				218 = { OWNER = { ROOT = { annex_country = { target = PREV transfer_troops = no } } } }
			}
	}
}
country_event = {
	id = ukraine.56
	hidden = yes
	is_triggered_only = yes
	option = {}
}
country_event = {
	id = ukraine.57
	hidden = yes
	is_triggered_only = yes
	option = {
		if = {
			limit = { OR = { original_tag = UKR original_tag = GER } NOT = { owns_state = 218 } }
			country_event = { id = ukraine.55 hours = 1 }
		}
		if = {
			limit = {
				OR = { original_tag = UKR original_tag = GER }
				owns_state = 218
				1044 = {
					OWNER = {
						OR = {
							has_government = radical_socialism
							has_government = communism
							has_government = social_democracy
						}
						NOT = { has_war_with = RSR }
					}
				}
			}
			1044 = { OWNER = { country_event = { id = rcw_dku.20 days = 1 } } }
		}
	}
}
country_event = {
	id = ukraine.58
	hidden = yes
	is_triggered_only = yes
	option = {}
}

# Украина или Россия предлагает другой стороне белый мир
country_event = {
	id = ukraine.59
	title = ukraine.59.t
	desc = ukraine.59.d
	picture = GFX_report_event_greece_civil_war_soldiers
	
	is_triggered_only = yes
	
	option = {
		ai_chance = {
			factor = 4
		}
		name = ukraine.59.a
		set_global_flag = UKR_communist_peace_fired
		every_country = {
			limit = { former_russian_empire_ukraine_country = yes OR = { is_subject_of = RSR is_in_faction_with = RSR } }
			RSR = { end_puppet = PREV }
			leave_faction = yes
		}
		every_state = {
			limit = {
				is_core_of = UKR
				OWNER = {
					OR = {
						tag = RUS
						is_subject_of = RUS
					}
				}
			}
			UKR = { transfer_state = PREV }
		}
		every_country = {
			limit = { OR = { tag = RUS is_in_faction_with = RUS } }
			white_peace = UKR
		}
	}
	
	option = {
		ai_chance = {
			factor = 2
		}
		name = ukraine.59.b
		FROM = { country_event = ukraine.60 }
	}
}

# Оповещалка о отклонении мирного предложения
country_event = {
	id = ukraine.60
	title = ukraine.60.t
	desc = ukraine.60.d
	picture = GFX_report_event_greece_civil_war_soldiers
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.60.a
		
	}
}
# Наступление на Ростов
country_event = {
	id = ukraine.61
	title = ukraine.61.t
	desc = ukraine.61.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	hidden = yes
	
	option = {
		name = ukraine.61.a
			if = {
				limit = {
					owns_state = 221
					controls_state = 221
					NOT = {
						owns_state = 240
						controls_state = 240
					}
					240 = { OWNER = { NOT = { has_war_with = ROOT } any_owned_state = { NOT = { state = 240 } } } }
					240 = { CONTROLLER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } } }
				}
				240 = { CONTROLLER = { transfer_state = PREV } }
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 221
						num_provinces = 2
						on_win = ukraine.58
						on_lose = ukraine.56
						on_cancel = ukraine.58
					}
					defender = {
						state = 240
						num_provinces = 2
						on_win = ukraine.56
						on_lose = ukraine.58
						on_cancel = ukraine.58
					}
				}
			}
			else_if = {
				limit = {
					240 = { OWNER = { NOT = { has_war_with = ROOT } OR = { has_government = radical_socialism has_government = communism } NOT = { any_owned_state = { NOT = { state = 240 } } } } }
				}
				240 = { OWNER = { ROOT = { annex_country = { target = PREV transfer_troops = no } } } }
			}
	}
}

# Передача Киева и левобережья в пользу УНРС во владение
country_event = {
	id = ukraine.100
	title = ukraine.100.t
	desc = ukraine.100.desc
	picture = GFX_report_event_februrary_revolution
	trigger = {
		has_start_date < 1918.3.14
		NOT = { has_global_flag = RUS_civil_war_over }
		tag = USR
		has_cosmetic_tag = USR_Ukr_People_Rep_Sov
		202 = { OWNER = { has_war_with = ROOT } CONTROLLER = { OR = { tag = ROOT is_subject_of = ROOT is_in_faction_with = ROOT has_subject = ROOT } } }
		has_war_with = GER
	}
	fire_only_once = yes
	mean_time_to_happen = {
		days = 0
	}

	immediate = {
		hidden_effect = {
			every_state = {
				limit = {
					is_owned_by = UKR
					is_core_of = ROOT
					is_fully_controlled_by = RSR
				}
				ROOT = { set_state_controller = PREV }
			}
			every_state = {
				limit = {
					is_core_of = ROOT
					OWNER = { NOT = { tag = RUS is_subject_of = RUS is_in_faction_with = RUS } }
				}
				set_state_province_controller = {
					controller = ROOT
					limit = { OR = { tag = RUS is_subject_of = RUS is_in_faction_with = RUS } }
				}
			}
			every_state = {
				limit = { OR = { state = 202 state = 959 state = 1217 state = 193 state = 259 state = 916 state = 1323 state = 200 } is_owned_by = UKR }
				set_state_owner_to = ROOT
			}
		}
	}
	option = {
		name = ukraine.100.a
		set_capital = { state = 202 }
	}
}

# Заключение мира советами после слива Украины подстилками немцев
country_event = {
	id = ukraine.101
	title = ukraine.101.t
	desc = ukraine.101.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = USR
		RUS = { has_country_flag = RUS_brest_peace_fired }
		has_war_with = UKR
		UKR = { OR = { is_subject_of = GER is_subject_of = AUH } has_capitulated = yes }
		NOT = { any_state = { is_core_of = USR CONTROLLER = { has_war_with = USR } } }
		is_subject = no
	}
	
	mean_time_to_happen = {
		days = 0
	}
	
	fire_only_once = yes
	
	option = {
		name = ukraine.101.a
		every_state = {
			limit = { OR = { is_owned_by = UKR AND = { OR = { is_owned_by = GER is_owned_by = AUH is_owned_by = BUL is_owned_by = TUR } OR = { is_core_of = USR is_core_of = RUS } } } is_controlled_by = FRT }
			FRT = { transfer_state = PREV }
		}
		every_state = {
			limit = { OR = { is_owned_by = UKR AND = { OR = { is_owned_by = GER is_owned_by = AUH is_owned_by = BUL is_owned_by = TUR } OR = { is_core_of = USR is_core_of = RUS } } } is_controlled_by = ODS }
			ODS = { transfer_state = PREV }
		}
		every_state = {
			limit = { OR = { is_owned_by = UKR is_owned_by = GER is_owned_by = AUH is_owned_by = BUL is_owned_by = TUR } OR = { is_core_of = USR is_core_of = RUS } CONTROLLER = { NOT = { tag = OWNER } OR = { original_tag = POL original_tag = LIT original_tag = BLR original_tag = CRI original_tag = RUS original_tag = DON original_tag = GAL original_tag = ROM original_tag = MOL original_tag = HUN } } }
			CONTROLLER = { transfer_state = PREV }
		}
		USR = { annex_country = { target = UKR transfer_troops = no } }
		every_country = {
			limit = { OR = { tag = GER tag = AUH tag = SNS tag = TRG tag = TUR is_in_faction_with = GER is_in_faction_with = AUH is_in_faction_with = SNS tag = SNS is_in_faction_with = TRG tag = TRG is_in_faction_with = OAF tag = OAF is_in_faction_with = TUR AND = { is_in_faction_with = BUL NOT = { is_in_faction_with = ENG } } } }
			white_peace = USR
			white_peace = FRT
			white_peace = ODS
		}
	}
}



# Украинская социалистическая советская республика (Временное рабоче-крестьянское правительство Украины)
country_event = {
	id = ukraine.119
	title = ukraine.119.t
	desc = ukraine.119.d
	picture = GFX_report_event_north_corps_Pskov
	
	trigger = {
		tag = RSR
		NOT = { has_global_flag = RUS_civil_war_over }
		has_country_flag = RUS_Oktober_revolution_fired
		has_war_with = UKR
		NOT = { any_other_country = { original_tag = UKR is_subject_of = ROOT } }
		NOT = { UKR = { any_other_country = { original_tag = PREV has_war_with = PREV } } }
		NOT = { USR = { has_war_with = UKR } }
		NOT = { any_other_country = { original_tag = USR is_subject_of = ROOT } }
		NOT = { any_other_country = { original_tag = ODS is_subject_of = ROOT } }
		any_state = {
			is_owned_by = UKR
			CONTROLLER = { OR = { tag = ROOT is_subject_of = ROOT is_in_faction_with = ROOT } }
		}
		has_completed_focus = RUS_struggle_against_counterrevolution
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = ukraine.119.a
		USR = {
			hidden_effect = {
				create_country_leader = { name = "Georgiy Pyatakov" desc = UKR_Georgiy_Pyatakov_DESC picture = "gfx/leaders/UKR/Portrait_Georgiy_Pyatakov.dds" expire = "1935.1.1" ideology = temperate_marxism traits = {  } }
				every_state = {
					limit = {
						is_core_of = UKR
					}
					add_core_of = USR
					remove_core_of = RUS
					remove_core_of = RSS
					remove_core_of = CCA
				}
				every_state = {
					limit = {
						OR = {
							is_owned_by = UKR
							AND = {
								OWNER = { OR = { tag = ROOT is_subject_of = ROOT } }
								is_core_of = UKR
							}
						}
						CONTROLLER = { OR = { tag = ROOT is_subject_of = ROOT is_in_faction_with = ROOT } }
					}
					USR = { set_state_owner = PREV }
				}
				set_politics = {
					ruling_party = communism
					election_frequency = 36
					elections_allowed = no
				}
			}
			declare_war_on = {
				target = UKR
				type = annex_everything
			}
			set_cosmetic_tag = USR_provisional_workers_n_peasant_government
			every_country = {
				limit = { has_offensive_war_with = ROOT NOT = { has_war_with = USR } }
				declare_war_on = {
					target = USR
					type = annex_everything
				}
			}
			every_country = {
				limit = { has_defensive_war_with = ROOT NOT = { has_war_with = USR } }
				USR = {
					declare_war_on = {
						target = PREV
						type = annex_everything
					}
				}
			}
			ROOT = { USR = { subjecting_script_with_transfer_parties_dominion = yes } }
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
							is_owned_by = UKR
							is_owned_by = USR
							AND = {
								OWNER = { OR = { tag = ROOT is_subject_of = ROOT } }
								is_core_of = UKR
								is_core_of = USR
							}
						}
					}
					set_state_province_controller = {
						controller = USR
						limit = { OR = { tag = ROOT is_subject_of = ROOT is_in_faction_with = ROOT } }
					}
				}
			}
			hidden_effect = {
				every_country = {
					limit = {
						NOT = {
							tag = PREV
							is_any_former_russian_empire_country = yes
							former_russian_empire_baltic_states_country = yes tag = HRB
							has_war_with = PREV
							is_in_faction_with = PREV
						}
					}
					set_THIS_country_non_recognize_PREV = yes
				}
			}
			hidden_effect = {
				division_template = {
					name = "Krasnaya Gvardiya"
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 1 y = 0 }
					}
					priority = 0
					is_locked = yes
				}
				random_controlled_state = { spawn_red_guard_in_state_CONTROLLER = yes }
				random_controlled_state = { spawn_red_guard_in_state_CONTROLLER = yes }
				random_controlled_state = { spawn_red_guard_in_state_CONTROLLER = yes }
				random_controlled_state = { spawn_red_guard_in_state_CONTROLLER = yes }
				random_controlled_state = { spawn_red_guard_in_state_CONTROLLER = yes }
				random_controlled_state = { spawn_red_guard_in_state_CONTROLLER = yes }
				random_controlled_state = { spawn_red_guard_in_state_CONTROLLER = yes }
				random_controlled_state = { spawn_red_guard_in_state_CONTROLLER = yes }
			}
		}
	}
}

# Победа советской власти на Украине
country_event = {
	id = ukraine.120
	title = ukraine.120.t
	desc = ukraine.120.desc
	picture = GFX_report_event_rcw_rva
	
	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		NOT = { any_other_country = { OR = { former_russian_empire_ukraine_country = yes NOT = { is_any_former_russian_empire_country = yes former_russian_empire_baltic_states_country = yes former_russian_empire_polish_region_country = yes } } has_war_with = PREV } }
		OR = {
			AND = {
				tag = USR
				OR = { has_government = radical_socialism has_government = communism }
			}
			AND = {
				tag = ODS
				OR = { has_government = radical_socialism has_government = communism }
				USR = { exists = no }
			}
			AND = {
				tag = FRT
				has_government = communism
				ODS = { exists = no }
				USR = { exists = no }
			}
			AND = {
				tag = GRG
				has_government = communism
				FRT = { exists = no }
				ODS = { exists = no }
				USR = { exists = no }
			}
			AND = {
				tag = RUS
				has_country_flag = RUS_Oktober_revolution_fired
				GRG = { exists = no }
				FRT = { exists = no }
				ODS = { exists = no }
				USR = { exists = no }
			}
		}
		UKR = { NOT = { has_war_with = ROOT any_other_country = { OR = { former_russian_empire_ukraine_country = yes NOT = { is_any_former_russian_empire_country = yes former_russian_empire_baltic_states_country = yes former_russian_empire_polish_region_country = yes } } has_war_with = PREV } } OR = { exists = no has_government = radical_socialism has_government = communism } }
		ODS = { NOT = { has_war_with = ROOT any_other_country = { OR = { former_russian_empire_ukraine_country = yes NOT = { is_any_former_russian_empire_country = yes former_russian_empire_baltic_states_country = yes former_russian_empire_polish_region_country = yes } } has_war_with = PREV } } OR = { exists = no has_government = radical_socialism has_government = communism } }
		FRT = { NOT = { has_war_with = ROOT any_other_country = { OR = { former_russian_empire_ukraine_country = yes NOT = { is_any_former_russian_empire_country = yes former_russian_empire_baltic_states_country = yes former_russian_empire_polish_region_country = yes } } has_war_with = PREV } } OR = { exists = no has_government = communism } }
		GRG = { NOT = { has_war_with = ROOT any_other_country = { OR = { former_russian_empire_ukraine_country = yes NOT = { is_any_former_russian_empire_country = yes former_russian_empire_baltic_states_country = yes former_russian_empire_polish_region_country = yes } } has_war_with = PREV } } OR = { exists = no has_government = communism } }
		1371 = { CONTROLLER = { OR = { AND = { has_government = radical_socialism NOT = { tag = FRT tag = GRG } } has_government = communism } } }
		202 = { CONTROLLER = { OR = { AND = { has_government = radical_socialism NOT = { tag = FRT tag = GRG } } has_government = communism } } }
		203 = { CONTROLLER = { OR = { AND = { has_government = radical_socialism NOT = { tag = FRT tag = GRG } } has_government = communism } } }
		959 = { CONTROLLER = { OR = { AND = { has_government = radical_socialism NOT = { tag = FRT tag = GRG } } has_government = communism } } }
		193 = { CONTROLLER = { OR = { AND = { has_government = radical_socialism NOT = { tag = FRT tag = GRG } } has_government = communism } } }
		259 = { CONTROLLER = { OR = { AND = { has_government = radical_socialism NOT = { tag = FRT tag = GRG } } has_government = communism } } }
		1063 = { CONTROLLER = { OR = { AND = { has_government = radical_socialism NOT = { tag = FRT tag = GRG } } has_government = communism } } }
		221 = { CONTROLLER = { OR = { AND = { has_government = radical_socialism NOT = { tag = FRT tag = GRG } } has_government = communism } } }
		197 = { CONTROLLER = { OR = { AND = { has_government = radical_socialism NOT = { tag = FRT tag = GRG } } has_government = communism } } }
		196 = { CONTROLLER = { OR = { AND = { has_government = radical_socialism NOT = { tag = FRT tag = GRG } } has_government = communism } } }
		200 = { CONTROLLER = { OR = { AND = { has_government = radical_socialism NOT = { tag = FRT tag = GRG } } has_government = communism } } }
		201 = { CONTROLLER = { OR = { AND = { has_government = radical_socialism NOT = { tag = FRT tag = GRG } } has_government = communism } } }
		1291 = { CONTROLLER = { OR = { AND = { has_government = radical_socialism NOT = { tag = FRT tag = GRG } } has_government = communism } } }
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	option = {
		name = ukraine.120.a
		if = {
			limit = { 202 = { NOT = { is_core_of = USR } } }
			every_state = {
				limit = { is_core_of = UKR }
				add_core_of = USR
			}
		}
		if = {
			limit = { USR = { exists = no } UKR = { exists = no } }
			USR = { transfer_state = 202 }
			every_country = {
				limit = { has_war_with = RUS is_any_former_russian_empire_country = yes is_subject = no NOT = { has_war_with = USR } }
				USR = {
					declare_war_on = {
						target = PREV
						type = annex_everything
					}
				}
			}
		}
		if = {
			limit = {
				ODS = {
					exists = yes
					OR = { has_government = communism has_government = radical_socialism }
				}
			}
			USR = {
				if = {
					limit = { ODS = { is_ai = no } ROOT = { is_ai = yes } }
					change_tag_from = ODS
				}
				annex_country = {
					target = ODS
					transfer_troops = yes 
				}
			}
			every_state = {
				limit = { is_core_of = ODS }
				remove_core_of = ODS
			}
		}
		if = {
			limit = {
				UKR = {
					exists = yes
					OR = { has_government = communism has_government = radical_socialism }
				}
			}
			hidden_effect = {
				random_state = {
					limit = { is_owned_by = UKR is_core_of = UKR }
					USR = { transfer_state = PREV }
				}
			}
			USR = {
				if = {
					limit = { UKR = { is_ai = no } ROOT = { is_ai = yes } }
					change_tag_from = UKR
				}
				annex_country = {
					target = UKR
					transfer_troops = yes
				}
			}
		}
		if = {
			limit = { UKR = { exists = no } }
			every_state = {
				limit = { is_core_of = UKR }
				remove_core_of = UKR
			}
			every_state = {
				limit = { is_claimed_by = UKR }
				remove_claim_by = UKR
			}
		}
		every_state = {
			limit = { is_core_of = USR }
			remove_core_of = RUS
			remove_core_of = RSS
			remove_core_of = CCA
		}
		every_state = {
			limit = { OR = { is_core_of = RUS is_core_of = BLR } NOT = { is_claimed_by = BLR } }
			remove_claim_by = USR
		}
		every_state = {
			limit = { is_core_of = USR NOT = { is_core_of = RUS } is_owned_by = RUS }
			USR = { transfer_state = PREV }
		}
		every_state = {
			limit = { is_core_of = RUS is_owned_by = USR }
			RUS = { transfer_state = PREV }
		}
		USR = {
			if = {
				limit = { has_idea = neutral_foreign_policy_law }
				add_ideas = realpolitic_policy_law
			}
			if = {
				limit = { controls_state = 202 }
				set_capital = { state = 202 }
			}
		}
		if = {
			limit = { RUS = { has_country_flag = RUS_Oktober_revolution_fired is_faction_leader = yes } }
			RUS = { add_to_faction = USR }
		}
	}
}