###########################
# Constituent Assembly Events
###########################

add_namespace = rcw_all_rus_CA

###########################
# Учредительное собрание
###########################

country_event = {
	id = rcw_all_rus_CA.-1
	title = rcw_all_rus_CA.-1.t
	desc = rcw_all_rus_CA.-1.d
	picture = GFX_report_event_rus_the_constituent_assembly
	
	trigger = {
		tag = RUS
		has_country_flag = CA_after_victory
		has_war = no
	}
	
	hidden = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_all_rus_CA.-1.a
		country_event = { id = rcw_all_rus_CA.1 days = 1 }
		clr_country_flag = CA_after_victory
	}
}

country_event = {
	id = rcw_all_rus_CA.0
	title = rcw_all_rus_CA.0.t
	desc = rcw_all_rus_CA.0.d
	picture = GFX_report_event_rus_the_constituent_assembly
	
	is_triggered_only = yes
	
	option = {
		name = rcw_all_rus_CA.0.a
		country_event = { id = rcw_all_rus_CA.1 days = 14 }
		set_country_flag = CA_wait
		ai_chance = {
			factor = 6
			modifier = {
				factor = 0
				has_government = market_liberalism
				market_liberalism < 0.4
			}
		}
	}
	option = {
		name = rcw_all_rus_CA.0.b
		country_event = { id = rcw_all_rus_CA.1 days = 150 }
		set_country_flag = CA_wait
		ai_chance = {
			factor = 3
			modifier = {
				factor = 0.5
				has_government = market_liberalism
				market_liberalism < 0.25
			}
			modifier = {
				factor = 0
				has_government = market_liberalism
				market_liberalism < 0.2
			}
		}
	}
	option = {
		trigger = { has_war = yes }
		name = rcw_all_rus_CA.0.c
		set_country_flag = CA_after_victory
		set_country_flag = CA_wait
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_government = radical_socialism
					has_government = communism
					has_government = social_democracy
					has_government = social_liberalism
				}
			}
		}
	}
}

#########Решение о политическом устройстве######
country_event = {
	id = rcw_all_rus_CA.1
	title = rcw_all_rus_CA.1.t
	desc = {
		text = rcw_all_rus_CA.1.d
		trigger = {
			NOT = { has_country_flag = RUS_Oktober_revolution_fired }
			NOT = { check_variable = { authoritarian_parties > 0.3 } }
			NOT = { has_country_flag = general_kornilov }
		}
	}
	desc = {
		text = rcw_all_rus_CA.1.d_1
		trigger = {
			NOT = { has_country_flag = RUS_Oktober_revolution_fired }
			check_variable = { authoritarian_parties > 0.3 }
			NOT = { has_country_flag = general_kornilov }
		}
	}
	desc = {
		text = rcw_all_rus_CA.1.d_2
		trigger = {
			has_country_flag = RUS_Oktober_revolution_fired
		}
	}
	desc = {
		text = rcw_all_rus_CA.1.d_3
		trigger = {
			NOT = { has_country_flag = RUS_Oktober_revolution_fired }
			has_country_flag = general_kornilov
		}
	}
	picture = GFX_report_event_rus_the_constituent_assembly
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			remove_ideas = {
				RUS_dvoevlastie_1
				RUS_dvoevlastie_2
				RUS_dvoevlastie_3
				RUS_dvoevlastie_4
			}
			initiate_verification_of_the_popularity_of_coalitions = yes
			clr_country_flag = CA_wait
			
			set_variable = { var = RUS_CA_DON_angry value = 0 }
			set_variable = { var = RUS_CA_BKL_angry value = 0 }
			set_variable = { var = RUS_CA_UCS_angry value = 0 }
			set_variable = { var = RUS_CA_GEO_angry value = 0 }
			set_variable = { var = RUS_CA_FIN_angry value = 0 }
			set_variable = { var = RUS_CA_UKR_angry value = 0 }
			set_variable = { var = RUS_CA_CZE_angry value = 0 }
			set_variable = { var = RUS_CA_right_off_angry value = 0 }
			set_variable = { var = RUS_CA_esers_angry value = 0 }
			set_variable = { var = RUS_CA_bolsheviks_angry value = 0 }
			set_variable = { var = RUS_CA_cadets_angry value = 0 }
			set_variable = { var = RUS_CA_peasants_angry value = 0 }
			
			clr_country_flag = RUS_all_russian_constituent_assembly_first_session_soviet_republic
			clr_country_flag = RUS_all_russian_constituent_assembly_first_session_bourgeois_republic
			clr_country_flag = RUS_all_russian_constituent_assembly_first_session_military_dictature
			clr_country_flag = RUS_all_russian_constituent_assembly_first_session_monarchy
			clr_country_flag = RUS_all_russian_constituent_assembly_second_session_socialization_of_land
			clr_country_flag = RUS_all_russian_constituent_assembly_second_session_confirm_black_redistribution
			clr_country_flag = RUS_all_russian_constituent_assembly_second_session_no_land_reform
			clr_country_flag = RUS_all_russian_constituent_assembly_second_session_serfdom
			clr_country_flag = RUS_all_russian_constituent_assembly_third_session_bypassed
			clr_country_flag = RUS_all_russian_constituent_assembly_third_session_peace
			clr_country_flag = RUS_all_russian_constituent_assembly_third_session_war
			clr_country_flag = RUS_all_russian_constituent_assembly_fourth_session_unitary_state
			clr_country_flag = RUS_all_russian_constituent_assembly_fourth_session_unitary_state_with_autonomies
			clr_country_flag = RUS_all_russian_constituent_assembly_fourth_session_federal_state
			clr_country_flag = RUS_all_russian_constituent_assembly_fourth_session_confederate_state
		}
	}
	
	option = {
		name = rcw_all_rus_CA.1.h #подтвердить большевистские декреты
		trigger = {
			has_country_flag = RUS_Oktober_revolution_fired
			OR = {
				check_variable = { socialist_parties_summa > 0.50 }
				has_country_flag = homogeneous_socialist_government
			}
		}
		ai_chance = {
			factor = 99999
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		set_country_flag = RUS_all_russian_constituent_assembly_first_session_soviet_republic
		set_country_flag = RUS_all_russian_constituent_assembly_second_session_socialization_of_land
		country_event = rcw_all_rus_CA.8
		hidden_effect = { news_event = { id = news_n.15 hours = 12 } }
	}
	
	option = {
		name = rcw_all_rus_CA.1.a #назначить буржуазные демократические выборы
		trigger = {
			NOT = { check_variable = { socialist_parties_summa > 0.70 } }
			NOT = { has_country_flag = homogeneous_socialist_government }
		}
		ai_chance = {
			factor = 1
		}
		set_country_flag = RUS_all_russian_constituent_assembly_first_session_bourgeois_republic
		if = {
			limit = { OR = { has_government = communism has_government = radical_socialism } }
			hidden_effect = { country_event = rcw_all_rus_CA.2 }
			else = {
				country_event = rcw_all_rus_CA.3
			}
		}
	}
	option = {
		name = rcw_all_rus_CA.1.b #советская республика
		trigger = {
			NOT = { has_country_flag = RUS_Oktober_revolution_fired }
			check_variable = { socialist_parties_summa > 0.5 }
		}
		ai_chance = {
			factor = 10
		}
		set_country_flag = RUS_all_russian_constituent_assembly_first_session_soviet_republic
		if = {
			limit = { NOT = { has_government = communism has_government = radical_socialism has_government = social_democracy } }
			hidden_effect = { country_event = rcw_all_rus_CA.2 }
			else = {
				country_event = rcw_all_rus_CA.3
			}
		}
	}
	option = {
		name = rcw_all_rus_CA.1.f #диктатуррра
		trigger = {
			check_variable = { right_parties_summa > 0.2 }
			NOT = { has_country_flag = general_kornilov }
			NOT = { has_government = communism }
			NOT = { has_government = radical_socialism }
			NOT = { check_variable = { socialist_parties_summa > 0.40 } }
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				NOT = { has_government = communism has_government = radical_socialism }
				check_variable = { socialist_parties_summa > 0.35 }
			}
			modifier = {
				factor = 0
				has_government = communism
				is_historical_focus_on = yes
			}
		}
		set_country_flag = RUS_all_russian_constituent_assembly_first_session_military_dictature
		if = {
			limit = { OR = { has_government = communism has_government = radical_socialism has_government = social_democracy } }
			hidden_effect = { country_event = rcw_all_rus_CA.2 }
			else = {
				country_event = rcw_all_rus_CA.3
			}
		}
	}
	option = {
		name = rcw_all_rus_CA.1.g #Конституционная монархия
		trigger = {
			check_variable = { right_parties_summa > 0.3 }
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		set_country_flag = RUS_all_russian_constituent_assembly_first_session_monarchy
		hidden_effect = { country_event = rcw_all_rus_CA.2 }
	}
}

#########Решение о разгоне говорильни######
country_event = {
	id = rcw_all_rus_CA.2
	title = rcw_all_rus_CA.2.t
	desc = {
		text = rcw_all_rus_CA.2.d
		trigger = {
			has_focus_tree = Russia_Bolsheviks_focus
		}
	}
	desc = {
		text = rcw_all_rus_CA.2.d_1
		trigger = {
			NOT = { has_focus_tree = Russia_Bolsheviks_focus }
		}
	}
	picture = GFX_report_event_rus_dispersa_of_the_constituent_assembly
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_all_rus_CA.2.a #Караул устал
		add_political_power = 50
		set_country_flag = RUS_karaul_ustal
		clr_country_flag = RUS_provisional_government_created
		hidden_effect = { news_event = { id = news_n.14 hours = 12 } }
		hidden_effect = {
			if = {
				limit = { has_country_flag = RUS_Oktober_revolution_fired }
				country_event = { id = rcw_bolsheviks.108 days = 12 }
				KUB = {
					if = {
						limit = { exists = yes NOT = { has_government = radical_socialism has_government = communism } }
						country_event = { id = rcw_nc.85 days = 9 }
					}
				}
			}
		}
		hidden_effect = {			#Поставлю тут заглушку на случай правого разгона учредилки чтобы ГВ была, но Корниловский вариант
			if = {
				limit = { NOT = { has_country_flag = RUS_Oktober_revolution_fired } }
				country_event = rcw_kcr.100
				set_country_flag = RUS_Kornilov_esers_will_rise
			}
		}
	}
	option = {
		trigger = {
			NOT = { has_focus_tree = Russia_Bolsheviks_focus }
		}
		name = rcw_all_rus_CA.2.b #ждать окончания срока действия учредительного собрания
		hidden_effect = { country_event = rcw_all_rus_CA.3 }
		add_stability = 0.05
		ai_chance = {
			factor = 0
		}
	}
}

#########Вопрос о Земле######
country_event = {
	id = rcw_all_rus_CA.3
	title = rcw_all_rus_CA.3.t
	desc = rcw_all_rus_CA.3.d
	picture = GFX_report_event_all_power_to_the_soviets
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_all_rus_CA.3.a #принять программу эсеров по социализации земли (точнее если была октябрьская революция, то подтвердить большевистский декрет)
		set_country_flag = RUS_all_russian_constituent_assembly_second_session_socialization_of_land
		trigger = {
			NOT = { has_country_flag = RUS_all_russian_constituent_assembly_first_session_military_dictature }
			NOT = { check_variable = { market_liberalism_party > social_liberalism_party } }
		}
		if = {
			limit = { has_war_with = GER }
			hidden_effect = { country_event = { id = rcw_all_rus_CA.4 days = 1 } }
			else = {
				country_event = { id = rcw_all_rus_CA.5 days = 1 }
				set_country_flag = RUS_all_russian_constituent_assembly_third_session_bypassed
			}
		}
	}
	option = {
		name = rcw_all_rus_CA.3.b #тупо подтвердить чёрный передел и дело с концом
		trigger = {
			NOT = { has_country_flag = RUS_all_russian_constituent_assembly_first_session_soviet_republic }
		}
		set_country_flag = RUS_all_russian_constituent_assembly_second_session_confirm_black_redistribution
		if = {
			limit = { has_war_with = GER }
			hidden_effect = { country_event = { id = rcw_all_rus_CA.4 days = 1 } }
			else = {
				country_event = { id = rcw_all_rus_CA.5 days = 1 }
				set_country_flag = RUS_all_russian_constituent_assembly_third_session_bypassed
			}
		}
	}
	option = {
		name = rcw_all_rus_CA.3.c #вариант для буржуев
		trigger = {
			NOT = { has_country_flag = RUS_all_russian_constituent_assembly_first_session_soviet_republic }
		}
		set_country_flag = RUS_all_russian_constituent_assembly_second_session_no_land_reform
		if = {
			limit = { has_war_with = GER }
			hidden_effect = { country_event = { id = rcw_all_rus_CA.4 days = 1 } }
			else = {
				country_event = { id = rcw_all_rus_CA.5 days = 1 }
				set_country_flag = RUS_all_russian_constituent_assembly_third_session_bypassed
			}
		}
	}
	option = {
		name = rcw_all_rus_CA.3.e #возвращение крепостного права
		trigger = {
			has_country_flag = RUS_all_russian_constituent_assembly_first_session_monarchy
			NOT = { has_country_flag = RUS_all_russian_constituent_assembly_first_session_soviet_republic }
		}
		set_country_flag = RUS_all_russian_constituent_assembly_second_session_serfdom
		if = {
			limit = { has_war_with = GER }
			hidden_effect = { country_event = { id = rcw_all_rus_CA.4 days = 1 } }
			else = {
				country_event = { id = rcw_all_rus_CA.5 days = 1 }
				set_country_flag = RUS_all_russian_constituent_assembly_third_session_bypassed
			}
		}
	}
}

#########Вопрос о Мире######
country_event = {
	id = rcw_all_rus_CA.4
	title = rcw_all_rus_CA.4.t
	desc = rcw_all_rus_CA.4.d
	picture = GFX_report_event_rus_the_constituent_assembly_peace_question
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_all_rus_CA.4.a #Начать переговоры по миру
		trigger = {
			NOT = { has_completed_focus = RUS_revolutionary_war }
		}
		set_country_flag = RUS_all_russian_constituent_assembly_third_session_peace
		hidden_effect = { country_event = { id = rcw_all_rus_CA.5 days = 1 } }
		add_stability = 0.05
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = rcw_all_rus_CA.4.b #РЕВОЛЮЦИОННАЯ ВОЙНА
		trigger = {
			NOT = { has_completed_focus = RUS_red_separate_peace }
		}
		set_country_flag = RUS_all_russian_constituent_assembly_third_session_war
		hidden_effect = { country_event = { id = rcw_all_rus_CA.5 days = 1 } }
		add_war_support = -0.05
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0
				surrender_progress > 0.25
			}
			modifier = {
				factor = 0.25
				surrender_progress > 0.2
				NOT = { surrender_progress > 0.24999 }
			}
			modifier = {
				factor = 0.5
				surrender_progress > 0.15
				NOT = { surrender_progress > 0.19999 }
			}
			modifier = {
				factor = 0.75
				surrender_progress > 0.10
				NOT = { surrender_progress > 0.14999 }
			}
			modifier = {
				factor = 999
				surrender_progress < 0.025
			}
		}
	}
}

#########Вопрос о Территориальном устройстве######
country_event = {
	id = rcw_all_rus_CA.5
	title = rcw_all_rus_CA.5.t
	desc = rcw_all_rus_CA.5.d
	picture = GFX_report_event_all_power_to_the_soviets
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_all_rus_CA.5.a #Унитарное государство
		trigger = {
			NOT = { has_government = social_liberalism }
			OR = {
				NOT = { has_country_flag = RUS_all_russian_constituent_assembly_first_session_soviet_republic }
				NOT = { has_country_flag = RUS_Bolsheviks_majority }
			}
		}
		set_country_flag = RUS_all_russian_constituent_assembly_fourth_session_unitary_state
		add_political_power = 150
		hidden_effect = { country_event = { id = rcw_all_rus_CA.6 days = 5 } }
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				has_country_flag = RUS_all_russian_constituent_assembly_first_session_soviet_republic
			}
		}
	}
	option = {
		name = rcw_all_rus_CA.5.b #Унитарное государство с автономиями
		set_country_flag = RUS_all_russian_constituent_assembly_fourth_session_unitary_state
		set_country_flag = RUS_all_russian_constituent_assembly_fourth_session_unitary_state_with_autonomies
		add_political_power = 100
		hidden_effect = { country_event = { id = rcw_all_rus_CA.6 days = 5 } }
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = rcw_all_rus_CA.5.c #Федерализация
		set_country_flag = RUS_all_russian_constituent_assembly_fourth_session_federal_state
		add_political_power = 100
		hidden_effect = { country_event = { id = rcw_all_rus_CA.6 days = 5 } }
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = rcw_all_rus_CA.5.e #Конфедерация
		trigger = {
			NOT = {
				has_country_flag = RUS_all_russian_constituent_assembly_first_session_military_dictature
				has_country_flag = RUS_all_russian_constituent_assembly_first_session_monarchy
			}
		}
		set_country_flag = RUS_all_russian_constituent_assembly_fourth_session_confederate_state
		add_political_power = 50
		hidden_effect = { country_event = { id = rcw_all_rus_CA.6 days = 5 } }
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

# Итоги Учредительного собрания
country_event = {
	id = rcw_all_rus_CA.6
	title = rcw_all_rus_CA.6.t
	desc = rcw_all_rus_CA.6.d
	immediate = {
		if = {
			limit = { has_country_flag = RUS_all_russian_constituent_assembly_first_session_bourgeois_republic }
			custom_effect_tooltip = rcw_all_rus_CA_S1_O1
		}
		if = {
			limit = { has_country_flag = RUS_all_russian_constituent_assembly_first_session_soviet_republic }
			custom_effect_tooltip = rcw_all_rus_CA_S1_O2
		}
		if = {
			limit = { has_country_flag = RUS_all_russian_constituent_assembly_first_session_military_dictature }
			custom_effect_tooltip = rcw_all_rus_CA_S1_O3
		}
		if = {
			limit = { has_country_flag = RUS_all_russian_constituent_assembly_first_session_monarchy }
			custom_effect_tooltip = rcw_all_rus_CA_S1_O4
		}
		if = {
			limit = { has_country_flag = RUS_all_russian_constituent_assembly_second_session_socialization_of_land }
			custom_effect_tooltip = rcw_all_rus_CA_S2_O1
			hidden_effect = {
				add_to_variable = { var = RUS_CA_DON_angry value = 3 }
				add_to_variable = { var = RUS_CA_BKL_angry value = 3 }
				add_to_variable = { var = RUS_CA_right_off_angry value = 1 }
				add_to_variable = { var = RUS_CA_cadets_angry value = 2 }
				add_to_variable = { var = RUS_CA_esers_angry value = -2 }
				add_to_variable = { var = RUS_CA_bolsheviks_angry value = -1 }
				add_to_variable = { var = RUS_CA_peasants_angry value = -1 }
			}
		}
		if = {
			limit = { has_country_flag = RUS_all_russian_constituent_assembly_second_session_confirm_black_redistribution }
			custom_effect_tooltip = rcw_all_rus_CA_S2_O2
			hidden_effect = {
				add_to_variable = { var = RUS_CA_DON_angry value = 2 }
				add_to_variable = { var = RUS_CA_BKL_angry value = 2 }
				add_to_variable = { var = RUS_CA_right_off_angry value = 1 }
				add_to_variable = { var = RUS_CA_cadets_angry value = 1 }
				add_to_variable = { var = RUS_CA_esers_angry value = -2 }
				add_to_variable = { var = RUS_CA_peasants_angry value = -2 }
			}
		}
		if = {
			limit = { has_country_flag = RUS_all_russian_constituent_assembly_second_session_no_land_reform }
			custom_effect_tooltip = rcw_all_rus_CA_S2_O3
			hidden_effect = {
				add_to_variable = { var = RUS_CA_esers_angry value = 2 }
				add_to_variable = { var = RUS_CA_bolsheviks_angry value = 3 }
				add_to_variable = { var = RUS_CA_peasants_angry value = 2 }
			}
		}
		if = {
			limit = { has_country_flag = RUS_all_russian_constituent_assembly_second_session_serfdom }
			custom_effect_tooltip = rcw_all_rus_CA_S2_O4
			hidden_effect = {
				add_to_variable = { var = RUS_CA_DON_angry value = 2 }
				add_to_variable = { var = RUS_CA_BKL_angry value = 4 }
				add_to_variable = { var = RUS_CA_UCS_angry value = 4 }
				add_to_variable = { var = RUS_CA_FIN_angry value = 4 }
				add_to_variable = { var = RUS_CA_UKR_angry value = 4 }
				add_to_variable = { var = RUS_CA_cadets_angry value = 2 }
				add_to_variable = { var = RUS_CA_esers_angry value = 4 }
				add_to_variable = { var = RUS_CA_bolsheviks_angry value = 4 }
				add_to_variable = { var = RUS_CA_peasants_angry value = 4 }
			}
		}
		if = {
			limit = { has_country_flag = RUS_all_russian_constituent_assembly_third_session_peace }
			custom_effect_tooltip = rcw_all_rus_CA_S3_O1
			hidden_effect = {
				add_to_variable = { var = RUS_CA_UKR_angry value = 1 }
				add_to_variable = { var = RUS_CA_CZE_angry value = 2 }
				add_to_variable = { var = RUS_CA_right_off_angry value = 2 }
				add_to_variable = { var = RUS_CA_cadets_angry value = 1 }
				add_to_variable = { var = RUS_CA_esers_angry value = 1 }
			}
		}
		if = {
			limit = { has_country_flag = RUS_all_russian_constituent_assembly_third_session_war }
			custom_effect_tooltip = rcw_all_rus_CA_S3_O2
		}
		if = {
			limit = { has_country_flag = RUS_all_russian_constituent_assembly_fourth_session_unitary_state NOT = { has_country_flag = RUS_all_russian_constituent_assembly_fourth_session_unitary_state_with_autonomies } }
			custom_effect_tooltip = rcw_all_rus_CA_S4_O1
			hidden_effect = {
				add_to_variable = { var = RUS_CA_DON_angry value = 2 }
				add_to_variable = { var = RUS_CA_GEO_angry value = 2 }
				add_to_variable = { var = RUS_CA_FIN_angry value = 4 }
				add_to_variable = { var = RUS_CA_UKR_angry value = 4 }
				add_to_variable = { var = RUS_CA_esers_angry value = 2 }
				add_to_variable = { var = RUS_CA_bolsheviks_angry value = 2 }
			}
		}
		if = {
			limit = { has_country_flag = RUS_all_russian_constituent_assembly_fourth_session_unitary_state_with_autonomies }
			custom_effect_tooltip = rcw_all_rus_CA_S4_O2
			hidden_effect = {
				add_to_variable = { var = RUS_CA_FIN_angry value = 2 }
				add_to_variable = { var = RUS_CA_UKR_angry value = 2 }
				add_to_variable = { var = RUS_CA_esers_angry value = 2 }
				add_to_variable = { var = RUS_CA_bolsheviks_angry value = 1 }
			}
		}
		if = {
			limit = { has_country_flag = RUS_all_russian_constituent_assembly_fourth_session_federal_state }
			custom_effect_tooltip = rcw_all_rus_CA_S4_O3
			hidden_effect = {
				add_to_variable = { var = RUS_CA_right_off_angry value = 1 }
				add_to_variable = { var = RUS_CA_cadets_angry value = 1 }
			}
		}
		if = {
			limit = { has_country_flag = RUS_all_russian_constituent_assembly_fourth_session_confederate_state }
			custom_effect_tooltip = rcw_all_rus_CA_S4_O4
			hidden_effect = {
				add_to_variable = { var = RUS_CA_right_off_angry value = 2 }
				add_to_variable = { var = RUS_CA_cadets_angry value = 2 }
			}
		}
	}
	picture = GFX_report_event_all_power_to_the_soviets
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_all_rus_CA.6.a
		clr_country_flag = RUS_provisional_government_created
		clr_country_flag = RUS_Order_N_1
		set_global_flag = RUS_all_russian_constituent_assembly_ended
		clr_country_flag = general_kornilov
		remove_ideas = RUS_red_guards_provisional_government
		#if = {
		#	limit = {
		#		has_country_flag = RUS_all_russian_constituent_assembly_first_session_bourgeois_republic
		#		check_variable = { var = socialist_parties value = socdem_parties compare = greater_than_or_equals }
		#		check_variable = { var = socialist_parties value = liberal_parties compare = greater_than_or_equals }
		#		check_variable = { var = socialist_parties value = authoritarian_parties compare = greater_than_or_equals }
		#		check_variable = { var = socialist_parties value = reactionary_parties compare = greater_than_or_equals }
		#	}
		#	ruling_socialist_coalition = yes
		#	add_to_variable = { var = RUS_CA_DON_angry value = 3 }
		#	add_to_variable = { var = RUS_CA_BKL_angry value = 3 }
		#	add_to_variable = { var = RUS_CA_UCS_angry value = 3 }
		#	add_to_variable = { var = RUS_CA_UKR_angry value = 4 }
		#	add_to_variable = { var = RUS_CA_right_off_angry value = 4 }
		#	add_to_variable = { var = RUS_CA_esers_angry value = 1 }
		#	add_to_variable = { var = RUS_CA_cadets_angry value = 4 }
		#	set_country_flag = legitimized_bolsheviks
		#	bolsheviks_victory = yes
		#	add_red_unit_leaders = yes
		#	hidden_effect = {
		#		country_event = { id = rcw_bolsheviks.108 days = 12 }
		#	}
		#}
		if = { #else_if
			limit = {
				has_country_flag = RUS_all_russian_constituent_assembly_first_session_bourgeois_republic
				#check_variable = { var = socdem_parties value = socialist_parties compare = greater_than_or_equals }
				check_variable = { var = socdem_parties value = liberal_parties compare = greater_than_or_equals }
				check_variable = { var = socdem_parties value = authoritarian_parties compare = greater_than_or_equals }
				check_variable = { var = socdem_parties value = reactionary_parties compare = greater_than_or_equals }
			}
			ruling_socdem_coalition = yes
			add_to_variable = { var = RUS_CA_DON_angry value = 2 }
			add_to_variable = { var = RUS_CA_BKL_angry value = 2 }
			add_to_variable = { var = RUS_CA_UCS_angry value = 2 }
			add_to_variable = { var = RUS_CA_UKR_angry value = 1 }
			add_to_variable = { var = RUS_CA_right_off_angry value = 2 }
			add_to_variable = { var = RUS_CA_bolsheviks_angry value = 1 }
			add_to_variable = { var = RUS_CA_cadets_angry value = 2 }
		}
		else_if = {
			limit = {
				has_country_flag = RUS_all_russian_constituent_assembly_first_session_bourgeois_republic
				#check_variable = { var = liberal_parties value = socialist_parties compare = greater_than_or_equals }
				check_variable = { var = liberal_parties value = socdem_parties compare = greater_than_or_equals }
				check_variable = { var = liberal_parties value = authoritarian_parties compare = greater_than_or_equals }
				check_variable = { var = liberal_parties value = reactionary_parties compare = greater_than_or_equals }
			}
			ruling_liberal_coalition = yes
			add_to_variable = { var = RUS_CA_UKR_angry value = 1 }
			add_to_variable = { var = RUS_CA_esers_angry value = 1 }
			add_to_variable = { var = RUS_CA_bolsheviks_angry value = 2 }
		}
		else_if = {
			limit = {
				has_country_flag = RUS_all_russian_constituent_assembly_first_session_bourgeois_republic
				#check_variable = { var = authoritarian_parties value = socialist_parties compare = greater_than_or_equals }
				check_variable = { var = authoritarian_parties value = socdem_parties compare = greater_than_or_equals }
				check_variable = { var = authoritarian_parties value = liberal_parties compare = greater_than_or_equals }
				check_variable = { var = authoritarian_parties value = reactionary_parties compare = greater_than_or_equals }
			}
			ruling_authoritarian_coalition = yes
			add_to_variable = { var = RUS_CA_UKR_angry value = 1 }
			add_to_variable = { var = RUS_CA_esers_angry value = 2 }
			add_to_variable = { var = RUS_CA_bolsheviks_angry value = 2 }
		}
		else_if = {
			limit = {
				has_country_flag = RUS_all_russian_constituent_assembly_first_session_bourgeois_republic
				#check_variable = { var = reactionary_parties value = socialist_parties compare = greater_than_or_equals }
				check_variable = { var = reactionary_parties value = socdem_parties compare = greater_than_or_equals }
				check_variable = { var = reactionary_parties value = liberal_parties compare = greater_than_or_equals }
				check_variable = { var = reactionary_parties value = authoritarian_parties compare = greater_than_or_equals }
			}
			ruling_reactionary_coalition = yes
			add_to_variable = { var = RUS_CA_UKR_angry value = 1 }
			add_to_variable = { var = RUS_CA_esers_angry value = 2 }
			add_to_variable = { var = RUS_CA_bolsheviks_angry value = 3 }
			add_to_variable = { var = RUS_CA_cadets_angry value = 1 }
		}
		else_if = {
			limit = {
				has_country_flag = RUS_all_russian_constituent_assembly_first_session_soviet_republic
				has_country_flag = RUS_Bolsheviks_majority
				NOT = { has_country_flag = RUS_Oktober_revolution_fired }
			}
			add_popularity = {
				ideology = communism
				popularity = 0.15
			}
			set_country_flag = legitimized_bolsheviks
			bolsheviks_victory = yes
			add_red_unit_leaders = yes
			hidden_effect = {
				country_event = { id = rcw_bolsheviks.108 days = 12 }
			}
			add_to_variable = { var = RUS_CA_DON_angry value = 4 }
			add_to_variable = { var = RUS_CA_BKL_angry value = 4 }
			add_to_variable = { var = RUS_CA_UCS_angry value = 4 }
			add_to_variable = { var = RUS_CA_GEO_angry value = 2 }
			add_to_variable = { var = RUS_CA_FIN_angry value = 2 }
			add_to_variable = { var = RUS_CA_UKR_angry value = 4 }
			add_to_variable = { var = RUS_CA_right_off_angry value = 4 }
			add_to_variable = { var = RUS_CA_cadets_angry value = 4 }
		}
		else_if = {
			limit = {
				has_country_flag = RUS_all_russian_constituent_assembly_first_session_soviet_republic
				NOT = { has_country_flag = RUS_Bolsheviks_majority has_country_flag = RUS_Oktober_revolution_fired }
			}
			set_politics = {
				ruling_party = social_democracy
				elections_allowed = no
			}
			add_popularity = {
				ideology = social_democracy
				popularity = 0.15
			}
			remove_ideas_with_trait = head_of_government_trait
			remove_ideas_with_trait = foreign_minister_trait
			remove_ideas_with_trait = economy_minister_trait
			remove_ideas_with_trait = security_minister_trait
			remove_ideas_with_trait = head_of_intel_trait
			add_ideas = {
				Nikolay_Chkheidze_1
				Alexandr_Martynov_2
				Kuzma_Gvozdev_3
				Alexey_Nikitin_4
				Pavel_Malyantovich_5
			}
			add_to_variable = { var = RUS_CA_DON_angry value = 4 }
			add_to_variable = { var = RUS_CA_BKL_angry value = 4 }
			add_to_variable = { var = RUS_CA_UCS_angry value = 4 }
			add_to_variable = { var = RUS_CA_UKR_angry value = 4 }
			add_to_variable = { var = RUS_CA_right_off_angry value = 4 }
			add_to_variable = { var = RUS_CA_cadets_angry value = 4 }
		}
		else_if = {
			limit = {
				has_country_flag = RUS_all_russian_constituent_assembly_first_session_soviet_republic
				has_country_flag = RUS_Oktober_revolution_fired
			}
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			set_country_flag = legitimized_bolsheviks
			add_to_variable = { var = RUS_CA_DON_angry value = 4 }
			add_to_variable = { var = RUS_CA_BKL_angry value = 4 }
			add_to_variable = { var = RUS_CA_UCS_angry value = 4 }
			add_to_variable = { var = RUS_CA_GEO_angry value = 2 }
			add_to_variable = { var = RUS_CA_FIN_angry value = 2 }
			add_to_variable = { var = RUS_CA_UKR_angry value = 4 }
			add_to_variable = { var = RUS_CA_right_off_angry value = 4 }
			add_to_variable = { var = RUS_CA_cadets_angry value = 4 }
		}
		if = {
			limit = {
				has_country_flag = RUS_all_russian_constituent_assembly_first_session_military_dictature
			}
			if = {
				limit = { NOT = { has_country_leader = { name = "Lavr Kornilov" } } }
				hidden_effect = {
					set_party_name = { ideology = despotism long_name = RUS_authoritarism_kornilov_party_long name = RUS_authoritarism_kornilov_party }
					set_party_name = { ideology = national_syndicalism long_name = RUS_national_syndicalism_kornilov_party_long name = RUS_national_syndicalism_kornilov_party }
					create_country_leader = {
						name = "Lavr Kornilov"
						desc=RUS_Lavr_Kornilov_DESC
						picture="gfx/leaders/RUS/Portrait_Lavr_Kornilov.dds"
						expire="1935.1.1"
						ideology = despotism_ideology
						traits={ great_war_hero warmonger_old_general dictator goal_in_politics }
					}
				}
			}
			set_politics = {
				ruling_party = despotism
				elections_allowed = no
			}
			add_popularity = {
				ideology = despotism
				popularity = 0.05
			}
			remove_ideas_with_trait = head_of_government_trait
			remove_ideas_with_trait = foreign_minister_trait
			remove_ideas_with_trait = economy_minister_trait
			remove_ideas_with_trait = security_minister_trait
			remove_ideas_with_trait = head_of_intel_trait
			remove_ideas_with_trait = military_minister_trait
			add_ideas = {
				Nikolay_Khomyakov_1
				Pavel_Milyukov_2
				Alexandr_Konovalov_3
				Boris_Savinkov_4
				Alexandr_Manuilov_5
			}
			set_country_flag = general_kornilov
			add_to_variable = { var = RUS_CA_GEO_angry value = 2 }
			add_to_variable = { var = RUS_CA_UKR_angry value = 2 }
			add_to_variable = { var = RUS_CA_CZE_angry value = 2 }
			add_to_variable = { var = RUS_CA_esers_angry value = 4 }
			add_to_variable = { var = RUS_CA_bolsheviks_angry value = 4 }
			add_to_variable = { var = RUS_CA_peasants_angry value = 2 }
		}
		if = {
			limit = {
				has_country_flag = RUS_all_russian_constituent_assembly_first_session_monarchy
			}
			set_politics = {
				ruling_party = authoritarism
				elections_allowed = no
			}
			add_popularity = {
				ideology = authoritarism
				popularity = 0.05
			}
			remove_ideas_with_trait = head_of_government_trait
			remove_ideas_with_trait = foreign_minister_trait
			remove_ideas_with_trait = economy_minister_trait
			remove_ideas_with_trait = security_minister_trait
			remove_ideas_with_trait = head_of_intel_trait
			add_ideas = {
				Nikolay_Khomyakov_1
				Alexandr_Guchkov_2
				Pyotr_Heyden_3
				Boris_Savinkov_4
				Alexandr_Kerensky_5
			}
			set_cosmetic_tag = RUS_MONARCHY
			
			create_country_leader = {
				name = "Felix I Usupov"
				desc=RUS_Nikolay_ii_DESC
				picture="gfx/leaders/RUS/Portrait_Felix_Usupov_tsar.dds"
				expire="1935.1.1"
				ideology = monarchism
				traits={  }
			}
			set_country_flag = RUS_Yusupov_tsar
			add_to_variable = { var = RUS_CA_GEO_angry value = 2 }
			add_to_variable = { var = RUS_CA_UKR_angry value = 2 }
			add_to_variable = { var = RUS_CA_CZE_angry value = 2 }
			add_to_variable = { var = RUS_CA_esers_angry value = 4 }
			add_to_variable = { var = RUS_CA_bolsheviks_angry value = 4 }
			add_to_variable = { var = RUS_CA_peasants_angry value = 2 }
		}
		if = {
			limit = { check_variable = { RUS_CA_cadets_angry > 2 } }
			add_to_variable = { RUS_CA_DON_angry = 1 }
			add_to_variable = { RUS_CA_BKL_angry = 1 }
			add_to_variable = { RUS_CA_right_off_angry = 1 }
		}
		if = {
			limit = {
				NOT = { has_global_flag = RUS_civil_war_over }
				NOT = { has_global_flag = RUS_civil_war_intervention_start }
				has_global_flag = RUS_all_russian_constituent_assembly_ended
				NOT = { has_global_flag = RUS_Kornilov_civil_war }
				NOT = { has_global_flag = RUS_constituent_assembly_civil_war }
				OR = {
					check_variable = { RUS_CA_DON_angry > 2 }
					check_variable = { RUS_CA_BKL_angry > 2 }
					#####check_variable = { RUS_CA_UCS_angry > 2 }
					#check_variable = { RUS_CA_GEO_angry > 2 }
					#check_variable = { RUS_CA_FIN_angry > 2 }
					#check_variable = { RUS_CA_UKR_angry > 2 }
					#check_variable = { RUS_CA_CZE_angry > 2 }
					####check_variable = { RUS_CA_right_off_angry > 2 }
					check_variable = { RUS_CA_esers_angry > 2 }
					check_variable = { RUS_CA_bolsheviks_angry > 2 }
					#check_variable = { RUS_CA_cadets_angry > 2 }
					#check_variable = { RUS_CA_peasants_angry > 2 }
				}
			}
			hidden_effect = { country_event = { id = rcw_all_rus_CA.100 days = 20 } }
		}
	}
}

# Легитимизация большевиков
country_event = {
	id = rcw_all_rus_CA.8
	title = rcw_all_rus_CA.8.t
	desc = rcw_all_rus_CA.8.d
	picture = GFX_report_event_all_power_to_the_soviets
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_all_rus_CA.8.a
		clr_country_flag = RUS_provisional_government_created
		clr_country_flag = RUS_Order_N_1
		set_global_flag = RUS_all_russian_constituent_assembly_ended
		clr_country_flag = general_kornilov
		remove_ideas = RUS_red_guards_provisional_government
		set_country_flag = legitimized_bolsheviks
		country_event = { id = rcw_bolsheviks.108 days = 12 }
	}
}

# дебаг
country_event = {
	id = rcw_all_rus_CA.99
	title = rcw_all_rus_CA.99.t
	desc = rcw_all_rus_CA.99.d
	picture = GFX_report_event_all_power_to_the_soviets
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_all_rus_CA.8.a
	}
}

# Начало гражданской войны
country_event = {
	id = rcw_all_rus_CA.100
	title = rcw_all_rus_CA.100.t
	desc = rcw_all_rus_CA.100.d
	picture = GFX_report_event_all_power_to_the_soviets
	
	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		NOT = { has_focus_tree = Russia_Bolsheviks_focus }
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_all_rus_CA.100.a
		set_global_flag = RUS_constituent_assembly_civil_war
		hidden_effect = {
			if = {
				limit = { check_variable = { RUS_CA_DON_angry > 2 } }
				country_event = { id = rcw_all_rus_CA.101 days = 10 }
			}
			if = {
				limit = { check_variable = { RUS_CA_BKL_angry > 2 } }
				country_event = { id = rcw_all_rus_CA.102 days = 1 }
			}
			if = {
				limit = { check_variable = { RUS_CA_UCS_angry > 2 } }
			}
			if = {
				limit = { check_variable = { RUS_CA_GEO_angry > 2 } }
			}
			if = {
				limit = { check_variable = { RUS_CA_FIN_angry > 2 } }
			}
			if = {
				limit = { check_variable = { RUS_CA_UKR_angry > 2 } }
			}
			if = {
				limit = { check_variable = { RUS_CA_CZE_angry > 2 } }
			}
			if = {
				limit = { check_variable = { RUS_CA_right_off_angry > 2 } }
				country_event = { id = rcw_all_rus_CA.108 days = 20 }
			}
			if = {
				limit = { check_variable = { RUS_CA_esers_angry > 2 } }
				country_event = { id = rcw_all_rus_CA.109 days = 30 }
				country_event = { id = rcw_all_rus_CA.111 days = 40 }
			}
			if = {
				limit = { check_variable = { RUS_CA_bolsheviks_angry > 2 } }
				country_event = { id = rcw_all_rus_CA.110 days = 10 }
			}
			if = {
				limit = { check_variable = { RUS_CA_cadets_angry > 2 } }
				if = {
					limit = { check_variable = { RUS_CA_DON_angry > 2 } }
					DON = { set_country_flag = RUS_CA_cadets_angry_flag }
				}
				if = {
					limit = { check_variable = { RUS_CA_right_off_angry > 2 } }
					RVA = { set_country_flag = RUS_CA_cadets_angry_flag }
				}
				if = {
					limit = { check_variable = { RUS_CA_esers_angry > 2 } }
					SIB = { set_country_flag = RUS_CA_cadets_angry_flag }
				}
			}
			if = {
				limit = { check_variable = { RUS_CA_peasants_angry > 2 } }
				country_event = { id = rcw_all_rus_CA.112 days = 50 }
			}
			
			clear_variable = RUS_CA_DON_angry
			clear_variable = RUS_CA_BKL_angry
			clear_variable = RUS_CA_UCS_angry
			clear_variable = RUS_CA_GEO_angry
			clear_variable = RUS_CA_FIN_angry
			clear_variable = RUS_CA_UKR_angry
			clear_variable = RUS_CA_CZE_angry
			clear_variable = RUS_CA_right_off_angry
			clear_variable = RUS_CA_esers_angry
			clear_variable = RUS_CA_bolsheviks_angry
			clear_variable = RUS_CA_cadets_angry
			clear_variable = RUS_CA_peasants_angry
		}
		delete_unit_template_and_units = {
			division_template = "Pekhotnaya Diviziya priziva 1899 goda"
		}
		delete_unit_template_and_units = {
			division_template = "Pekhotnaya Diviziya priziva 1900 goda"
		}
	}
}

# Восстание Каледина, но если не разгоняли учредительное
country_event = {
	id = rcw_all_rus_CA.101
	title = rcw_all_rus_CA.101.t
	desc = {
		text = rcw_all_rus_CA.101.d
		trigger = {
			OR = {
				has_country_flag = RUS_all_russian_constituent_assembly_first_session_soviet_republic
				has_country_flag = RUS_all_russian_constituent_assembly_second_session_socialization_of_land
			}
		}
	}
	desc = {
		text = rcw_all_rus_CA.101.d_1
		trigger = {
			NOT = {
				has_country_flag = RUS_all_russian_constituent_assembly_first_session_soviet_republic
				has_country_flag = RUS_all_russian_constituent_assembly_second_session_socialization_of_land
			}
		}
	}
	picture = GFX_report_event_rus_kazaks_war
	
	trigger = {
		DON = { exists = no }
		NOT = { has_country_flag = DON_revolt }
		NOT = { has_country_flag = RUS_cossacks_were_disbanded }
		has_global_flag = RUS_constituent_assembly_civil_war
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			every_unit_leader = { limit = { OR = { has_id = 18702 has_id = 18701 } } set_nationality = DON }
			delete_unit_template_and_units = {
				division_template = "Kazach'ya brigada"
			}
		}
	}
	
	option = {
		name = rcw_all_rus_CA.101.a
		every_state = {
			limit = {
				OR = {
					state = 1044
					state = 228
					state = 238
					state = 245
					state = 1346
					state = 953
					state = 1284
					state = 954
					state = 218
					state = 265
					state = 1261
					state = 995
					state = 996
				}
			}
			add_core_of = DON
		}
		260 = { add_claim_by = DON }
		every_state = {
			limit = {
				OR = {
					is_owned_by = ROOT
					OWNER = { is_subject_of = ROOT }
				}
				OR = {
					state = 1044
					state = 228
					state = 238
					state = 245
					state = 1346
					state = 953
					state = 1284
					state = 954
					state = 227
				}
			}
			DON = { transfer_state = PREV }
		}
		set_country_flag = DON_revolt
		DON = {
			set_cosmetic_tag = DON_realm
			add_ideas = neutral_foreign_policy_law
		}
	}
	option = {
		name = rcw_all_rus_CA.101.b
		trigger = {
			is_ai = no
		}
		every_state = {
			limit = {
				OR = {
					state = 1044
					state = 228
					state = 238
					state = 245
					state = 1346
					state = 953
					state = 1284
					state = 954
					state = 218
					state = 265
					state = 1261
					state = 995
					state = 996
				}
			}
			add_core_of = DON
		}
		260 = { add_claim_by = DON }
		every_state = {
			limit = {
				OR = {
					is_owned_by = ROOT
					OWNER = { is_subject_of = ROOT }
				}
				OR = {
					state = 1044
					state = 228
					state = 238
					state = 245
					state = 1346
					state = 953
					state = 1284
					state = 954
					state = 227
				}
			}
			DON = { transfer_state = PREV }
		}
		set_country_flag = DON_revolt
		DON = {
			set_cosmetic_tag = DON_realm
			add_ideas = neutral_foreign_policy_law
		}
		DON = { change_tag_from = RUS }
	}
}

# Восстание забайкальских казаков
country_event = {
	id = rcw_all_rus_CA.102
	title = rcw_all_rus_CA.102.t
	desc = {
		text = rcw_all_rus_CA.102.d
		trigger = {
			OR = {
				has_government = radical_socialism
				has_government = communism
			}
			NOT = { has_country_flag = RUS_all_russian_constituent_assembly_second_session_serfdom }
		}
	}
	desc = {
		text = rcw_all_rus_CA.102.d_1
		trigger = {
			NOT = {
				has_government = radical_socialism
				has_government = communism
			}
			NOT = { has_country_flag = RUS_all_russian_constituent_assembly_second_session_serfdom }
		}
	}
	desc = {
		text = rcw_all_rus_CA.102.d_2
		trigger = {
			has_country_flag = RUS_all_russian_constituent_assembly_second_session_serfdom
		}
	}
	picture = GFX_report_event_rus_kazaks_war
	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = RUS_constituent_assembly_civil_war
	}
	
	immediate = {
		hidden_effect = {
			every_unit_leader = { limit = { has_id = 77299 } set_nationality = BKL }
			BKL = {
				transfer_state = 761
				transfer_state = 950
				inherit_technology = RUS
				add_ideas = neutral_foreign_policy_law
			}
			delete_unit_template_and_units = {
				division_template = "Kazach'ya brigada"
			}
		}
	}
	
	option = {
		name = rcw_all_rus_CA.102.a
		BKL = {
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
			load_oob = BKL_cossaks
			set_province_controller = 4677
			set_province_controller = 4719
			set_province_controller = 7725
			set_province_controller = 7786
		}
		set_country_flag = BKL_revolt
	}
	option = {
		name = rcw_all_rus_CA.102.b
		trigger = {
			is_ai = no
			OR = {
				has_government = radical_socialism
				has_government = communism
				has_country_flag = RUS_Oktober_revolution_fired
			}
		}
		BKL = {
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
			load_oob = BKL_cossaks
			set_province_controller = 4677
			set_province_controller = 4719
			set_province_controller = 7725
			set_province_controller = 7786
		}
		set_country_flag = BKL_revolt
		BKL = { change_tag_from = RUS }
	}
	option = {
		name = rcw_all_rus_CA.102.c
		trigger = {
			is_ai = no
			NOT = {
				has_government = radical_socialism
				has_government = communism
				has_country_flag = RUS_Oktober_revolution_fired
			}
		}
		BKL = {
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
			load_oob = BKL_cossaks
			set_province_controller = 4677
			set_province_controller = 4719
			set_province_controller = 7725
			set_province_controller = 7786
		}
		set_country_flag = BKL_revolt
		BKL = { change_tag_from = RUS }
	}
}

# 
country_event = {
	id = rcw_all_rus_CA.108
	title = rcw_all_rus_CA.108.t
	desc = rcw_all_rus_CA.108.d
	picture = GFX_report_event_rus_kazaks_war
	
	trigger = {
		NOT = { has_government = despotism }
		has_global_flag = RUS_constituent_assembly_civil_war
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			every_unit_leader = { limit = { OR = { has_id = 76428 has_id = 76547 has_id = 76321 has_id = 77652 has_id = 77654 } } set_nationality = RVA }
			REB = { every_unit_leader = { limit = { OR = { has_id = 76428 has_id = 76547 has_id = 76321 has_id = 77652 has_id = 77654 } } set_nationality = RVA } }
		}
	}
	
	option = {
		name = rcw_all_rus_CA.108.a
		ai_chance = {
			factor = 999
		}
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = neutral_foreign_policy_law
		}
		every_state = {
			limit = {
				OR = {
					state = 218
					state = 995
					state = 233
					state = 234
					state = 235
					state = 1282
					state = 1283
					state = 917
					state = 996
					state = 902
					state = 1342
				}
			}
			add_core_of = RVA
		}
		every_state = {
			limit = {
				OR = {
					is_owned_by = ROOT
					OWNER = { is_subject_of = ROOT }
					is_owned_by = DON
					OWNER = { is_subject_of = DON }
				}
				OR = {
					state = 218
					state = 995
					state = 996
				}
			}
			RVA = { transfer_state = PREV }
		}
		RVA = { give_military_access = DON }
		DON = { give_military_access = RVA }
		RVA = {
			inherit_technology = RUS
			add_ideas = neutral_foreign_policy_law
			load_oob = RVA_alexeev
		}
		RVA = {
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
			if = {
				limit = { RUS = { has_war_with = GER } }
				declare_war_on = {
					target = GER
					type = annex_everything
				}
			}
		}
	}
	option = {
		name = rcw_all_rus_CA.108.b
		ai_chance = {
			factor = 0
		}
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = neutral_foreign_policy_law
		}
		every_state = {
			limit = {
				OR = {
					state = 218
					state = 995
					state = 233
					state = 234
					state = 235
					state = 1282
					state = 1283
					state = 917
					state = 996
					state = 902
					state = 1342
				}
			}
			add_core_of = RVA
		}
		every_state = {
			limit = {
				OR = {
					is_owned_by = ROOT
					OWNER = { is_subject_of = ROOT }
					is_owned_by = DON
					OWNER = { is_subject_of = DON }
				}
				OR = {
					state = 218
					state = 995
					state = 996
				}
			}
			RVA = { transfer_state = PREV }
		}
		RVA = { give_military_access = DON }
		DON = { give_military_access = RVA }
		RVA = {
			inherit_technology = RUS
			add_ideas = neutral_foreign_policy_law
			load_oob = RVA_alexeev
		}
		RVA = {
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
			if = {
				limit = { RUS = { has_war_with = GER } }
				declare_war_on = {
					target = GER
					type = annex_everything
				}
			}
		}
		RVA = { change_tag_from = RUS }
	}
}

# 
country_event = {
	id = rcw_all_rus_CA.109
	title = rcw_all_rus_CA.109.t
	desc = rcw_all_rus_CA.109.d
	picture = GFX_report_event_rus_kazaks_war
	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = RUS_constituent_assembly_civil_war
	}
	
	option = {
		name = rcw_all_rus_CA.109.a
		ai_chance = {
			factor = 999
		}
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = neutral_foreign_policy_law
		}
		every_unit_leader = { limit = { OR = { has_id = 88147 has_id = 88147 } } set_nationality = CCA }
		CCA = {
			set_country_flag = Viktor_Chernov_is_here
			create_country_leader = {
				name = "Victor Chernov"
				desc = RUS_Victor_Chernov_DESC
				picture = "gfx/leaders/RUS/Portrait_Victor_Chernov.dds"
				expire = "1935.1.1" ideology = social_liberalism_ideology
				traits = {  }
			}
			every_state = {
				limit = {
					is_core_of = RUS
					OR = {
						state = 401
						state = 239
						state = 257
						state = 255
						state = 250
						state = 251
						state = 252
						state = 256
						state = 249
						state = 651
						state = 1299
						state = 1072
						state = 398
						state = 1270
						state = 399
						state = 400
						state = 581
						state = 911
						state = 397
						state = 1269
						state = 262
					}
				}
				CCA = { add_state_core = PREV }
				if = {
					limit = { is_owned_by = RUS }
					CCA = { transfer_state = PREV }
				}
			}
			
			load_focus_tree = Russia_Russian_Democratic_Federal_Republic_focus
			
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
			if = {
				limit = { RUS = { has_war_with = GER } }
				declare_war_on = {
					target = GER
					type = annex_everything
				}
			}
			
			load_oob = CCA_Kornilov_CW
		}
	}
	option = {
		name = rcw_all_rus_CA.109.b
		ai_chance = {
			factor = 0
		}
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = neutral_foreign_policy_law
		}
		every_unit_leader = { limit = { OR = { has_id = 88147 has_id = 88147 } } set_nationality = CCA }
		CCA = {
			set_country_flag = Viktor_Chernov_is_here
			create_country_leader = {
				name = "Victor Chernov"
				desc = RUS_Victor_Chernov_DESC
				picture = "gfx/leaders/RUS/Portrait_Victor_Chernov.dds"
				expire = "1935.1.1" ideology = social_liberalism_ideology
				traits = {  }
			}
			every_state = {
				limit = {
					is_core_of = RUS
					OR = {
						state = 401
						state = 239
						state = 257
						state = 255
						state = 250
						state = 251
						state = 252
						state = 256
						state = 249
						state = 651
						state = 1299
						state = 1072
						state = 398
						state = 1270
						state = 399
						state = 400
						state = 581
						state = 911
						state = 397
						state = 1269
						state = 262
					}
				}
				CCA = { add_state_core = PREV }
				if = {
					limit = { is_owned_by = RUS }
					CCA = { transfer_state = PREV }
				}
			}
			
			load_focus_tree = Russia_Russian_Democratic_Federal_Republic_focus
			
			load_oob = CCA_Kornilov_CW
			
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
			if = {
				limit = { RUS = { has_war_with = GER } }
				declare_war_on = {
					target = GER
					type = annex_everything
				}
			}
		}
		CCA = { change_tag_from = RUS }
	}
}

country_event = {
	id = rcw_all_rus_CA.110
	title = rcw_all_rus_CA.110.t
	desc = rcw_all_rus_CA.110.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = RUS_constituent_assembly_civil_war
	}
	
	immediate = {
		hidden_effect = { create_country_leader = { name = "Yakov Sverdlov" desc = SOV_Yakov_Sverdlov_DESC picture = "gfx/leaders/SOV/Portrait_Yakov_Sverdlov.dds" expire = "1935.1.1" ideology = leninism traits = {  } } }
	}
	
	option = {
		name = rcw_all_rus_CA.110.a
		ai_chance = {
			factor = 999
		}
		set_country_flag = RUS_Kornilov_SOV_revolt
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = neutral_foreign_policy_law
		}
		start_civil_war = {
			ideology = communism
			size = 0.3
			capital = 219
			states = {
				219 253 254 258 260 240 220 960 222 223 205 247 248
			}
		}
		every_country = {
			limit = { original_tag = RUS NOT = { tag = RUS } has_government = communism }
			set_cosmetic_tag = RSR
			add_ideas = neutral_foreign_policy_law
			if = {
				limit = { RUS = { has_war_with = GER } }
				declare_war_on = {
					target = GER
					type = annex_everything
				}
			}
		}
			if = {
				limit = { has_idea = collapse_of_railway_system_3 }
				swap_ideas = {
					remove_idea = collapse_of_railway_system_3
					add_idea = collapse_of_railway_system_4
				}
			}
			if = {
				limit = { has_idea = collapse_of_railway_system_2 }
				swap_ideas = {
					remove_idea = collapse_of_railway_system_2
					add_idea = collapse_of_railway_system_3
				}
			}
			if = {
				limit = { has_idea = collapse_of_railway_system_1 }
				swap_ideas = {
					remove_idea = collapse_of_railway_system_1
					add_idea = collapse_of_railway_system_2
				}
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1899 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1900 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1901 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1902 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1903 goda"
			}
	}
	option = {
		name = rcw_all_rus_CA.110.b
		ai_chance = {
			factor = 0
		}
		set_country_flag = RUS_Kornilov_SOV_revolt
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = neutral_foreign_policy_law
		}
		start_civil_war = {
			ideology = communism
			size = 0.3
			capital = 219
			states = {
				219 253 254 258 260 240 220 960 222 223 205 247 248
			}
		}
		every_country = {
			limit = { original_tag = RUS NOT = { tag = RUS } has_government = communism }
			set_cosmetic_tag = RSR
			if = {
				limit = { RUS = { has_war_with = GER } }
				declare_war_on = {
					target = GER
					type = annex_everything
				}
			}
			change_tag_from = RUS
		}
			if = {
				limit = { has_idea = collapse_of_railway_system_3 }
				swap_ideas = {
					remove_idea = collapse_of_railway_system_3
					add_idea = collapse_of_railway_system_4
				}
			}
			if = {
				limit = { has_idea = collapse_of_railway_system_2 }
				swap_ideas = {
					remove_idea = collapse_of_railway_system_2
					add_idea = collapse_of_railway_system_3
				}
			}
			if = {
				limit = { has_idea = collapse_of_railway_system_1 }
				swap_ideas = {
					remove_idea = collapse_of_railway_system_1
					add_idea = collapse_of_railway_system_2
				}
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1899 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1900 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1901 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1902 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1903 goda"
			}
	}
}

country_event = {
	id = rcw_all_rus_CA.111
	title = rcw_all_rus_CA.111.t
	desc = rcw_all_rus_CA.111.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = RUS_constituent_assembly_civil_war
	}
	
	immediate = {
		hidden_effect = {
			SIB = {
				if = {
					limit = { has_country_flag = RUS_CA_cadets_angry_flag }
					set_politics = {
						ruling_party = market_liberalism
						elections_allowed = no
					}
					else = {
						set_politics = {
							ruling_party = social_liberalism
							elections_allowed = no
						}
					}
				}
				set_popularities = {
						communism = 5
						social_liberalism = 35
						market_liberalism = 25
						conservatism = 10
						despotism = 15
						fascism = 10
				}
				add_ideas = war_economy
				inherit_technology = RUS
			}
		}
	}
	
	option = {
		name = rcw_all_rus_CA.111.a
		ai_chance = {
			factor = 999
		}
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = neutral_foreign_policy_law
		}
		SIB = {
			inherit_technology = ROOT
			add_ideas = neutral_foreign_policy_law
			transfer_state = 566
			transfer_state = 567
			transfer_state = 568
			transfer_state = 569
			transfer_state = 1279
			transfer_state = 654
			transfer_state = 588
			transfer_state = 578
			transfer_state = 1350
			transfer_state = 576
			transfer_state = 577
			transfer_state = 516
			transfer_state = 824
			
			add_state_core = 40
			add_state_core = 569
			add_state_core = 1279
			add_state_core = 570
			add_state_core = 578
			add_state_core = 1350
			add_state_core = 654
			add_state_core = 588
			
			add_state_core = 566
			add_state_core = 575
			add_state_core = 564
			add_state_core = 565
			add_state_core = 644
			add_state_core = 877
			add_state_core = 574
			
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
		}
	}
	option = {
		name = rcw_all_rus_CA.111.b
		ai_chance = {
			factor = 0
		}
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = neutral_foreign_policy_law
		}
		SIB = {
			inherit_technology = ROOT
			add_ideas = neutral_foreign_policy_law
			transfer_state = 566
			transfer_state = 567
			transfer_state = 568
			transfer_state = 569
			transfer_state = 1279
			transfer_state = 654
			transfer_state = 588
			transfer_state = 578
			transfer_state = 1350
			transfer_state = 576
			transfer_state = 577
			transfer_state = 516
			transfer_state = 824
			
			add_state_core = 40
			add_state_core = 569
			add_state_core = 1279
			add_state_core = 570
			add_state_core = 578
			add_state_core = 1350
			add_state_core = 654
			add_state_core = 588
			
			add_state_core = 566
			add_state_core = 575
			add_state_core = 564
			add_state_core = 565
			add_state_core = 644
			add_state_core = 877
			add_state_core = 574
			
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
		}
		SIB = { change_tag_from = RUS }
	}
}