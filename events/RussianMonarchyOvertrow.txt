###########################
# Russian Revolution Events
###########################

add_namespace = russian_ovrthrw_of_mon

# Арест Рабочей группы ЦВПК
country_event = {
	id = russian_ovrthrw_of_mon.1
	title = russian_ovrthrw_of_mon.1.t
	desc = russian_ovrthrw_of_mon.1.desc
	picture = GFX_report_event_rus_arest_cmic
	
	trigger = {
		tag = RUS
		OR = {
			has_government = authoritarism
			has_government = despotism
		}
		has_country_flag = RUS_monarchy_not_fall
		OR = {
			has_war_with = GER
			has_war_with = AUH
			has_war_with = FRA
			has_war_with = ENG
		}
	}
	
	mean_time_to_happen = {
		days = 38
		modifier = {
			factor = 0.01
			date > 1917.2.1
		}
	}
	
	fire_only_once = yes
	
	option = {
		name = russian_ovrthrw_of_mon.1.a
		add_popularity = { ideology = social_democracy popularity = -0.04 }
		add_popularity = { ideology = social_liberalism popularity = -0.02 }
		add_political_power = 50
		ai_chance = {
			factor = 1
		}
	}
	
	option = {
		name = russian_ovrthrw_of_mon.1.b
		add_stability = 0.04
		ai_chance = {
			factor = 0
		}
	}
}

# Забастовка на Путиловском заводе
country_event = {
	id = russian_ovrthrw_of_mon.2
	title = russian_ovrthrw_of_mon.2.t
	desc = russian_ovrthrw_of_mon.2.desc
	picture = GFX_report_event_rus_putilovs_fabric
	
	trigger = {
		tag = RUS
		OR = {
			has_government = authoritarism
			has_government = despotism
		}
		has_country_flag = RUS_monarchy_not_fall
		OR = {
			has_war_with = GER
			has_war_with = AUH
			has_war_with = FRA
			has_war_with = ENG
		}
		date > 1917.2.1
	}
	
	mean_time_to_happen = {
		days = 20
		modifier = {
			factor = 0.2
			RUS = {
				controls_state = 195
				NOT = { has_full_control_of_state = 195 }
			}
		}
	}
	
	fire_only_once = yes
	
	option = {
		name = russian_ovrthrw_of_mon.2.a
		add_popularity = { ideology = authoritarism popularity = -0.01 }
		add_timed_idea = { idea = RUS_mass_workers_strikes days = 20 }
		add_stability = -0.01
		hidden_effect = { country_event = { id = russian_ovrthrw_of_mon.3 days = 4 } }
	}
}

# Хлебные бунты
country_event = {
	id = russian_ovrthrw_of_mon.3
	title = russian_ovrthrw_of_mon.3.t
	desc = russian_ovrthrw_of_mon.3.desc
	picture = GFX_report_event_rus_bread
	
	trigger = {
		tag = RUS
		OR = {
			has_government = authoritarism
			has_government = despotism
		}
		has_country_flag = RUS_monarchy_not_fall
		OR = {
			has_war_with = GER
			has_war_with = AUH
			has_war_with = FRA
			has_war_with = ENG
		}
		date > 1917.2.1
		has_political_power < 0
	}
	
	mean_time_to_happen = {
		days = 4
	}
	
	option = {
		name = russian_ovrthrw_of_mon.3.a
		add_stability = -0.01
		add_political_power = -50
		set_country_flag = RUS_petrograd_miting
		add_popularity = { ideology = authoritarism popularity = -0.05 }
		add_popularity = { ideology = despotism popularity = -0.05 }
		hidden_effect = {
			if = {
				limit = { has_country_flag = RUS_ovrtrw_mon_12_tsar_edet_v_stavku }
				country_event = { id = russian_ovrthrw_of_mon.5 hours = 16 }
			}
		}
		if = {
			limit = { NOT = { has_stability > 0.1 } }
			hidden_effect = { country_event = { id = russian_ovrthrw_of_mon.4 days = 3 } }
		}
	}
}

# Демонстрации в Петрограде
country_event = {
	id = russian_ovrthrw_of_mon.4
	title = russian_ovrthrw_of_mon.4.t
	desc = russian_ovrthrw_of_mon.4.desc
	picture = GFX_report_event_rus_bund_bleat
	
	trigger = {
		tag = RUS
		OR = {
			has_government = authoritarism
			has_government = despotism
		}
		has_country_flag = RUS_monarchy_not_fall
		has_country_flag = RUS_petrograd_miting
		NOT = { has_country_flag = RUS_petrograd_miting_2 }
		OR = {
			has_war_with = GER
			has_war_with = AUH
			has_war_with = FRA
			has_war_with = ENG
		}
		date > 1917.2.1
		has_political_power < 0
	}
	
	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 10
			has_stability > 0.1
		}
	}
	
	fire_only_once = yes
	
	option = {
		name = russian_ovrthrw_of_mon.4.a
		add_political_power = -50
		add_stability = -0.05
		set_country_flag = RUS_petrograd_miting_2
		add_popularity = { ideology = authoritarism popularity = -0.05 }
		add_popularity = { ideology = despotism popularity = -0.05 }
		hidden_effect = { country_event = { id = russian_ovrthrw_of_mon.8 days = 5 } }
	}
}

# Отъезд царя в ставку
country_event = {
	id = russian_ovrthrw_of_mon.5
	title = russian_ovrthrw_of_mon.5.t
	desc = russian_ovrthrw_of_mon.5.desc
	picture = GFX_report_event_rus_tsar_in_the_train
	
	trigger = {
		has_country_flag = RUS_ovrtrw_mon_12_tsar_edet_v_stavku
	}
	
	is_triggered_only = yes
	
	option = {
		name = russian_ovrthrw_of_mon.5.a
		add_stability = -0.01
		add_command_power = 200
		add_war_support = 0.03
		clr_country_flag = RUS_ovrtrw_mon_12_tsar_edet_v_stavku
	}
}

# Роспуск Думы
country_event = {
	id = russian_ovrthrw_of_mon.6
	title = russian_ovrthrw_of_mon.6.t
	desc = russian_ovrthrw_of_mon.6.desc
	picture = GFX_report_event_long_feb_duma_question
	
	is_triggered_only = yes
	
	#Не распускать
	option = {
		name = russian_ovrthrw_of_mon.6.a
		add_stability = 0.05
		add_popularity = { ideology = market_liberalism popularity = 0.05 }
		set_country_flag = RUS_make_concessions_with_duma
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	#Распустить
	option = {
		name = russian_ovrthrw_of_mon.6.b
		add_political_power = 25
		set_country_flag = RUS_duma_dissolved
		add_to_variable = { RUS.RUS_otrecheniye = 1 }
		hidden_effect = { if = { limit = { check_variable = { RUS_otrecheniye > 4 } } country_event = { id = russian_ovrthrw_of_mon.95 days = 3 } } }
		ai_chance = {
			factor = 2
		}
	}
}

# Роспуск части армии
country_event = {
	id = russian_ovrthrw_of_mon.7
	title = russian_ovrthrw_of_mon.7.t
	desc = russian_ovrthrw_of_mon.7.desc
	picture = GFX_report_event_long_feb_army_qustion
	
	is_triggered_only = yes
	
	#Части выказавшие открытое неповиновение должны быть распущены
	option = {
		name = russian_ovrthrw_of_mon.7.a
		add_stability = 0.05
		add_war_support = 0.05
		delete_unit_template_and_units = {
			division_template = "Pekhotnaya Diviziya priziva 1899 goda"
		}
	}
	#Даже части замеченые в братании будут распущены
	option = {
		name = russian_ovrthrw_of_mon.7.b
		add_stability = 0.05
		add_war_support = 0.1
		delete_unit_template_and_units = {
			division_template = "Pekhotnaya Diviziya priziva 1899 goda"
		}
		delete_unit_template_and_units = {
			division_template = "Pekhotnaya Diviziya priziva 1900 goda"
		}
		if = {
			limit = { has_idea = soldiers_fraternity_GER_RUS_5 }
			remove_ideas = soldiers_fraternity_GER_RUS_5
			GER = { remove_ideas = soldiers_fraternity_GER_RUS_5 }
		}
		else_if = {
			limit = { has_idea = soldiers_fraternity_GER_RUS_4 }
			remove_ideas = soldiers_fraternity_GER_RUS_4
			GER = { remove_ideas = soldiers_fraternity_GER_RUS_4 }
		}
		else_if = {
			limit = { has_idea = soldiers_fraternity_GER_RUS_3 }
			remove_ideas = soldiers_fraternity_GER_RUS_3
			GER = { remove_ideas = soldiers_fraternity_GER_RUS_3 }
		}
		else_if = {
			limit = { has_idea = soldiers_fraternity_GER_RUS_2 }
			remove_ideas = soldiers_fraternity_GER_RUS_2
			GER = { remove_ideas = soldiers_fraternity_GER_RUS_2 }
		}
		else_if = {
			limit = { has_idea = soldiers_fraternity_GER_RUS_1 }
			remove_ideas = soldiers_fraternity_GER_RUS_1
			GER = { remove_ideas = soldiers_fraternity_GER_RUS_1 }
		}
	}
	#Мы переходим к плану полной демобилизации
	option = {
		trigger = { NOT = { has_war_with = GER } }
		name = russian_ovrthrw_of_mon.7.c
		add_stability = 0.1
		add_war_support = 0.1
		add_popularity = { ideology = authoritarism popularity = 0.05 }
		delete_unit_template_and_units = {
			division_template = "Pekhotnaya Diviziya priziva 1899 goda"
		}
		delete_unit_template_and_units = {
			division_template = "Pekhotnaya Diviziya priziva 1900 goda"
		}
		delete_unit_template_and_units = {
			division_template = "Pekhotnaya Diviziya priziva 1901 goda"
		}
		delete_unit_template_and_units = {
			division_template = "Pekhotnaya Diviziya priziva 1902 goda"
		}
		country_event = { id = rcw.121 days = 4 }
		country_event = { id = rcw.122 days = 8 }
		country_event = { id = rcw.123 days = 15 }
		country_event = { id = rcw.124 days = 29 }
		country_event = { id = rcw.125 days = 48 }
		set_country_flag = RUS_not_bolsheviks_demobilisation
		if = {
			limit = { has_idea = soldiers_fraternity_GER_RUS_5 }
			remove_ideas = soldiers_fraternity_GER_RUS_5
			GER = { remove_ideas = soldiers_fraternity_GER_RUS_5 }
		}
		else_if = {
			limit = { has_idea = soldiers_fraternity_GER_RUS_4 }
			remove_ideas = soldiers_fraternity_GER_RUS_4
			GER = { remove_ideas = soldiers_fraternity_GER_RUS_4 }
		}
		else_if = {
			limit = { has_idea = soldiers_fraternity_GER_RUS_3 }
			remove_ideas = soldiers_fraternity_GER_RUS_3
			GER = { remove_ideas = soldiers_fraternity_GER_RUS_3 }
		}
		else_if = {
			limit = { has_idea = soldiers_fraternity_GER_RUS_2 }
			remove_ideas = soldiers_fraternity_GER_RUS_2
			GER = { remove_ideas = soldiers_fraternity_GER_RUS_2 }
		}
		else_if = {
			limit = { has_idea = soldiers_fraternity_GER_RUS_1 }
			remove_ideas = soldiers_fraternity_GER_RUS_1
			GER = { remove_ideas = soldiers_fraternity_GER_RUS_1 }
		}
	}
}

# Вооружённое восстание
country_event = {
	id = russian_ovrthrw_of_mon.8
	title = russian_ovrthrw_of_mon.8.t
	desc = russian_ovrthrw_of_mon.8.desc
	picture = GFX_report_event_rus_krodshtat_refuse
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_monarchy_not_fall
		has_country_flag = RUS_petrograd_miting_2
	}
	
	mean_time_to_happen = {
		days = 5
	}
	
	option = {
		name = russian_ovrthrw_of_mon.8.a
		set_country_flag = RUS_petrograd_soviet
		country_event = { id = russian_ovrthrw_of_mon.9 days = 2 }
		hidden_effect = { if = { limit = { check_variable = { RUS_otrecheniye > 4 } } country_event = { id = russian_ovrthrw_of_mon.95 days = 3 } } }
		add_stability = -0.02
		add_popularity = {
			ideology = social_liberalism
			popularity = 0.05
		}
		add_popularity = {
			ideology = social_democracy
			popularity = 0.05
		}
		add_popularity = {
			ideology = radical_socialism
			popularity = 0.025
		}
		add_political_power = -50
		remove_ideas = {
			Alexander_Protopopov_4
		}
	}
}

# Приказ № 1
country_event = {
	id = russian_ovrthrw_of_mon.9
	title = russian_ovrthrw_of_mon.9.t
	desc = russian_ovrthrw_of_mon.9.desc
	picture = GFX_report_event_report_event_order_n_1
	
	is_triggered_only = yes
	
	option = {
		name = russian_ovrthrw_of_mon.9.a
		remove_ideas = RUS_Order_N_1_2
		remove_ideas = RUS_Order_N_1_3
		remove_ideas = RUS_Order_N_1_4
		if = {
			limit = { has_idea = RUS_army_decomposition }
			swap_ideas = {
				remove_idea = RUS_army_decomposition
				add_idea = RUS_Order_N_1_1
			}
			else = {
				add_ideas = RUS_Order_N_1_1
			}
		}
		swap_ideas = {
			remove_idea = limited_conscription
			add_idea = extensive_conscription
		}
		set_country_flag = RUS_Order_N_1
		add_popularity = {
			ideology = social_liberalism
			popularity = 0.025
		}
		add_popularity = {
			ideology = social_democracy
			popularity = 0.025
		}
		add_political_power = -50
	}
}


# Диктатура военного времени
country_event = {
	id = russian_ovrthrw_of_mon.11
	title = russian_ovrthrw_of_mon.11.t
	desc = russian_ovrthrw_of_mon.11.desc
	picture = GFX_report_event_long_feb_iron_hand
	
	is_triggered_only = yes
	
	option = {
		name = russian_ovrthrw_of_mon.11.a
		create_country_leader = {
			name = "Nikolay Iudovich Ivanov"
			desc = RUS_Nikolay_Iudovich_Ivanov_DESC
			picture = "gfx/leaders/RUS/Nikolay_Ivanov.dds"
			ideology = despotism_ideology
			traits = {  }
		}
		set_politics = {
			ruling_party = despotism
			elections_allowed = no
		}
		if = {
			limit = { NOT = { has_country_flag = Nikolay_Alexandrovich_Romanov_dead } }
			add_ideas = RUS_Nikolay_II_idea
		}
		add_ideas = RUS_Ivanov_dictatorship_idea
		add_ideas = military_dictatorship_gov_form
	}
	option = {
		name = russian_ovrthrw_of_mon.11.b
		create_country_leader = {
			name = "Mikhail Alexeev"
			desc = RUS_Mikhail_Alexeev_DESC
			picture = "gfx/leaders/RUS/Michael_Alexeev.dds"
			ideology = despotism_ideology
			traits = {  }
		}
		set_politics = {
			ruling_party = despotism
			elections_allowed = no
		}
		if = {
			limit = { NOT = { has_country_flag = Nikolay_Alexandrovich_Romanov_dead } }
			add_ideas = RUS_Nikolay_II_idea
		}
		add_ideas = RUS_Alexeev_dictatorship_idea
		add_ideas = military_dictatorship_gov_form
	}
	option = {
		name = russian_ovrthrw_of_mon.11.c
		add_political_power = -50
		add_popularity = { ideology = authoritarism popularity = -0.05 }
	}
}

# Стратегия победы
country_event = {
	id = russian_ovrthrw_of_mon.12
	title = russian_ovrthrw_of_mon.12.t
	desc = russian_ovrthrw_of_mon.12.desc
	picture = GFX_report_event_victorious_strategy
	
	is_triggered_only = yes
	
	option = {
		name = russian_ovrthrw_of_mon.12.a
		hidden_effect = {
			set_country_flag = RUS_ovrtrw_mon_12_a
			set_country_flag = RUS_ovrtrw_mon_12_tsar_edet_v_stavku
			country_event = { id = russian_ovrthrw_of_mon.13 days = 14 }
			country_event = { id = russian_ovrthrw_of_mon.14 days = 28 }
			country_event = { id = russian_ovrthrw_of_mon.15 days = 104 }
			add_to_variable = { RUS.RUS_otrecheniye = 2 }
		}
		hidden_effect = { if = { limit = { check_variable = { RUS_otrecheniye > 4 } } country_event = { id = russian_ovrthrw_of_mon.95 days = 3 } } }
		ai_chance = {
			factor = 2
		}
	}
	option = {
		name = russian_ovrthrw_of_mon.12.b
		hidden_effect = {
			country_event = { id = russian_ovrthrw_of_mon.13 days = 14 }
			country_event = { id = russian_ovrthrw_of_mon.14 days = 28 }
			country_event = { id = russian_ovrthrw_of_mon.15 days = 52 }
			add_to_variable = { RUS.RUS_otrecheniye = 2 }
		}
		hidden_effect = { if = { limit = { check_variable = { RUS_otrecheniye > 4 } } country_event = { id = russian_ovrthrw_of_mon.95 days = 3 } } }
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	option = {
		name = russian_ovrthrw_of_mon.12.c
		hidden_effect = {
			country_event = { id = russian_ovrthrw_of_mon.13 days = 14 }
			country_event = { id = russian_ovrthrw_of_mon.14 days = 14 }
			add_to_variable = { RUS.RUS_otrecheniye = 1 }
		}
		add_timed_idea = { idea = RUS_1917_tsarist_defense_focus days = 104 }
		hidden_effect = { if = { limit = { check_variable = { RUS_otrecheniye > 4 } } country_event = { id = russian_ovrthrw_of_mon.95 days = 3 } } }
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

country_event = {
	id = russian_ovrthrw_of_mon.13
	title = russian_ovrthrw_of_mon.13.t
	desc = russian_ovrthrw_of_mon.13.desc
	picture = GFX_report_event_narod_zemlya_svoboda_mir
	
	is_triggered_only = yes
	
	hidden = yes
	
	option = {
		name = russian_ovrthrw_of_mon.12.a
		if = {
			limit = { has_country_flag = RUS_ovrtrw_mon_12_a }
			add_ideas = RUS_collapse_of_railway_system_2
			add_to_variable = { RUS.RUS_otrecheniye = 2 }
			else = {
				add_ideas = RUS_collapse_of_railway_system_1
				add_to_variable = { RUS.RUS_otrecheniye = 1 }
			}
		}
		hidden_effect = { if = { limit = { check_variable = { RUS_otrecheniye > 4 } } country_event = { id = russian_ovrthrw_of_mon.95 days = 3 } } }
	}
}
country_event = {
	id = russian_ovrthrw_of_mon.14
	title = russian_ovrthrw_of_mon.14.t
	desc = russian_ovrthrw_of_mon.14.desc
	picture = GFX_report_event_narod_zemlya_svoboda_mir
	
	is_triggered_only = yes
	
	hidden = yes
	
	option = {
		name = russian_ovrthrw_of_mon.14.a
		add_ideas = foodstuffs_supply_crisis_1
		add_to_variable = { RUS.RUS_otrecheniye = 1 }
		hidden_effect = { if = { limit = { check_variable = { RUS_otrecheniye > 4 } } country_event = { id = russian_ovrthrw_of_mon.95 days = 3 } } }
	}
}
country_event = {
	id = russian_ovrthrw_of_mon.15
	title = russian_ovrthrw_of_mon.15.t
	desc = russian_ovrthrw_of_mon.15.desc
	picture = GFX_report_event_narod_zemlya_svoboda_mir
	
	trigger = {
		has_country_flag = RUS_monarchy_not_fall
		NOT = { has_global_flag = RUS_monarchy_Petrograd_commune_civil_war }
	}
	
	is_triggered_only = yes
	
	hidden = yes
	
	option = {
		name = russian_ovrthrw_of_mon.15.a
		if = {
			limit = { has_country_flag = RUS_ovrtrw_mon_12_a }
			add_timed_idea = { idea = RUS_1917_spring_offensive days = 104 }
			clr_country_flag = RUS_ovrtrw_mon_12_a
			else = {
				add_timed_idea = { idea = RUS_1917_spring_offensive days = 104 }
			}
		}
	}
}

# Контрразведка: кого грести?
country_event = {
	id = russian_ovrthrw_of_mon.21
	title = russian_ovrthrw_of_mon.21.t
	desc = russian_ovrthrw_of_mon.21.d
	picture = GFX_report_event_rus_kornilov_something_coming
	
	is_triggered_only = yes
	
	#Грести всех
	option = {
		name = russian_ovrthrw_of_mon.21.a
		ai_chance = {
			factor = 1
		}
		add_political_power = -20
		add_war_support = 0.05
		add_stability = 0.05
		add_popularity = {
			ideology = communism
			popularity = -0.03
		}
		add_popularity = {
			ideology = social_democracy
			popularity = -0.03
		}
		add_popularity = {
			ideology = social_liberalism
			popularity = -0.03
		}
		hidden_effect = {
			if = {
				limit = { has_completed_focus = RUS_trust_government NOT = { has_completed_focus = RUS_regent_mikhail_compromise_break } NOT = { has_global_flag = RUS_monarchy_Petrograd_commune_civil_war } }
				country_event = { id = russian_ovrthrw_of_mon.22 days = 10 random = 240 }
			}
			else_if = {
				limit = { OR = { NOT = { has_completed_focus = RUS_trust_government } has_completed_focus = RUS_regent_mikhail_compromise_break } NOT = { has_global_flag = RUS_monarchy_Petrograd_commune_civil_war } }
				random_list = {
					50 = {
					}
					50 = {
						country_event = { id = russian_ovrthrw_of_mon.22 days = 10 random = 240 }
					}
				}
			}
		}
	}
	
	#Грести радикалов, агитирующих против войны
	option = {
		name = russian_ovrthrw_of_mon.21.b
		add_war_support = 0.04
		add_stability = 0.03
		add_popularity = {
			ideology = communism
			popularity = -0.03
		}
		hidden_effect = {
			if = {
				limit = { has_global_flag = RUS_monarchy_Petrograd_commune_civil_war }
				country_event = { id = russian_ovrthrw_of_mon.23 days = 5 random = 240 }
			}
		}
	}
}

# Провалы в контрразведке на фронте
country_event = {
	id = russian_ovrthrw_of_mon.22
	title = russian_ovrthrw_of_mon.22.t
	desc = russian_ovrthrw_of_mon.22.d
	picture = GFX_report_event_rus_kornilov_something_coming
	
	is_triggered_only = yes
	
	option = {
		name = russian_ovrthrw_of_mon.22.a
		add_stability = -0.02
		add_war_support = -0.02
		add_political_power = -50
		if = {
			limit = {
				has_government = despotism
			}
			add_popularity = {
				ideology = despotism
				popularity = -0.05
			}
		}
		else_if = {
			limit = {
				has_government = social_conservatism
			}
			add_popularity = {
				ideology = social_conservatism
				popularity = -0.05
			}
		}
		else_if = {
			limit = {
				has_government = market_liberalism
			}
			add_popularity = {
				ideology = market_liberalism
				popularity = -0.05
			}
		}
		else_if = {
			limit = {
				has_government = fascism
			}
			add_popularity = {
				ideology = fascism
				popularity = -0.05
			}
		}
		else_if = {
			limit = {
				has_government = national_syndicalism
			}
			add_popularity = {
				ideology = national_syndicalism
				popularity = -0.05
			}
		}
		else = {
			add_popularity = {
				ideology = authoritarism
				popularity = -0.05
			}
		}
		add_popularity = {
			ideology = communism
			popularity = 0.03
		}
		add_to_variable = { RUS.RUS_otrecheniye = 1 }
		hidden_effect = { if = { limit = { check_variable = { RUS_otrecheniye > 4 } } country_event = { id = russian_ovrthrw_of_mon.95 days = 3 } } }
	}
}

# Блять идиот у тя ГВ а ты взял чистки умеренные ну дебил блять
country_event = {
	id = russian_ovrthrw_of_mon.23
	title = russian_ovrthrw_of_mon.23.t
	desc = russian_ovrthrw_of_mon.23.d
	picture = GFX_report_event_report_event_order_n_1
	
	is_triggered_only = yes
	
	option = {
		name = russian_ovrthrw_of_mon.23.a
		add_war_support = -0.02
		add_stability = -0.02
		add_popularity = {
			ideology = despotism
			popularity = -0.02
		}
		add_timed_idea = {
			idea = mutiny_1
			days = 10
		}
	}
}


country_event = {
	id = russian_ovrthrw_of_mon.31
	title = russian_ovrthrw_of_mon.31.t
	desc = russian_ovrthrw_of_mon.31.desc
	picture = GFX_report_event_long_feb_abdication
	
	is_triggered_only = yes
	
	option = {
		name = russian_ovrthrw_of_mon.31.a
		add_stability = 0.05
		country_event = { id = russian_ovrthrw_of_mon.32 days = 30 }
	}
}

country_event = {
	id = russian_ovrthrw_of_mon.32
	title = russian_ovrthrw_of_mon.32.t
	desc = russian_ovrthrw_of_mon.32.desc
	picture = GFX_report_event_long_feb_abdication
	
	is_triggered_only = yes
	
	option = { #Просвященный абсолютизм
		trigger = { always = no }
		name = russian_ovrthrw_of_mon.32.a
		country_event = { id = russian_ovrthrw_of_mon.34 days = 3 }
		add_political_power = 120
		add_ideas = absolute_monarchy_gov_form
		add_ideas = ban_all_parties_law
		add_popularity = {
			ideology = authoritarism
			popularity = -0.2
		}
		add_stability = -0.1
	}
	option = { #Ограниченная монархия
		name = russian_ovrthrw_of_mon.32.b
		country_event = { id = russian_ovrthrw_of_mon.34 days = 3 }
		add_stability = 0.05
		add_political_power = 120
		add_ideas = limited_monarchy_gov_form
		add_ideas = uncodified_constitution_b_law
	}
	option = { #Парламентская Республика
		name = russian_ovrthrw_of_mon.32.c
		country_event = { id = russian_ovrthrw_of_mon.33 days = 3 }
		add_stability = 0.05
		add_political_power = 120
		add_popularity = { ideology = authoritarism popularity = -0.15 }
		add_ideas = parliamentary_republic_gov_form
		add_ideas = uncodified_constitution_b_law
	}
	option = { #Президентская Республика
		name = russian_ovrthrw_of_mon.32.d
		country_event = { id = russian_ovrthrw_of_mon.33 days = 3 }
		add_stability = 0.05
		add_political_power = 120
		add_popularity = { ideology = authoritarism popularity = -0.15 }
		add_ideas = presidential_republic_gov_form
		add_ideas = uncodified_constitution_b_law
	}
}

country_event = {
	id = russian_ovrthrw_of_mon.33
	title = russian_ovrthrw_of_mon.33.t
	desc = russian_ovrthrw_of_mon.33.desc
	picture = GFX_report_event_long_feb_abdication
	
	is_triggered_only = yes
	
	immediate = { hidden_effect = { initiate_verification_of_the_popularity_of_coalitions = yes set_trith_legal_party_flag = yes } }
	
	option = { #первый
		name = russian_ovrthrw_of_mon.33.a
		if = { limit = { has_country_flag = second_legal_party_is_socdem }
			set_politics = { ruling_party = social_democracy }
			remove_tsar_regime_unit_leaders = yes
			monarchy_fall = yes
			news_event = { id = news_n.5 hours = 36 }
			hidden_effect = {
				end_puppet = KHI
				end_puppet = BUK
				KHI = { leave_faction = yes }
				BUK = { leave_faction = yes }
				if = {
					limit = { KHI = { has_war = yes } }
					every_country = {
						limit = { OR = { is_in_faction_with = GER is_in_faction_with = AUH AND = { is_in_faction_with = TUR NOT = { is_in_faction_with = ENG } } AND = { is_in_faction_with = BUL NOT = { is_in_faction_with = ENG } } } is_faction_leader = yes }
						white_peace = KHI
					}
				}
				if = {
					limit = { BUK = { has_war = yes } }
					every_country = {
						limit = { OR = { is_in_faction_with = GER is_in_faction_with = AUH AND = { is_in_faction_with = TUR NOT = { is_in_faction_with = ENG } } AND = { is_in_faction_with = BUL NOT = { is_in_faction_with = ENG } } } is_faction_leader = yes }
						white_peace = BUK
					}
				}
			}
			
			hidden_effect = { lack_of_officers_rise = yes }
			set_country_flag = railway_self_government
			set_country_flag = RUS_provisional_government_created
			load_focus_tree = Russia_Provisional_government_focus
		}
		else_if = { limit = { has_country_flag = second_legal_party_is_soclib }
			set_politics = { ruling_party = social_liberalism }
			remove_tsar_regime_unit_leaders = yes
			monarchy_fall = yes
			news_event = { id = news_n.5 hours = 36 }
			hidden_effect = {
				end_puppet = KHI
				end_puppet = BUK
				KHI = { leave_faction = yes }
				BUK = { leave_faction = yes }
				if = {
					limit = { KHI = { has_war = yes } }
					every_country = {
						limit = { OR = { is_in_faction_with = GER is_in_faction_with = AUH AND = { is_in_faction_with = TUR NOT = { is_in_faction_with = ENG } } AND = { is_in_faction_with = BUL NOT = { is_in_faction_with = ENG } } } is_faction_leader = yes }
						white_peace = KHI
					}
				}
				if = {
					limit = { BUK = { has_war = yes } }
					every_country = {
						limit = { OR = { is_in_faction_with = GER is_in_faction_with = AUH AND = { is_in_faction_with = TUR NOT = { is_in_faction_with = ENG } } AND = { is_in_faction_with = BUL NOT = { is_in_faction_with = ENG } } } is_faction_leader = yes }
						white_peace = BUK
					}
				}
			}
			
			hidden_effect = { lack_of_officers_rise = yes }
			set_country_flag = railway_self_government
			set_country_flag = RUS_provisional_government_created
			load_focus_tree = Russia_Provisional_government_focus
		}
		else_if = { limit = { has_country_flag = second_legal_party_is_marketlib }
			set_politics = { ruling_party = market_liberalism }
		}
		else_if = { limit = { has_country_flag = second_legal_party_is_cons }
			set_politics = { ruling_party = social_conservatism }
		}
		else_if = { limit = { has_country_flag = second_legal_party_is_auth }
			set_politics = { ruling_party = authoritarism }
		}
		else_if = { limit = { has_country_flag = second_legal_party_is_desp }
			set_politics = { ruling_party = despotism }
		}
		else_if = { limit = { has_country_flag = second_legal_party_is_fasc }
			set_politics = { ruling_party = fascism }
		}
		else_if = { limit = { has_country_flag = second_legal_party_is_natsynd }
			set_politics = { ruling_party = national_syndicalism }
		}
		clr_country_flag = trith_legal_party_is_radsoc
		clr_country_flag = trith_legal_party_is_commi
		clr_country_flag = trith_legal_party_is_socdem
		clr_country_flag = trith_legal_party_is_soclib
		clr_country_flag = trith_legal_party_is_marketlib
		clr_country_flag = trith_legal_party_is_cons
		clr_country_flag = trith_legal_party_is_auth
		clr_country_flag = trith_legal_party_is_desp
		clr_country_flag = trith_legal_party_is_fasc
		clr_country_flag = trith_legal_party_is_natsynd
	}
	option = {
		name = russian_ovrthrw_of_mon.33.b
		if = { limit = { has_country_flag = trith_legal_party_is_socdem }
			set_politics = { ruling_party = social_democracy }
			remove_tsar_regime_unit_leaders = yes
			monarchy_fall = yes
			news_event = { id = news_n.5 hours = 36 }
			hidden_effect = {
				end_puppet = KHI
				end_puppet = BUK
				KHI = { leave_faction = yes }
				BUK = { leave_faction = yes }
				if = {
					limit = { KHI = { has_war = yes } }
					every_country = {
						limit = { OR = { is_in_faction_with = GER is_in_faction_with = AUH AND = { is_in_faction_with = TUR NOT = { is_in_faction_with = ENG } } AND = { is_in_faction_with = BUL NOT = { is_in_faction_with = ENG } } } is_faction_leader = yes }
						white_peace = KHI
					}
				}
				if = {
					limit = { BUK = { has_war = yes } }
					every_country = {
						limit = { OR = { is_in_faction_with = GER is_in_faction_with = AUH AND = { is_in_faction_with = TUR NOT = { is_in_faction_with = ENG } } AND = { is_in_faction_with = BUL NOT = { is_in_faction_with = ENG } } } is_faction_leader = yes }
						white_peace = BUK
					}
				}
			}
			
			hidden_effect = { lack_of_officers_rise = yes }
			set_country_flag = railway_self_government
			set_country_flag = RUS_provisional_government_created
			load_focus_tree = Russia_Provisional_government_focus
		}
		else_if = { limit = { has_country_flag = trith_legal_party_is_soclib }
			set_politics = { ruling_party = social_liberalism }
			remove_tsar_regime_unit_leaders = yes
			monarchy_fall = yes
			news_event = { id = news_n.5 hours = 36 }
			hidden_effect = {
				end_puppet = KHI
				end_puppet = BUK
				KHI = { leave_faction = yes }
				BUK = { leave_faction = yes }
				if = {
					limit = { KHI = { has_war = yes } }
					every_country = {
						limit = { OR = { is_in_faction_with = GER is_in_faction_with = AUH AND = { is_in_faction_with = TUR NOT = { is_in_faction_with = ENG } } AND = { is_in_faction_with = BUL NOT = { is_in_faction_with = ENG } } } is_faction_leader = yes }
						white_peace = KHI
					}
				}
				if = {
					limit = { BUK = { has_war = yes } }
					every_country = {
						limit = { OR = { is_in_faction_with = GER is_in_faction_with = AUH AND = { is_in_faction_with = TUR NOT = { is_in_faction_with = ENG } } AND = { is_in_faction_with = BUL NOT = { is_in_faction_with = ENG } } } is_faction_leader = yes }
						white_peace = BUK
					}
				}
			}
			
			hidden_effect = { lack_of_officers_rise = yes }
			set_country_flag = railway_self_government
			set_country_flag = RUS_provisional_government_created
			load_focus_tree = Russia_Provisional_government_focus
		}
		else_if = { limit = { has_country_flag = trith_legal_party_is_marketlib }
			set_politics = { ruling_party = market_liberalism }
			monarchy_fall = yes
		}
		else_if = { limit = { has_country_flag = trith_legal_party_is_cons }
			set_politics = { ruling_party = social_conservatism }
			monarchy_fall = yes
		}
		else_if = { limit = { has_country_flag = trith_legal_party_is_auth }
			set_politics = { ruling_party = authoritarism }
			monarchy_fall = yes
		}
		else_if = { limit = { has_country_flag = trith_legal_party_is_desp }
			set_politics = { ruling_party = despotism }
			monarchy_fall = yes
		}
		else_if = { limit = { has_country_flag = trith_legal_party_is_fasc }
			set_politics = { ruling_party = fascism }
			monarchy_fall = yes
		}
		else_if = { limit = { has_country_flag = trith_legal_party_is_natsynd }
			set_politics = { ruling_party = national_syndicalism }
			monarchy_fall = yes
		}
		clr_country_flag = trith_legal_party_is_radsoc
		clr_country_flag = trith_legal_party_is_commi
		clr_country_flag = trith_legal_party_is_socdem
		clr_country_flag = trith_legal_party_is_soclib
		clr_country_flag = trith_legal_party_is_marketlib
		clr_country_flag = trith_legal_party_is_cons
		clr_country_flag = trith_legal_party_is_auth
		clr_country_flag = trith_legal_party_is_desp
		clr_country_flag = trith_legal_party_is_fasc
		clr_country_flag = trith_legal_party_is_natsynd
	}
}

country_event = {
	id = russian_ovrthrw_of_mon.34
	title = russian_ovrthrw_of_mon.34.t
	desc = russian_ovrthrw_of_mon.34.desc
	picture = GFX_report_event_long_feb_abdication
	
	is_triggered_only = yes
	
	option = { #Ники
		trigger = { NOT = { has_country_flag = Nikolay_Alexandrovich_Romanov_dead } }
		name = russian_ovrthrw_of_mon.34.a
		if = {
			limit = { NOT = { has_country_leader = { name = "Nikolay II Romanov" ruling_only = yes } } }
			retire_country_leader = yes
			create_country_leader = {
				name = "Nikolay II Romanov"
				desc = RUS_Nikolay_II_DESC
				picture = "gfx/leaders/RUS/Nikolay_II_ALT2.dds"
				ideology = authoritarism_ideology
				traits = { inexperienced_imperialist weak_character stout_defender }
			}
		}
	}
	option = { #Жена его
		trigger = { NOT = { has_country_flag = Alexandra_Fyodorovna_Romanova_dead } has_country_flag = Nikolay_Alexandrovich_Romanov_dead }
		name = russian_ovrthrw_of_mon.34.b
		if = {
			limit = { NOT = { has_country_leader = { name = "Alexandra Romanova" ruling_only = yes } } }
			retire_country_leader = yes
			create_country_leader = {
				name = "Alexandra Romanova"
				desc = RUS_Alexandra_Fyodorovna_Romanova_DESC
				picture = "gfx/leaders/RUS/Alexandra_Fyodorovna_Romanova.dds"
				ideology = authoritarism_ideology
				traits = { inexperienced_imperialist stout_defender }
			}
		}
	}
	option = { #Михаил
		name = russian_ovrthrw_of_mon.34.c
		if = {
			limit = { NOT = { has_country_leader = { name = "Mikhail II Romanov" ruling_only = yes } } }
			retire_country_leader = yes
			create_country_leader = {
				name = "Mikhail II Romanov"
				desc = RUS_Mikhail_Romanov_DESC
				picture = "gfx/leaders/RUS/Michael_Romanov.dds"
				ideology = authoritarism_ideology
				traits = { inexperienced_imperialist stout_defender }
			}
		}
	}
	option = { #Николай Николаевич
		trigger = { NOT = { has_country_flag = Nikolay_Nikolayevich_Romanov_dead has_country_flag = Nikolay_Nikolayevich_Romanov_dismissed } }
		name = russian_ovrthrw_of_mon.34.d
		if = {
			limit = { NOT = { has_country_leader = { name = "Nikolay III Romanov" ruling_only = yes } } }
			retire_country_leader = yes
			create_country_leader = {
				name = "Nikolay III Romanov"
				desc = RUS_Nikolay_Nikolaevich_Romanov_DESC
				picture = "gfx/leaders/RUS/Grand_duke_Nikolay_Nikolaevich.dds"
				ideology = authoritarism_ideology
				traits = { inexperienced_imperialist }
			}
		}
	}
}

# Выстрел патриота: выбор исхода
country_event = {
	id = russian_ovrthrw_of_mon.90
	title = russian_ovrthrw_of_mon.90.t
	desc = russian_ovrthrw_of_mon.90.desc
	picture = GFX_report_event_long_feb_abdication
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_monarchy_not_fall
		OR = {
			has_government = authoritarism
			has_government = despotism
		}
		has_war = no
		has_global_flag = WWI_is_now
	}
	
	mean_time_to_happen = {
		days = 10
	}
	
	fire_only_once = yes
	
	hidden = yes
	
	option = {
		name = russian_ovrthrw_of_mon.90.a
		random_list = {
			50 = {}
			30 = { set_country_flag = vistrel_patriota_1 } # жена
			20 = { set_country_flag = vistrel_patriota_2 } # царь
		}
		country_event = russian_ovrthrw_of_mon.91
	}
}
# Выстрел патриота
country_event = {
	id = russian_ovrthrw_of_mon.91
	title = russian_ovrthrw_of_mon.91.t
	desc = {
		text = russian_ovrthrw_of_mon.91.desc
		trigger = { NOT = { has_country_flag = vistrel_patriota_1 has_country_flag = vistrel_patriota_2 } }
	}
	desc = {
		text = russian_ovrthrw_of_mon.91.desc_1
		trigger = { has_country_flag = vistrel_patriota_1 }
	}
	desc = {
		text = russian_ovrthrw_of_mon.91.desc_2
		trigger = { has_country_flag = vistrel_patriota_2 }
	}
	picture = GFX_report_event_long_feb_patriotic_shoot
	
	is_triggered_only = yes
	
	option = {
		name = russian_ovrthrw_of_mon.91.a
		
		if = {
			limit = { has_country_flag = vistrel_patriota_1 }
			add_stability = -0.01
			add_popularity = { ideology = authoritarism popularity = -0.05 }
			if = {
				limit = { has_country_leader = { name = "Alexandra Romanova" ruling_only = yes } }
				kill_country_leader = yes
			}
			set_country_flag = Alexandra_Fyodorovna_Romanova_dead
		}
		if = {
			limit = { has_country_flag = vistrel_patriota_2 }
			add_stability = -0.05
			if = {
				limit = { has_country_leader = { name = "Nikolay II Romanov" ruling_only = yes } }
				kill_country_leader = yes
				create_country_leader = {
					name = "Alexandra Romanova"
					desc = RUS_Alexandra_Fyodorovna_Romanova_DESC
					picture = "gfx/leaders/RUS/Alexandra_Fyodorovna_Romanova.dds"
					ideology = authoritarism_ideology
					traits = { inexperienced_imperialist stout_defender }
				}
				else = { remove_ideas = RUS_Nikolay_II_idea }
			}
			set_country_flag = Nikolay_Alexandrovich_Romanov_dead
		}
		
		clr_country_flag = vistrel_patriota_1
		clr_country_flag = vistrel_patriota_2
		hidden_effect = { country_event = { id = russian_ovrthrw_of_mon.92 days = 10 } }
	}
}
# Ход расследования
country_event = {
	id = russian_ovrthrw_of_mon.92
	title = russian_ovrthrw_of_mon.92.t
	desc = russian_ovrthrw_of_mon.92.desc
	picture = GFX_report_event_long_feb_patriotic_shoot
	
	is_triggered_only = yes
	
	option = { #направить к черносотенцам
		trigger = {
			NOT = { has_government = fascism }
		}
		name = russian_ovrthrw_of_mon.92.a
		add_popularity = { ideology = fascism popularity = -0.03 }
		remove_fascism_leader = yes
		create_country_leader = {
			name = "Vasiliy Shulgin"
			desc = RUS_Vasiliy_Shulgin_DESC
			picture = "gfx/leaders/RUS/Vasiliy_Shulgin.dds"
			ideology = fascism_ideology
			traits = {  }
		}
	}
	option = { #направить к Алексееву
		name = russian_ovrthrw_of_mon.92.b
		add_popularity = { ideology = despotism popularity = -0.03 }
		if = {
			limit = { has_country_leader = { name = "Mikhail Alexeev" ruling_only = yes } }
			hidden_effect = { country_event = { id = russian_ovrthrw_of_mon.93 days = 10 } }
			else = {
				every_unit_leader = { limit = { has_id = 76321 } set_nationality = RVA }
			}
		}
	}
	option = { #продолжить расследование, то есть направить к Н.Н. Романову
		trigger = {
			NOT = { has_country_leader = { name = "Nikolay III Romanov" ruling_only = yes } }
		}
		name = russian_ovrthrw_of_mon.92.c
		hidden_effect = { country_event = { id = russian_ovrthrw_of_mon.94 days = 10 } }
	}
}
# Ход расследования
country_event = {
	id = russian_ovrthrw_of_mon.93
	title = russian_ovrthrw_of_mon.93.t
	desc = russian_ovrthrw_of_mon.93.desc
	picture = GFX_report_event_long_feb_patriotic_shoot
	
	is_triggered_only = yes
	
	option = {
		name = russian_ovrthrw_of_mon.93.a
		remove_ideas = RUS_Nikolay_II_idea
		add_popularity = { ideology = despotism popularity = 0.05 }
		add_popularity = { ideology = authoritarism popularity = -0.05 }
		add_stability = -0.05
		remove_one_priziv_from_army = yes
		if = {
			limit = { has_idea = RUS_mon_white_guard }
			remove_ideas = RUS_mon_white_guard
			delete_unit_template_and_units = { division_template = "Belaya Gvardiya" }
			hidden_effect = {
				create_country_leader = {
					name = "Fyodor Keller"
					desc=RUS_Fyodor_Keller_DESC
					picture="gfx/leaders/RUS/Fyodor_Keller.dds"
					expire="1935.1.1"
					ideology = authoritarism_ideology
					traits={ great_war_hero dictator anti_communist }
				}
				set_politics = {
					ruling_party = authoritarism
				}
				start_civil_war = {
					ruling_party = despotism
					ideology = ROOT
					size = 0.1
					only_own_territory = yes
					keep_unit_leaders_trigger = {
						NOT = { has_id = 77653 }
					}
				}
				random_country = {
					limit = { original_tag = RUS has_government = authoritarism }
					remove_all_foreing_locked_templates_from_liberated_country = yes
					RUS = { every_unit_leader = { limit = { OR = { has_id = 77653 has_id = 77532 has_id = 77649 } } set_nationality = PREV } }
				}
			}
			else = {
				#ГВ не происходит
			}
		}
	}
	option = {
		name = russian_ovrthrw_of_mon.93.b
		if = {
			limit = { NOT = { has_country_leader = { name = "Lavr Kornilov" } } }
			create_country_leader = {
				name = "Lavr Kornilov"
				desc=RUS_Lavr_Kornilov_DESC
				picture="gfx/leaders/RUS/Lavr_Kornilov.dds"
				expire="1935.1.1"
				ideology = despotism_ideology
				traits={ great_war_hero warmonger dictator anti_communist goal_in_politics }
			}
		}
		remove_ideas = RUS_Alexeev_dictatorship_idea
		remove_ideas = RUS_mon_white_guard
		delete_unit_template_and_units = { division_template = "Belaya Gvardiya" }
		set_politics = { ruling_party = authoritarism }
	}
	option = {
		name = russian_ovrthrw_of_mon.93.c
		if = {
			limit = { NOT = { has_country_leader = { name = "Lavr Kornilov" } } }
			create_country_leader = {
				name = "Lavr Kornilov"
				desc=RUS_Lavr_Kornilov_DESC
				picture="gfx/leaders/RUS/Lavr_Kornilov.dds"
				expire="1935.1.1"
				ideology = despotism_ideology
				traits={ great_war_hero warmonger dictator anti_communist goal_in_politics }
			}
		}
		remove_ideas = RUS_Alexeev_dictatorship_idea
		remove_ideas = RUS_mon_white_guard
		delete_unit_template_and_units = { division_template = "Belaya Gvardiya" }
		set_politics = { ruling_party = market_liberalism }
		
		clr_country_flag = RUS_monarchy_not_fall
		213 = { set_state_name = "Murnansk" }
		set_province_name = { id = 3134 name = "Murnansk" }
		clr_country_flag = RUS_duma_dissolved
		clr_country_flag = RUS_monarchy_ultimatum_of_overtrow_fired
		clear_variable = RUS_otrecheniye
		drop_cosmetic_tag = yes
		hidden_effect = {
			remove_ideas = {
				RUS_idea_dmitry_idea
				RUS_Nikolay_II_idea
				RUS_kult_of_holy_Rasputin
				RUS_heavenly_mandate_idea
				RUS_power_of_chernaya_sotnya
				RUS_pravoslaviye_samoderzavie_narodost
			}
		}
		add_ideas = {
			presidential_republic_gov_form
			emergency_laws_b_law
		}
		remove_ideas = RUS_church_crisis
	}
}
# Неожиданные результаты ака след привёл на Николая Николаевича
country_event = {
	id = russian_ovrthrw_of_mon.94
	title = russian_ovrthrw_of_mon.94.t
	desc = russian_ovrthrw_of_mon.94.desc
	picture = GFX_report_event_long_feb_patriotic_shoot
	
	is_triggered_only = yes
	
	option = {
		name = russian_ovrthrw_of_mon.94.a
		add_political_power = -30
		add_command_power = -100
		set_country_flag = Nikolay_Nikolayevich_Romanov_dismissed
	}
}

# Требование отречения
country_event = {
	id = russian_ovrthrw_of_mon.95
	title = russian_ovrthrw_of_mon.95.t
	desc = russian_ovrthrw_of_mon.95.desc
	picture = GFX_report_event_long_feb_abdication
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_monarchy_not_fall
		NOT = { has_country_flag = RUS_monarchy_ultimatum_of_overtrow_fired }
		OR = {
			has_government = authoritarism
			has_government = despotism
		}
		has_country_flag = RUS_petrograd_miting
		has_country_flag = RUS_petrograd_miting_2
		has_country_flag = RUS_petrograd_soviet
		NOT = { has_country_flag = RUS_revolution_suppressed }
		OR = {
			check_variable = { RUS_otrecheniye > 4 }
			has_stability < 0.03
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	option = {
		name = russian_ovrthrw_of_mon.95.a
		country_event = russian_ovrthrw_of_mon.100
		ai_chance = { factor = 1 }
	}
	option = {
		name = russian_ovrthrw_of_mon.95.b
		country_event = russian_ovrthrw_of_mon.96
		add_war_support = -0.05
		#hidden_effect = { #Арест дебила (царя)
		#	if = {
		#		limit = { has_government = authoritarism has_war_with = GER NOT = { has_completed_focus = RUS_mon_on_w_military_dictatorship has_country_flag = RUS_mon_loyal_generals } }
		#		country_event = { id = russian_ovrthrw_of_mon.101 hours = 3 }
		#	}
		#}
		ai_chance = { factor = 0 }
		set_country_flag = RUS_monarchy_ultimatum_of_overtrow_fired
	}
}
# Петроградская коммуна
country_event = {
	id = russian_ovrthrw_of_mon.96
	title = russian_ovrthrw_of_mon.96.t
	desc = russian_ovrthrw_of_mon.96.desc
	picture = GFX_report_event_long_feb_petrograd_commune
	
	trigger = {
		has_country_flag = RUS_monarchy_not_fall
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			KRN = {
				set_cosmetic_tag = KRN_Petrograd_commune
				add_ideas = RUS_red_guards_provisional_government
				create_corps_commander = {
					name = "Pavel Dybenko"
					id = 19173
					portrait_path = "gfx/leaders/SOV/Pavel_Dybenko.dds"
					traits = { naval_invader trait_reckless politically_connected }
					skill = 1 attack_skill = 3 defense_skill = 2 planning_skill = 2 logistics_skill = 2
				}
				create_corps_commander = {
					name = "Anatoly Zhelyznikov"
					id = 19178
					portrait_path = "gfx/leaders/SOV/Anatoly_Zhelyznikov.dds"
					traits = { trickster }
					skill = 1 attack_skill = 2 defense_skill = 1 planning_skill = 1 logistics_skill = 1
				}
				create_corps_commander = {
					name = "Joseph Jughashvili"
					id = 19194
					portrait_path = "gfx/leaders/SOV/Joseph_Stalin_ALT.dds"
					traits = { trickster }
					skill = 1 attack_skill = 1 defense_skill = 3 planning_skill = 2 logistics_skill = 3
				}
				create_corps_commander = {
					name = "Konstantin Eremeev"
					id = 19195
					portrait_path = "gfx/leaders/SOV/Konstantin_Eremeev.dds"
					traits = { organizer media_personality }
					skill = 1 attack_skill = 2 defense_skill = 1 planning_skill = 1 logistics_skill = 2
				}
				create_corps_commander = {
					name = "Andrey Sadovsky"
					id = 29002
					portrait_path = "gfx/leaders/SOV/Andrey_Sadovsky.dds"
					traits = { scavenger urban_assault_specialist }
					skill = 1 attack_skill = 2 defense_skill = 1 planning_skill = 1 logistics_skill = 2
				}
				create_corps_commander = {
					name = "Alexandr Skorohodov"
					id = 29003
					portrait_path = "gfx/leaders/SOV/Alexandr_Skorohodov.dds"
					traits = { guerilla_fighter }
					skill = 1 attack_skill = 1 defense_skill = 1 planning_skill = 1 logistics_skill = 1
				}

				create_country_leader = { name = "Petrosovet" desc = RUS_Petrosovet_DESC picture = "gfx/leaders/RGR/Free_Soviets.dds" expire = "1935.1.1" ideology = democratic_socialism traits = {  } }
				create_country_leader = {
					name = "Alexandr Shlyapnikov"
					desc = RUS_Alexandr_Shlyapnikov_DESC
					picture="gfx/leaders/SOV/Alexandr_Shlyapnikov.dds"
					expire="1935.1.1"
					ideology = leninism
					traits={ }
				}
				create_country_leader = {
					name = "Nikolay Chkheidze"
					desc = GEO_Nikolay_Chkheidze_DESC
					picture = "gfx/leaders/GEO/Nikolay_Chkheidze.dds"
					expire = "1935.1.1"
					ideology = social_democracy_ideology
					traits = { }
				}
				create_country_leader = {
					name = "Alexandr Kerensky"
					desc = RUS_Alexandr_Kerensky_DESC
					picture = "gfx/leaders/RUS/Alexandr_Kerensky.dds"
					expire = "1935.1.1"
					ideology = social_liberalism_ideology
					traits = { political_dancer }
				}
				create_country_leader = {
					name = "Nikolay Chaikovsky"
					desc = RUS_Nikolay_Chaikovsky_DESC
					picture = "gfx/leaders/RUS/Nikolay_Chaikovsky.dds"
					expire="1935.1.1"
					ideology = market_liberalism_ideology
					traits = { }
				}
				create_country_leader = {
					name = "Kirill Romanov"
					desc = SOV_Kirill_Vladimirovich_DESC
					picture = "gfx/leaders/RUS/Kirill_Vladimirovich.dds"
					expire = "1935.1.1"
					ideology = authoritarism_ideology
					traits = { }
				}
				create_country_leader = {
					name = "Pavel Dybenko"
					desc = SOV_Pavel_Dybenko_DESC
					picture = "gfx/leaders/SOV/Pavel_Dybenko.dds"
					expire = "1935.1.1"
					ideology = despotism_ideology
					traits = { }
				}
				create_country_leader = {
					name = "Central'niy comitet KRP"
					desc = RUS_Centralniy_comitet_KRP_DESC
					picture = "gfx/leaders/RUS/Centralniy_comitet_KRP.dds"
					expire = "1935.1.1"
					ideology = national_bolshevism_ideology
					traits = { }
				}
			}
			set_global_flag = RUS_monarchy_Petrograd_commune_civil_war
		}
	}
	
	option = {
		name = russian_ovrthrw_of_mon.96.a
		remove_one_priziv_from_army = yes
		KRN = {
			transfer_state = 195
			transfer_state = 797
			195 = { add_core_of = KRN }
			797 = { add_core_of = KRN }
			remove_all_foreing_locked_templates_from_liberated_country = yes
			set_capital = 195
			add_ideas = neutral_foreign_policy_law
			load_focus_tree = Petrograd_commune_focus
			load_oob = KRN_1917_Petrograd_commune
			hidden_effect = {
				country_event = { id = petrograd_commune.0 days = 5 }
				set_popularities = {
					radical_socialism = 10
					communism = 10
					social_democracy = 25
					social_liberalism = 30
					market_liberalism = 5
					authoritarism = 5
					despotism = 5
					fascism = 10
				}
				set_politics = { ruling_party = social_democracy }
				every_country = {
					limit = {
						NOT = {
							tag = ROOT
							has_government = communism
							has_government = radical_socialism
							has_government = social_democracy
							is_subject = yes
							has_war_with = ROOT
							is_in_faction_with = ROOT
						}
					}
					add_opinion_modifier = { target = PREV modifier = unrecognized_state_embargo }
					add_opinion_modifier = { target = PREV modifier = unrecognized_state_rel }
					reverse_add_opinion_modifier = { target = PREV modifier = unrecognized_state_rel_to_initiator }
					add_to_array = { unrecognized_states = PREV.id }
				}
			}
		}
		set_capital = 209
		declare_war_on = { target = KRN type = annex_everything }
		country_event = { id = russian_ovrthrw_of_mon.97 hours = 1 }
		add_popularity = {
			ideology = social_democracy
			popularity = -0.2
		}
		add_popularity = {
			ideology = social_liberalism
			popularity = -0.2
		}
		remove_ideas = RUS_1917_spring_offensive
		hidden_effect = { news_event = { id = news_n.19 hours = 12 } }
		every_country = {
			limit = { NOT = { tag = ROOT } has_country_flag = WWI_Entente_member }
			hidden_effect = {
				set_variable = { global.Entente_major_conf_members = 0 }
				set_variable = { global.Entente_rel_for_RUS_rev = 0 }
				set_variable = { global.Entente_major_conf_votes = 0 }
				if = {
					limit = { FRA = { has_country_flag = WWI_Entente_member } }
					add_to_variable = { global.Entente_major_conf_members = 3 }
					FRA = { set_variable = { vote_power = 3 } }
				}
				if = {
					limit = { ENG = { has_country_flag = WWI_Entente_member } }
					add_to_variable = { global.Entente_major_conf_members = 3 }
					ENG = { set_variable = { vote_power = 3 } }
				}
				if = {
					limit = { USA = { has_country_flag = WWI_Entente_member } }
					add_to_variable = { global.Entente_major_conf_members = 3 }
					USA = { set_variable = { vote_power = 3 } }
				}
				if = {
					limit = { FRA = { has_country_flag = WWI_Entente_member } RUS = { has_country_flag = WWI_Entente_member } }
					add_to_variable = { global.Entente_major_conf_members = 4 }
					FRA = { set_variable = { vote_power = 4 } }
				}
			}
			country_event = { id = russian_ovrthrw_of_mon.99 hours = 1 }
		}
	}
	option = {
		trigger = {
			is_ai = no
		}
		name = russian_ovrthrw_of_mon.96.b
		remove_one_priziv_from_army = yes
		KRN = {
			transfer_state = 195
			transfer_state = 797
			195 = { add_core_of = KRN }
			797 = { add_core_of = KRN }
			remove_all_foreing_locked_templates_from_liberated_country = yes
			set_capital = 195
			add_ideas = neutral_foreign_policy_law
			load_focus_tree = Petrograd_commune_focus
			load_oob = KRN_1917_Petrograd_commune
			hidden_effect = {
				country_event = { id = petrograd_commune.0 days = 5 }
				set_popularities = {
					radical_socialism = 10
					communism = 10
					social_democracy = 25
					social_liberalism = 30
					market_liberalism = 5
					authoritarism = 5
					despotism = 5
					fascism = 10
				}
				set_politics = { ruling_party = social_democracy }
			}
		}
		set_capital = 209
		declare_war_on = { target = KRN type = annex_everything }
		country_event = { id = russian_ovrthrw_of_mon.97 hours = 1 }
		add_popularity = {
			ideology = social_democracy
			popularity = -0.1
		}
		add_popularity = {
			ideology = social_liberalism
			popularity = -0.1
		}
		remove_ideas = RUS_1917_spring_offensive
		hidden_effect = { news_event = { id = news_n.19 hours = 12 } }
		every_country = {
			limit = { NOT = { tag = ROOT } has_country_flag = WWI_Entente_member }
			hidden_effect = {
				set_variable = { global.Entente_major_conf_members = 0 }
				set_variable = { global.Entente_rel_for_RUS_rev = 0 }
				set_variable = { global.Entente_major_conf_votes = 0 }
				if = {
					limit = { FRA = { has_country_flag = WWI_Entente_member } }
					add_to_variable = { global.Entente_major_conf_members = 3 }
					FRA = { set_variable = { vote_power = 3 } }
				}
				if = {
					limit = { ENG = { has_country_flag = WWI_Entente_member } }
					add_to_variable = { global.Entente_major_conf_members = 3 }
					ENG = { set_variable = { vote_power = 3 } }
				}
				if = {
					limit = { USA = { has_country_flag = WWI_Entente_member } }
					add_to_variable = { global.Entente_major_conf_members = 3 }
					USA = { set_variable = { vote_power = 3 } }
				}
				if = {
					limit = { FRA = { has_country_flag = WWI_Entente_member } RUS = { has_country_flag = WWI_Entente_member } }
					add_to_variable = { global.Entente_major_conf_members = 4 }
					FRA = { set_variable = { vote_power = 4 } }
				}
			}
			country_event = { id = russian_ovrthrw_of_mon.99 hours = 1 }
		}
		KRN = { change_tag_from = RUS }
	}
}
# Временная столица
country_event = {
	id = russian_ovrthrw_of_mon.97
	title = russian_ovrthrw_of_mon.97.t
	desc = russian_ovrthrw_of_mon.97.desc
	picture = GFX_report_event_long_feb_new_capital
	
	is_triggered_only = yes
	
	option = {
		name = russian_ovrthrw_of_mon.97.a
		set_country_flag = new_temp_capital
		set_capital = 209
		ai_chance = {
			factor = 2
		}
	}
	option = {
		name = russian_ovrthrw_of_mon.97.b
		set_country_flag = new_temp_capital
		set_capital = 912
		ai_chance = {
			factor = 2
		}
	}
	option = {
		name = russian_ovrthrw_of_mon.97.c
		set_country_flag = new_temp_capital
		set_capital = 219
		ai_chance = {
			factor = 0
		}
	}
}
# Потеря ставки
country_event = {
	id = russian_ovrthrw_of_mon.98
	title = russian_ovrthrw_of_mon.98.t
	desc = russian_ovrthrw_of_mon.98.desc
	picture = GFX_report_event_long_feb_new_capital
	
	is_triggered_only = yes
	
	option = {
		name = russian_ovrthrw_of_mon.98.a
		add_war_support = -0.05
		remove_one_priziv_from_army = yes
	}
}
# Отношение к новой Русской революции
country_event = {
	id = russian_ovrthrw_of_mon.99
	title = russian_ovrthrw_of_mon.99.t
	desc = russian_ovrthrw_of_mon.99.desc
	picture = GFX_report_event_long_feb_new_capital
	
	is_triggered_only = yes
	
	option = {
		name = russian_ovrthrw_of_mon.99.a
		if = {
			limit = { radical_socialism > var:party_popularity@communism }
			add_popularity = {
				ideology = radical_socialism
				popularity = 0.03
			}
			else = {
				add_popularity = {
					ideology = communism
					popularity = 0.03
				}
			}
		}
		add_to_variable = { global.Entente_rel_for_RUS_rev_sup_tsar = vote_power }
		
		add_to_variable = { global.Entente_major_conf_votes = vote_power }
		
		hidden_effect = {
			if = {
				limit = { check_variable = { global.Entente_major_conf_votes = global.Entente_major_conf_members } }
				if = {
					limit = { check_variable = { global.Entente_rel_for_RUS_rev_sup_tsar > global.Entente_rel_for_RUS_rev_not_sup_tsar } }
					else = {
						RUS = { leave_faction = yes }
						every_country = {
							limit = { OR = { is_in_faction_with = ENG AND = { is_in_faction_with = FRA NOT = { is_in_faction_with = GER } } } is_faction_leader = yes }
							white_peace = KRN
						}
					}
				}
			}
			clear_variable = global.Entente_major_conf_votes
			clear_variable = global.Entente_major_conf_members
			clear_variable = global.Entente_rel_for_RUS_rev_sup_tsar
			clear_variable = global.Entente_rel_for_RUS_rev_not_sup_tsar
		}
		custom_effect_tooltip = russian_ovrthrw_of_mon.99.a_tt
		
		ai_chance = { factor = 0 }
	}
	option = {
		name = russian_ovrthrw_of_mon.99.b
		add_war_support = -0.03
		add_to_variable = { global.Entente_rel_for_RUS_rev_not_sup_tsar = vote_power }
		
		add_to_variable = { global.Entente_major_conf_votes = vote_power }
		
		hidden_effect = {
			if = {
				limit = { check_variable = { global.Entente_major_conf_votes = global.Entente_major_conf_members } }
				if = {
					limit = { check_variable = { global.Entente_rel_for_RUS_rev_sup_tsar > global.Entente_rel_for_RUS_rev_not_sup_tsar } }
					else = {
						RUS = { leave_faction = yes }
						every_country = {
							limit = { OR = { is_in_faction_with = ENG AND = { is_in_faction_with = FRA NOT = { is_in_faction_with = GER } } } is_faction_leader = yes }
							white_peace = KRN
						}
					}
				}
			}
			clear_variable = global.Entente_major_conf_votes
			clear_variable = global.Entente_major_conf_members
			clear_variable = global.Entente_rel_for_RUS_rev_sup_tsar
			clear_variable = global.Entente_rel_for_RUS_rev_not_sup_tsar
		}
		custom_effect_tooltip = russian_ovrthrw_of_mon.99.b_tt
		
		ai_chance = { factor = 1 }
	}
}

# Февральская революция
country_event = {
	id = russian_ovrthrw_of_mon.100
	title = russian_ovrthrw_of_mon.100.t
	desc = russian_ovrthrw_of_mon.100.desc
	picture = GFX_report_event_rus_fevral
	
	is_triggered_only = yes
	
	option = {
		name = russian_ovrthrw_of_mon.100.a
		add_popularity = { ideology = authoritarism popularity = -0.15 }
		add_popularity = { ideology = fascism popularity = -0.05 }
		add_popularity = { ideology = market_liberalism popularity = 0.05 }
		add_stability = 0.05
		add_political_power = 150
		remove_tsar_regime_unit_leaders = yes
		monarchy_fall = yes
		news_event = { id = news_n.5 hours = 36 }
		hidden_effect = {
			end_puppet = KHI
			end_puppet = BUK
			KHI = { leave_faction = yes }
			BUK = { leave_faction = yes }
			if = {
				limit = { KHI = { has_war = yes } }
				every_country = {
					limit = { OR = { is_in_faction_with = GER is_in_faction_with = AUH AND = { is_in_faction_with = TUR NOT = { is_in_faction_with = ENG } } AND = { is_in_faction_with = BUL NOT = { is_in_faction_with = ENG } } } is_faction_leader = yes }
					white_peace = KHI
				}
			}
			if = {
				limit = { BUK = { has_war = yes } }
				every_country = {
					limit = { OR = { is_in_faction_with = GER is_in_faction_with = AUH AND = { is_in_faction_with = TUR NOT = { is_in_faction_with = ENG } } AND = { is_in_faction_with = BUL NOT = { is_in_faction_with = ENG } } } is_faction_leader = yes }
					white_peace = BUK
				}
			}
		}
		
		hidden_effect = { lack_of_officers_rise = yes }
		set_country_flag = railway_self_government
		set_country_flag = RUS_provisional_government_created
		load_focus_tree = Russia_Provisional_government_focus
		create_country_leader = {
			name = "Georgiy Lvov"
			desc = "RUS_Georgiy_lvov_DESC"
			picture = "gfx/leaders/RUS/Georgiy_Lvov.dds"
			expire = "1935.1.1"
			ideology = market_liberalism_ideology
			traits = {
				stout_defender appeaser weak_character
			}
		}
		set_politics = {
			ruling_party = market_liberalism
			elections_allowed = no
		}
		add_ideas = RUS_dvoevlastie_1
		remove_ideas_with_trait = head_of_government_trait
		remove_ideas_with_trait = foreign_ministe_trait
		remove_ideas_with_trait = economy_minister_trait
		remove_ideas_with_trait = security_minister_trait
		remove_ideas_with_trait = head_of_intel_trait
		add_ideas = {
			Georgiy_Lviv_1
			Pavel_Milyukov_2
			Alexander_Konovalov_3
			Georgiy_Lviv_4
			Alexander_Kerensky_5
			Alexander_Guchkov_6
			Mikhail_Alexeev_army_chief
		}
	}
}

country_event = {
	id = russian_ovrthrw_of_mon.101
	title = russian_ovrthrw_of_mon.101.t
	desc = russian_ovrthrw_of_mon.101.desc
	picture = GFX_report_event_rus_fevral
	
	is_triggered_only = yes
	
	option = {
		name = russian_ovrthrw_of_mon.101.a
		monarchy_fall = yes
		set_politics = { ruling_party = despotism elections_allowed = no }
		add_popularity = {
			ideology = despotism
			popularity = 0.05
		}
		add_popularity = {
			ideology = authoritarism
			popularity = -0.2
		}
		create_country_leader = {
			name = "Mikhail Alexeev"
			desc = RUS_Mikhail_Alexeev_DESC
			picture = "gfx/leaders/RUS/Michael_Alexeev.dds"
			ideology = despotism_ideology
			traits = {  }
		}
		add_ideas = RUS_Alexeev_dictatorship_idea
		add_ideas = military_dictatorship_gov_form
		country_event = petrograd_commune.91
	}
}