###########################
# Russian Civil War Events
###########################

add_namespace = rcw_bolsheviks

# Выступление Керенского - Краснова
country_event = {
	id = rcw_bolsheviks.1
	title = {
		text = rcw_bolsheviks.1.t
		trigger = { has_country_flag = Kornilov_affair_fail }
	}
	title = {
		text = rcw_bolsheviks.1.t_1
		trigger = { NOT = { has_country_flag = Kornilov_affair_fail } }
	}
	desc = {
		text = rcw_bolsheviks.1.desc
		trigger = { has_country_flag = Kornilov_affair_fail }
	}
	desc = {
		text = rcw_bolsheviks.1.desc_1
		trigger = { NOT = { has_country_flag = Kornilov_affair_fail } }
	}
	picture = GFX_report_event_rus_revolt_kerensky-krasnov
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.1.a
		hidden_effect = {
			country_event = { id = rcw_bolsheviks.2 days = 3 }
		}
		set_country_flag = RUS_post_October_military_affair
	}
}
# Восстание юнкеров в Петрограде
country_event = {
	id = rcw_bolsheviks.2
	title = rcw_bolsheviks.2.t
	desc = rcw_bolsheviks.2.desc
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.2.a
		add_manpower = -500
		set_country_flag = RUS_yunkersrevoldsafgdgad
		country_event = { id = rcw_bolsheviks.3 hours = 12 }
	}
	
	option = {
		name = rcw_bolsheviks.2.b
		add_manpower = -200
		country_event = { id = rcw_bolsheviks.3 hours = 20 }
	}
}
# Восстание юнкеров подавлено и наступление на Гатчину
country_event = {
	id = rcw_bolsheviks.3
	title = rcw_bolsheviks.3.t
	desc = {
		text = rcw_bolsheviks.3.desc
		trigger = { has_country_flag = Kornilov_affair_fail }
	}
	desc = {
		text = rcw_bolsheviks.3.desc_1
		trigger = { NOT = { has_country_flag = Kornilov_affair_fail } }
	}
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.3.a
		random_list = {
			625 = {
				modifier = {
					factor = 0
					NOT = { has_country_flag = Kornilov_affair_fail }
				}
				country_event = { id = rcw_bolsheviks.4 days = 2 }
			}
			375 = {
				modifier = {
					factor = 0
					has_country_flag = Kornilov_affair_fail
					NOT = { has_country_flag = RUS_yunkersrevoldsafgdgad }
				}
				country_event = { id = rcw_bolsheviks.5 days = 4 }
				set_country_flag = RUS_post_October_military_affair_not_so_easy_to_supress
			}
		}
		clr_country_flag = RUS_yunkersrevoldsafgdgad
	}
	option = {
		trigger = { NOT = { has_country_flag = Kornilov_affair_fail } }
		name = rcw_bolsheviks.3.b
		country_event = { id = rcw_bolsheviks.4 days = 2 }
		clr_country_flag = RUS_yunkersrevoldsafgdgad
		ai_chance = {
			factor = 1
		}
	}
}

# Перемога
country_event = {
	id = rcw_bolsheviks.4
	title = rcw_bolsheviks.4.t
	desc = {
		text = rcw_bolsheviks.4.desc
		trigger = { has_country_flag = Kornilov_affair_fail }
	}
	desc = {
		text = rcw_bolsheviks.4.desc_1
		trigger = { NOT = { has_country_flag = Kornilov_affair_fail } }
	}
	picture = GFX_report_event_rus_bronevik
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.4.a
		country_event = { id = rcw_bolsheviks.6 hours = 2 }
		add_political_power = 50
		add_stability = 0.02
		add_manpower = -500
	}
}
# Зрада
country_event = {
	id = rcw_bolsheviks.5
	title = rcw_bolsheviks.5.t
	desc = {
		text = rcw_bolsheviks.5.desc
		trigger = { has_country_flag = Kornilov_affair_fail }
	}
	desc = {
		text = rcw_bolsheviks.5.desc_1
		trigger = { NOT = { has_country_flag = Kornilov_affair_fail } }
	}
	picture = GFX_report_event_rus_bund_bleat
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.5.a
		add_political_power = -50
		add_stability = -0.03
		add_manpower = -3000
	}
}
# Пётр Краснов взят в плен
country_event = {
	id = rcw_bolsheviks.6
	title = rcw_bolsheviks.6.t
	desc = rcw_bolsheviks.6.desc
	picture = GFX_report_event_don_krasnov_in_cabinet
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.6.a
		ai_chance = {
			factor = 1
		}
	}
	
	option = {
		name = rcw_bolsheviks.6.b
		ai_chance = {
			factor = 0
		}
		DON = {
			if = {
				limit = { OR = { has_country_leader = { name = "Pyotr Krasnov" ruling_only = yes } has_country_leader = { name = "Pyotr Krasnov" ruling_only = no } } }
				remove_fascism_leader = yes
			}
			country_event = rcw_dku.161
		}
		hidden_effect = { every_country = { every_unit_leader = { limit = { has_id = 18701 } remove_unit_leader = yes } } }
		add_stability = -0.02
		add_political_power = -15
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
		add_popularity = {
			ideology = radical_socialism
			popularity = 0.05
		}
	}
}


# Декрет «К открытию Учредительного собрания»
country_event = {
	id = rcw_bolsheviks.11
	title = rcw_bolsheviks.11.t
	desc = rcw_bolsheviks.11.desc
	picture = GFX_report_event_all_power_to_the_soviets
	
	is_triggered_only = yes
	
	# Немедленный созыв учредительного собрания
	option = {
		name = rcw_bolsheviks.11.a
		country_event = { id = rcw_all_rus_CA.1 days = 65 }
	}
}
# Декрет «О земле»
country_event = {
	id = rcw_bolsheviks.12
	title = rcw_bolsheviks.12.t
	desc = rcw_bolsheviks.12.desc
	picture = GFX_report_event_all_power_to_the_soviets
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.12.a
		add_popularity = {
			ideology = communism
			popularity = 0.02
		}
		if = {
			limit = { has_idea = peasant_and_land_and_bread_question }
			swap_ideas = {
				remove_idea = peasant_and_land_and_bread_question
				add_idea = peasant_and_land_and_bread_question_0_5
			}
			else = { add_war_support = 0.05 }
		}
		if = {
			limit = { has_idea = landlordism }
			swap_ideas = {
				remove_idea = landlordism
				add_idea = individual_homesteads
			}
		}
	}
}
# Декрет «О полноте власти Советов»
country_event = {
	id = rcw_bolsheviks.13
	title = rcw_bolsheviks.13.t
	desc = rcw_bolsheviks.13.desc
	picture = GFX_report_event_all_power_to_the_soviets
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.13.a
		add_stability = 0.01
		add_political_power = 25
	}
}

# Выбор столицы
country_event = {
	id = rcw_bolsheviks.14
	title = rcw_bolsheviks.14.t
	desc = rcw_bolsheviks.14.desc
	picture = GFX_report_event_all_power_to_the_soviets
	
	is_triggered_only = yes
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		owns_state = 219
		owns_state = 195
	}
	
	option = {
		name = rcw_bolsheviks.14.a # Москва
		set_capital = { state = 219 remember_old_capital = no }
		add_political_power = -15
		add_stability = 0.03
	}
	
	option = {
		name = rcw_bolsheviks.14.b # Питер
		set_capital = { state = 195 remember_old_capital = no }
	}
}

# Здание ВЧК (май 1919 года)
country_event = {
	id = rcw_bolsheviks.15
	title = rcw_bolsheviks.15.t
	desc = rcw_bolsheviks.15.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	fire_only_once = yes
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		has_completed_focus = RUS_vchk
		219 = { is_owned_and_controlled_by = ROOT is_capital = yes }
	}
	
	mean_time_to_happen = {
		days = 460
	}
	
	option = {
		name = rcw_bolsheviks.15.a
		add_stability = 0.02
		add_popularity = { ideology = communism popularity = -0.001 }
	}
	
	option = {
		name = rcw_bolsheviks.15.b
		add_popularity = { ideology = communism popularity = 0.001 }
	}
}

# Штурм госбанка/Крах/Победивший класс
country_event = {
	id = rcw_bolsheviks.21
	title = rcw_bolsheviks.21.t
	desc = rcw_bolsheviks.21.desc
	picture = GFX_report_event_all_power_to_the_soviets
	
	trigger = {
		NOT = { has_idea = RUS_winning_class }
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.21.a
		rise_hyper_inflation = yes
		add_ideas = RUS_winning_class
		set_country_flag = RUS_start_bolshevik_economy
		country_event = { id = rcw_bolsheviks.28 days = 1 }
	}
}

country_event = {
	id = rcw_bolsheviks.22
	title = rcw_bolsheviks.22.t
	desc = rcw_bolsheviks.22.desc
	picture = GFX_report_event_all_power_to_the_soviets
	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		tag = RUS
		has_war = yes
		has_completed_focus = RUS_new_economic_policy
		NOT = { has_country_flag = war_communism_abolished }
		OR = {
			has_idea = collapse_of_railway_system_1
			has_idea = collapse_of_railway_system_2
			has_idea = collapse_of_railway_system_3
			has_idea = collapse_of_railway_system_4
			has_idea = collapse_of_railway_system_5
		}
		count_triggers = {
			amount = 4
			221 = { CONTROLLER = { OR = { NOT = { tag = ROOT is_in_faction_with = ROOT is_subject_of = ROOT has_government = radical_socialism has_government = communism } has_war_with = ROOT } } }
			227 = { CONTROLLER = { OR = { NOT = { tag = ROOT is_in_faction_with = ROOT is_subject_of = ROOT has_government = radical_socialism has_government = communism } has_war_with = ROOT } } }
			958 = { CONTROLLER = { OR = { NOT = { tag = ROOT is_in_faction_with = ROOT is_subject_of = ROOT has_government = radical_socialism has_government = communism } has_war_with = ROOT } } }
			1367 = { CONTROLLER = { OR = { NOT = { tag = ROOT is_in_faction_with = ROOT is_subject_of = ROOT has_government = radical_socialism has_government = communism } has_war_with = ROOT } } }
			918 = { CONTROLLER = { OR = { NOT = { tag = ROOT is_in_faction_with = ROOT is_subject_of = ROOT has_government = radical_socialism has_government = communism } has_war_with = ROOT } } }
			953 = { CONTROLLER = { OR = { NOT = { tag = ROOT is_in_faction_with = ROOT is_subject_of = ROOT has_government = radical_socialism has_government = communism } has_war_with = ROOT } } }
		}
	}
	mean_time_to_happen = {
		days = 60
	}
	fire_only_once = yes
	option = {
		name = rcw_bolsheviks.22.a
		if = {
			limit = { has_idea = collapse_of_railway_system_1 }
			remove_ideas = collapse_of_railway_system_1
		}
		else_if = {
			limit = { has_idea = collapse_of_railway_system_2 }
			swap_ideas = {
				remove_idea = collapse_of_railway_system_2
				add_idea = collapse_of_railway_system_1
			}
		}
		else_if = {
			limit = { has_idea = collapse_of_railway_system_3 }
			swap_ideas = {
				remove_idea = collapse_of_railway_system_3
				add_idea = collapse_of_railway_system_2
			}
		}
		else_if = {
			limit = { has_idea = collapse_of_railway_system_4 }
			swap_ideas = {
				remove_idea = collapse_of_railway_system_4
				add_idea = collapse_of_railway_system_3
			}
		}
		else_if = {
			limit = { has_idea = collapse_of_railway_system_5 }
			swap_ideas = {
				remove_idea = collapse_of_railway_system_5
				add_idea = collapse_of_railway_system_4
			}
		}
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_4 }
			swap_ideas = {
				remove_idea = foodstuffs_supply_crisis_4
				add_idea = foodstuffs_supply_crisis_5
			}
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_3 }
			swap_ideas = {
				remove_idea = foodstuffs_supply_crisis_3
				add_idea = foodstuffs_supply_crisis_4
			}
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_2 }
			swap_ideas = {
				remove_idea = foodstuffs_supply_crisis_2
				add_idea = foodstuffs_supply_crisis_3
			}
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_1 }
			swap_ideas = {
				remove_idea = foodstuffs_supply_crisis_1
				add_idea = foodstuffs_supply_crisis_2
			}
		}
		add_to_variable = { left_faction_party_compositon = 0.1 }
		custom_effect_tooltip = left_fact_party_comp_plus_10
		check_overlap_of_party_composition = yes
	}
}

# Трудармии
country_event = {
	id = rcw_bolsheviks.23
	title = rcw_bolsheviks.23.t
	desc = rcw_bolsheviks.23.desc
	picture = GFX_report_event_all_power_to_the_soviets
	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		tag = RUS
		NOT = { has_government = radical_socialism }
		has_war = yes
		has_idea = RUS_labor_armies
		OR = {
			has_country_flag = RUS_RKP_b_VIII_decist_war_plan
			has_country_flag = RUS_RKP_b_VIII_non_decist_war_plan
		}
	}
	mean_time_to_happen = {
		days = 260
	}
	fire_only_once = yes
	# Подождать конца гражданской войны
	option = {
		name = rcw_bolsheviks.23.a
		add_war_support = -0.03
		ai_chance = {
			factor = 1
		}
	}
	# Отменить сейчас же
	option = {
		name = rcw_bolsheviks.23.b
		trigger = { NOT = { left_fact_party_is_ruling = yes } }
		remove_ideas = RUS_labor_armies
		add_political_power = -50
		add_to_variable = { var = Trotskiy_power value = 1 }
		ai_chance = {
			factor = 0
		}
	}
}

# Отмена трудармий
country_event = {
	id = rcw_bolsheviks.24
	title = rcw_bolsheviks.24.t
	desc = rcw_bolsheviks.24.desc
	picture = GFX_report_event_all_power_to_the_soviets
	
	trigger = {
		has_global_flag = RUS_civil_war_over
		tag = RUS
		has_idea = RUS_labor_armies
		has_war = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.24.a
		remove_ideas = RUS_labor_armies
	}
	
	option = {
		trigger = { left_fact_party_is_ruling = yes }
		name = rcw_bolsheviks.24.b
		add_war_support = -0.05
	}
}

# Свердлов умер
country_event = {
	id = rcw_bolsheviks.25
	title = rcw_bolsheviks.25.t
	desc = rcw_bolsheviks.25.desc
	picture = GFX_report_event_sov_sverdlov_dead
	
	trigger = {
		tag = RUS
		always = no
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
		date > 1919.01.01
		date < 1919.04.01
		NOT = { has_country_flag = Yakov_Sverdlov_dead }
		has_idea = Yakov_Sverdlov_1
		NOT = { has_country_leader = { name = "Yakov Sverdlov" } }
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.25.a
		set_country_flag = Yakov_Sverdlov_dead
		if = {
			limit = { has_idea = Yakov_Sverdlov_1 }
			add_ideas = Mikhail_Kalinin_1
		}
	}
}

# Подчинение ВЧК
country_event = {
	id = rcw_bolsheviks.26
	title = rcw_bolsheviks.26.t
	desc = rcw_bolsheviks.26.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.26.a
		trigger = {
			NOT = {
				OR = {
					has_country_leader = { name = "Nikolay Bukharin" ruling_only = yes }
					decist_fact_party_is_ruling = yes
				}
			}
		}
		add_ideas = RUS_avenging_sword_of_the_revolution_idea
		add_to_variable = { left_faction_party_compositon = 0.05 }
		custom_effect_tooltip = left_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
	}
	
	option = {
		name = rcw_bolsheviks.26.b
		add_stability = 0.01
		add_to_variable = { decist_faction_party_compositon = 0.05 }
		custom_effect_tooltip = decist_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
	}
}

# Дискуссия о ВЧК
country_event = {
	id = rcw_bolsheviks.27
	title = rcw_bolsheviks.27.t
	desc = rcw_bolsheviks.27.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
		has_idea = RUS_avenging_sword_of_the_revolution_idea
		NOT = { has_global_flag = RUS_civil_war_over }
	}
	
	mean_time_to_happen = {
		days = 50
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.27.a
		set_country_flag = RUS_can_enlarge_VCHK
		add_to_variable = { var = Trotskiy_power value = -1 }
		add_to_variable = { left_faction_party_compositon = 0.05 }
		custom_effect_tooltip = left_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
	}
	
	option = {
		name = rcw_bolsheviks.27.b
		add_stability = 0.01
	}
	
	option = {
		name = rcw_bolsheviks.27.c
		swap_ideas = {
			remove_idea = RUS_avenging_sword_of_the_revolution_idea
			add_idea = RUS_VChK_is_controlled_by_the_NKVD_idea
		}
		add_to_variable = { moderate_faction_party_compositon = 0.05 }
		custom_effect_tooltip = moderate_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
	}
	
	option = {
		name = rcw_bolsheviks.27.d
		swap_ideas = {
			remove_idea = RUS_avenging_sword_of_the_revolution_idea
			add_idea = RUS_VChK_is_controlled_by_the_VTSIK_idea
		}
		add_to_variable = { center_faction_party_compositon = 0.05 }
		custom_effect_tooltip = center_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
	}
	
	option = {
		name = rcw_bolsheviks.27.e
		remove_ideas = RUS_avenging_sword_of_the_revolution_idea
		add_to_variable = { decist_faction_party_compositon = 0.05 }
		custom_effect_tooltip = decist_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
	}
}

# Вопрос партийного строительства (Вопрос состава партии)
country_event = {
	id = rcw_bolsheviks.28
	title = rcw_bolsheviks.28.t
	desc = rcw_bolsheviks.28.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		has_government = communism
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.28.a
		country_event = { id = rcw_bolsheviks.42 days = 1 }
		add_popularity = {
			ideology = communism
			popularity = -0.025
		}
		add_popularity = {
			ideology = radical_socialism
			popularity = 0.025
		}
		add_to_variable = { left_faction_party_compositon = 0.1 }
		custom_effect_tooltip = left_fact_party_comp_plus_10
		check_overlap_of_party_composition = yes
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	option = {
		name = rcw_bolsheviks.28.b
		country_event = { id = rcw_bolsheviks.42 days = 1 }
		add_political_power = 10
		add_to_variable = { left_faction_party_compositon = -0.05 }
		custom_effect_tooltip = left_fact_party_comp_minus_5
		add_to_variable = { center_faction_party_compositon = 0.05 }
		custom_effect_tooltip = center_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
		ai_chance = {
			factor = 2
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	option = {
		name = rcw_bolsheviks.28.c
		country_event = { id = rcw_bolsheviks.42 days = 1 }
		add_stability = -0.02
		add_political_power = 25
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		add_to_variable = { left_faction_party_compositon = -0.1 }
		custom_effect_tooltip = left_fact_party_comp_minus_10
		add_to_variable = { decist_faction_party_compositon = 0.05 }
		custom_effect_tooltip = decist_fact_party_comp_plus_5
		add_to_variable = { right_faction_party_compositon = 0.05 }
		custom_effect_tooltip = right_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
		ai_chance = {
			factor = 3
		}
	}
}

# Изменить отношение к социалистам? (Проявить гибкость к социалистам?)
country_event = {
	id = rcw_bolsheviks.29
	title = rcw_bolsheviks.29.t
	desc = rcw_bolsheviks.29.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
		has_idea = red_terror_idea
		NOT = { has_global_flag = RUS_civil_war_over }
		NOT = {
			any_enemy_country = {
				is_any_former_russian_empire_country = yes
				OR = {
					has_government = radical_socialism
					has_government = social_democracy
					has_government = social_liberalism
				}
			}
		}
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 15
	}
	
	option = {
		name = rcw_bolsheviks.29.a
		add_to_variable = { left_faction_party_compositon = 0.05 }
		custom_effect_tooltip = left_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
	}
	
	option = {
		name = rcw_bolsheviks.29.b
		add_to_variable = {
			var = global.RCW_green_var_Russian_SFSR
			value = -1
		}
		add_stability = -0.01
		add_political_power = -10
		add_popularity = {
			ideology = radical_socialism
			popularity = 0.05
		}
		add_popularity = {
			ideology = social_democracy
			popularity = 0.1
		}
		add_popularity = {
			ideology = social_liberalism
			popularity = 0.1
		}
		swap_ideas = {
			remove_idea = red_terror_idea
			add_idea = not_socialist_red_terror_idea
		}
		add_to_variable = { center_faction_party_compositon = 0.05 }
		custom_effect_tooltip = center_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
	}
}

# Приток левых эсеров в партию
country_event = {
	id = rcw_bolsheviks.30
	title = rcw_bolsheviks.30.t
	desc = rcw_bolsheviks.30.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.30.a
		add_popularity = {
			ideology = communism
			popularity = 0.1
		}
		add_to_variable = { decist_faction_party_compositon = 0.15 }
		add_to_variable = { left_faction_party_compositon = -0.1 }
		add_to_variable = { moderate_faction_party_compositon = -0.05 }
		custom_effect_tooltip = decist_fact_party_comp_plus_15
		custom_effect_tooltip = left_fact_party_comp_minus_10
		custom_effect_tooltip = moderate_fact_party_comp_minus_5
		check_overlap_of_party_composition = yes
	}
	
	option = {
		name = rcw_bolsheviks.30.b
		add_political_power = 50
		hidden_effect = { country_event = { id = rcw_bolsheviks.31 days = 2 } }
		add_to_variable = {
			var = global.RCW_green_var_Russian_SFSR
			value = 1
		}
		check_overlap_of_party_composition = yes
	}
}

# Недовольство в Петрогаде и Кронштадте решением по ПЛСР
country_event = {
	id = rcw_bolsheviks.31
	title = rcw_bolsheviks.31.t
	desc = rcw_bolsheviks.31.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.31.a
		add_popularity = {
			ideology = communism
			popularity = -0.03
		}
		add_timed_idea = { idea = RUS_mass_workers_strikes days = 20 }
		add_to_variable = { decist_faction_party_compositon = 0.05 }
		custom_effect_tooltip = decist_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
	}
}

# Деградация комбедов
country_event = {
	id = rcw_bolsheviks.32
	title = rcw_bolsheviks.32.t
	desc = rcw_bolsheviks.32.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		has_idea = RUS_kombeds_idea
		has_government = communism
		has_idea = allow_one_party_law
	}
	
	mean_time_to_happen = {
		days = 25
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.32.a
		swap_ideas = {
			remove_idea = RUS_kombeds_idea
			add_idea = RUS_degenerate_kombeds
		}
		add_to_variable = { left_faction_party_compositon = -0.03 }
		custom_effect_tooltip = left_fact_party_comp_minus_3
		check_overlap_of_party_composition = yes
	}
}

# Репрессии против левых эсеров в армии?
country_event = {
	id = rcw_bolsheviks.33
	title = rcw_bolsheviks.33.t
	desc = rcw_bolsheviks.33.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.33.a
		add_war_support = -0.03
		add_political_power = 50
		every_unit_leader = { limit = { OR = { has_id = 19189 has_id = 77426 } } remove_unit_leader = yes }
		add_timed_idea = { idea = red_army_is_weakened days = 40 }
		add_to_variable = { left_faction_party_compositon = 0.05 }
		custom_effect_tooltip = left_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
	}
	
	option = {
		name = rcw_bolsheviks.33.b
		add_stability = 0.02
	}
}

# Просьба профсоюза писателей
country_event = {
	id = rcw_bolsheviks.34
	title = rcw_bolsheviks.34.t
	desc = rcw_bolsheviks.34.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		surrender_progress < 0.4
		controls_state = 219
		has_country_flag = war_communism
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
		NOT = { has_country_flag = war_communism_abolished }
		NOT = { has_completed_focus = RUS_dissolution_of_trade_unions }
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 50
	}
	
	option = {
		name = rcw_bolsheviks.34.a
		add_political_power = 15
		add_popularity = {
			ideology = communism
			popularity = -0.01
		}
		add_to_variable = { left_faction_party_compositon = 0.03 }
		custom_effect_tooltip = left_fact_party_comp_plus_3
		check_overlap_of_party_composition = yes
	}
	
	option = {
		name = rcw_bolsheviks.34.b
		trigger = { left_fact_party_is_ruling = no }
		add_political_power = -15
		add_popularity = {
			ideology = communism
			popularity = 0.01
		}
		add_to_variable = { moderate_faction_party_compositon = 0.03 }
		custom_effect_tooltip = moderate_fact_party_comp_plus_3
		check_overlap_of_party_composition = yes
	}
}

# Организация петроградского дома искусств
country_event = {
	id = rcw_bolsheviks.35
	title = rcw_bolsheviks.35.t
	desc = rcw_bolsheviks.35.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		surrender_progress < 0.4
		controls_state = 195
		has_country_flag = war_communism
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 50
	}
	
	option = {
		name = rcw_bolsheviks.35.a
		trigger = { has_war = yes }
		add_war_support = 0.07
		add_stability = -0.01
		add_to_variable = { left_faction_party_compositon = 0.03 }
		custom_effect_tooltip = left_fact_party_comp_plus_3
		check_overlap_of_party_composition = yes
	}
	
	option = {
		name = rcw_bolsheviks.35.b
		add_stability = 0.01
		add_to_variable = { center_faction_party_compositon = 0.03 }
		custom_effect_tooltip = center_fact_party_comp_plus_3
		check_overlap_of_party_composition = yes
	}
	
	option = {
		name = rcw_bolsheviks.35.c
		trigger = { left_fact_party_is_ruling = no }
		add_stability = 0.04
		add_to_variable = { decist_faction_party_compositon = 0.03 }
		custom_effect_tooltip = decist_fact_party_comp_plus_3
		check_overlap_of_party_composition = yes
	}
}

# Организация спортивных соревнований
country_event = {
	id = rcw_bolsheviks.36
	title = rcw_bolsheviks.36.t
	desc = rcw_bolsheviks.36.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		OR = {
			AND = {
				date > 1918.04.01
				date < 1918.09.01
			}
			AND = {
				date > 1919.04.01
				date < 1919.09.01
			}
			AND = {
				date > 1920.04.01
				date < 1920.09.01
			}
			AND = {
				date > 1921.04.01
				date < 1921.09.01
			}
		}
		NOT = { has_global_flag = RUS_civil_war_over }
		has_completed_focus = RUS_vsevobuch
		surrender_progress < 0.4
		controls_state = 195
		controls_state = 219
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 50
	}
	
	option = {
		name = rcw_bolsheviks.36.a
		trigger = { has_war = yes }
		add_political_power = 50
		add_to_variable = { left_faction_party_compositon = 0.03 }
		custom_effect_tooltip = left_fact_party_comp_plus_3
		check_overlap_of_party_composition = yes
	}
	
	option = {
		name = rcw_bolsheviks.36.b
		add_stability = 0.03
		add_to_variable = { center_faction_party_compositon = 0.03 }
		custom_effect_tooltip = center_fact_party_comp_plus_3
		check_overlap_of_party_composition = yes
	}
}

# Недовольство красных партизан
country_event = {
	id = rcw_bolsheviks.37
	title = rcw_bolsheviks.37.t
	desc = rcw_bolsheviks.37.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		AND = {
			OR = {
				has_country_flag = war_communism
				has_war_with = RGR
				has_completed_focus = RUS_cancellation_of_election_of_officers
				has_country_flag = RUS_RKP_b_VIII_non_decist_war_plan
			}
			OR = {
				has_idea = foodstuffs_supply_crisis_2
				has_idea = foodstuffs_supply_crisis_3
				has_idea = foodstuffs_supply_crisis_4
				has_idea = foodstuffs_supply_crisis_5
			}
		}
		decist_fact_party_is_ruling = no
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 100
	}
	
	option = {
		name = rcw_bolsheviks.37.a
		add_war_support = -0.05
		add_stability = -0.05
		add_popularity = {
			ideology = radical_socialism
			popularity = 0.1
		}
		add_to_variable = {
			var = global.RCW_green_var_Russian_SFSR
			value = 1
		}
		add_to_variable = { left_faction_party_compositon = 0.10 }
		custom_effect_tooltip = left_fact_party_comp_plus_10
		check_overlap_of_party_composition = yes
		ai_chance = {
			factor = 0
		}
	}
	
	option = {
		name = rcw_bolsheviks.37.b
		add_popularity = {
			ideology = radical_socialism
			popularity = 0.05
		}
		add_to_variable = { decist_faction_party_compositon = 0.10 }
		custom_effect_tooltip = decist_fact_party_comp_plus_10
		check_overlap_of_party_composition = yes
		ai_chance = {
			factor = 1
		}
	}
}

# Отказ содержать школы
country_event = {
	id = rcw_bolsheviks.38
	title = rcw_bolsheviks.38.t
	desc = rcw_bolsheviks.38.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		has_completed_focus = RUS_Likbez
		NOT = { has_global_flag = RUS_civil_war_over }
		AND = {
			OR = {
				has_country_flag = war_communism
				has_war_with = RGR
			}
			OR = {
				has_idea = foodstuffs_supply_crisis_2
				has_idea = foodstuffs_supply_crisis_3
				has_idea = foodstuffs_supply_crisis_4
				has_idea = foodstuffs_supply_crisis_5
			}
		}
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 50
	}
	
	option = {
		name = rcw_bolsheviks.38.a
		add_political_power = -50
		add_to_variable = { left_faction_party_compositon = 0.03 }
		custom_effect_tooltip = left_fact_party_comp_plus_3
		check_overlap_of_party_composition = yes
		add_popularity = {
			ideology = communism
			popularity = -0.1
		}
	}
	
	option = {
		name = rcw_bolsheviks.38.b
		literacy_law_fall = yes
	}
}

# Сопротивление крестьян Сибири
country_event = {
	id = rcw_bolsheviks.39
	title = rcw_bolsheviks.39.t
	desc = rcw_bolsheviks.39.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		has_country_flag = war_communism
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
		NOT = { has_country_flag = war_communism_abolished }
		any_state = {
			OR = {
				region = 149
				region = 151
			}
			is_controlled_by = RUS
		}
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 50
	}
	
	option = {
		name = rcw_bolsheviks.39.a
		add_to_variable = {
			var = global.RCW_green_var_Russian_SFSR
			value = 1
		}
		add_stability = -0.05
	}
}

# Сопротивление кооперации
country_event = {
	id = rcw_bolsheviks.40
	title = rcw_bolsheviks.40.t
	desc = rcw_bolsheviks.40.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		has_country_flag = war_communism
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
		NOT = { has_country_flag = war_communism_abolished }
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 50
	}
	
	option = {
		name = rcw_bolsheviks.40.a
		add_stability = -0.05
		add_popularity = {
			ideology = social_liberalism
			popularity = -0.05
		}
		add_popularity = {
			ideology = social_democracy
			popularity = -0.05
		}
		add_to_variable = { left_faction_party_compositon = 0.03 }
		custom_effect_tooltip = left_fact_party_comp_plus_3
		check_overlap_of_party_composition = yes
	}
	
	option = {
		name = rcw_bolsheviks.40.b
		add_to_variable = { moderate_faction_party_compositon = 0.05 }
		custom_effect_tooltip = moderate_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
	}
}

# Натурализация хозяйства
country_event = {
	id = rcw_bolsheviks.41
	title = rcw_bolsheviks.41.t
	desc = rcw_bolsheviks.41.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
		NOT = { has_country_flag = war_communism }
		OR = {
			has_idea = foodstuffs_supply_crisis_2
			has_idea = foodstuffs_supply_crisis_3
			has_idea = foodstuffs_supply_crisis_4
			has_idea = foodstuffs_supply_crisis_5
		}
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 50
	}
	
	option = {
		name = rcw_bolsheviks.41.a
		add_popularity = {
			ideology = radical_socialism
			popularity = -0.04
		}
		add_to_variable = {
			var = global.RCW_green_var_Russian_SFSR
			value = 1
		}
		add_to_variable = { left_faction_party_compositon = 0.03 }
		custom_effect_tooltip = left_fact_party_comp_plus_3
		check_overlap_of_party_composition = yes
	}
	
	option = {
		name = rcw_bolsheviks.41.b
		add_popularity = {
			ideology = radical_socialism
			popularity = -0.02
		}
		add_to_variable = { moderate_faction_party_compositon = 0.05 }
		custom_effect_tooltip = moderate_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
	}
	
	option = {
		name = rcw_bolsheviks.41.c
		add_to_variable = { center_faction_party_compositon = 0.05 }
		custom_effect_tooltip = center_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
	}
}

# Советские республики
country_event = {
	id = rcw_bolsheviks.42
	title = rcw_bolsheviks.42.t
	desc = rcw_bolsheviks.42.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.42.a
		add_political_power = 50
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
		add_to_variable = {
			var = global.RCW_green_var_Russian_SFSR
			value = 1
		}
		add_to_variable = { decist_faction_party_compositon = 0.10 }
		custom_effect_tooltip = decist_fact_party_comp_plus_10
		check_overlap_of_party_composition = yes
		ai_chance = {
			factor = 0
		}
	}
	
	option = {
		name = rcw_bolsheviks.42.b
		add_stability = -0.05
		ai_chance = {
			factor = 1
		}
	}
	
	option = {
		name = rcw_bolsheviks.42.c
		add_stability = -0.1
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		add_to_variable = {
			var = global.RCW_green_var_Russian_SFSR
			value = -1
		}
		add_to_variable = { left_faction_party_compositon = 0.1 }
		custom_effect_tooltip = left_fact_party_comp_plus_10
		check_overlap_of_party_composition = yes
		set_country_flag = reds_want_to_create_more_republics
		ai_chance = {
			factor = 0
		}
	}
}

# Собрания фабричных представителей
country_event = {
	id = rcw_bolsheviks.43
	title = rcw_bolsheviks.43.t
	desc = rcw_bolsheviks.43.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
		NOT = { has_country_flag = war_communism }
		OR = {
			has_idea = foodstuffs_supply_crisis_2
			has_idea = foodstuffs_supply_crisis_3
			has_idea = foodstuffs_supply_crisis_4
			has_idea = foodstuffs_supply_crisis_5
		}
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 150
	}
	
	option = {
		name = rcw_bolsheviks.43.a
		add_popularity = {
			ideology = radical_socialism
			popularity = -0.04
		}
		add_timed_idea = { idea = RUS_mass_workers_strikes days = 20 }
		add_to_variable = { left_faction_party_compositon = 0.03 }
		custom_effect_tooltip = left_fact_party_comp_plus_3
		check_overlap_of_party_composition = yes
	}
	
	option = {
		name = rcw_bolsheviks.43.b
		add_political_power = -20
		add_popularity = {
			ideology = radical_socialism
			popularity = -0.02
		}
		add_to_variable = { moderate_faction_party_compositon = 0.05 }
		custom_effect_tooltip = moderate_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
	}
	
	option = {
		name = rcw_bolsheviks.43.c
		add_timed_idea = { idea = RUS_mass_workers_strikes days = 35 }
		add_to_variable = { center_faction_party_compositon = 0.05 }
		custom_effect_tooltip = center_fact_party_comp_plus_5
		add_to_variable = { decist_faction_party_compositon = 0.05 }
		custom_effect_tooltip = decist_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
	}
}

# Противодействие меньшевиков в начале 1918-ого
country_event = {
	id = rcw_bolsheviks.44
	title = rcw_bolsheviks.44.t
	desc = rcw_bolsheviks.44.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		has_completed_focus = RUS_prodrazverstka
		has_country_flag = RUS_Oktober_revolution_fired
		OR = {
			has_country_flag = RUS_brest_peace_fired
			has_country_flag = brest_hardest
			has_country_flag = brest_hard
			has_country_flag = brest_average
			has_country_flag = brest_soft
		}
		has_government = communism
		NOT = { has_country_flag = war_communism_abolished }
		OR = {
			has_idea = foodstuffs_supply_crisis_2
			has_idea = foodstuffs_supply_crisis_3
			has_idea = foodstuffs_supply_crisis_4
			has_idea = foodstuffs_supply_crisis_5
		}
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 30
	}
	
	option = {
		name = rcw_bolsheviks.44.a
		add_political_power = -30
		add_popularity = {
			ideology = social_democracy
			popularity = -0.04
		}
		add_to_variable = { left_faction_party_compositon = 0.03 }
		custom_effect_tooltip = left_fact_party_comp_plus_3
		check_overlap_of_party_composition = yes
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	option = {
		name = rcw_bolsheviks.44.b
		add_popularity = {
			ideology = social_democracy
			popularity = 0.04
		}
		add_to_variable = { moderate_faction_party_compositon = 0.05 }
		custom_effect_tooltip = moderate_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
		ai_chance = {
			factor = 1
		}
	}
}

# Дзержинский жалуется
country_event = {
	id = rcw_bolsheviks.45
	title = rcw_bolsheviks.45.t
	desc = rcw_bolsheviks.45.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		has_completed_focus = RUS_vchk
		has_government = communism
		OR = {
			has_idea = Felix_Dzerjinsky_4
			has_idea = Felix_Dzerjinsky_5
		}
		NOT = {
			OR = {
				has_idea = RUS_avenging_sword_of_the_revolution_idea
				has_idea = RUS_VChK_is_controlled_by_the_NKVD_idea
				has_idea = RUS_VChK_is_controlled_by_the_VTSIK_idea
			}
		}
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 75
	}
	
	option = {
		name = rcw_bolsheviks.45.a
		trigger = {
			NOT = {
				OR = {
					has_country_leader = { name = "Nikolay Bukharin" ruling_only = yes }
					decist_fact_party_is_ruling = yes
				}
			}
		}
		hidden_effect = { add_ideas = RUS_avenging_sword_of_the_revolution_idea }
		country_event = rcw_bolsheviks.27
	}
	
	option = {
		name = rcw_bolsheviks.45.b
		add_stability = 0.01
		add_to_variable = { decist_faction_party_compositon = 0.05 }
		custom_effect_tooltip = decist_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
	}
}

# Кругом одни евреи
country_event = {
	id = rcw_bolsheviks.46
	title = rcw_bolsheviks.46.t
	desc = rcw_bolsheviks.46.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
		has_completed_focus = RUS_vchk
		has_completed_focus = RUS_military_commissars
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 250
	}
	
	option = {
		name = rcw_bolsheviks.46.a
		add_ideas = RUS_jews_and_latvians
	}
}

# Продовольственная диктатура
country_event = {
	id = rcw_bolsheviks.47
	title = rcw_bolsheviks.47.t
	desc = rcw_bolsheviks.47.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.47.a
		add_ideas = RUS_prodrazverstka_idea
		add_to_variable = {
			var = global.RCW_green_var_Russian_SFSR
			value = 2
		}
		if = {
			limit = {
				has_idea = two_party_system_law
				check_variable = { communism_coalition = 1 }
				check_variable = { radical_socialism_coalition = 1 }
			}
			country_event = rcw_bolsheviks.51
		}
		add_days_mission_timeout = { mission = RUS_collapse_of_the_bolshevik_economy days = 100 }
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = rcw_bolsheviks.47.b
		add_ideas = RUS_prodnalog_idea
		add_to_variable = {
			var = global.RCW_green_var_Russian_SFSR
			value = 1
		}
		add_days_mission_timeout = { mission = RUS_collapse_of_the_bolshevik_economy days = 50 }
		add_to_variable = { moderate_faction_party_compositon = 0.1 }
		custom_effect_tooltip = moderate_fact_party_comp_plus_10
		check_overlap_of_party_composition = yes
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = rcw_bolsheviks.47.c
		add_ideas = RUS_exchange_in_kind_idea
		add_to_variable = { right_faction_party_compositon = 0.15 }
		custom_effect_tooltip = right_fact_party_comp_plus_15
		check_overlap_of_party_composition = yes
		ai_chance = {
			factor = 0
		}
	}
}
# Пересмотр продовольственной политики
country_event = {
	id = rcw_bolsheviks.48
	title = rcw_bolsheviks.48.t
	desc = rcw_bolsheviks.48.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				has_idea = two_party_system_law
				check_variable = { communism_coalition = 1 }
				check_variable = { radical_socialism_coalition = 1 }
			}
		}
		name = rcw_bolsheviks.48.a
		if = {
			limit = { has_idea = RUS_exchange_in_kind_idea }
			remove_ideas = RUS_exchange_in_kind_idea
			add_to_variable = {
				var = global.RCW_green_var_Russian_SFSR
				value = 2
			}
			add_days_mission_timeout = { mission = RUS_collapse_of_the_bolshevik_economy days = 50 }
		}
		if = {
			limit = { has_idea = RUS_prodnalog_idea }
			remove_ideas = RUS_prodnalog_idea
			add_to_variable = {
				var = global.RCW_green_var_Russian_SFSR
				value = 1
			}
		}
		add_ideas = RUS_prodrazverstka_idea
	}
	option = {
		trigger = { has_idea = RUS_exchange_in_kind_idea }
		name = rcw_bolsheviks.48.b
		if = {
			limit = { has_idea = RUS_exchange_in_kind_idea }
			remove_ideas = RUS_exchange_in_kind_idea
			add_to_variable = {
				var = global.RCW_green_var_Russian_SFSR
				value = 1
			}
		}
		add_ideas = RUS_prodnalog_idea
	}
}
# Гражданская война на селе
country_event = {
	id = rcw_bolsheviks.49
	title = rcw_bolsheviks.49.t
	desc = rcw_bolsheviks.49.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		OR = {
			has_idea = RUS_prodnalog_idea
			has_idea = RUS_exchange_in_kind_idea
		}
		OR = {
			has_idea = RUS_kombeds_idea
			has_idea = RUS_degenerate_kombeds
		}
		OR = {
			has_idea = RUS_weak_state_suppression_apparatus_1
			has_idea = RUS_weak_state_suppression_apparatus
			has_idea = RUS_damage_to_police_and_special_services
		}
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 30
	}
	
	option = {
		name = rcw_bolsheviks.47.a
		add_ideas = RUS_civil_war_in_the_village_idea
		add_to_variable = {
			var = global.RCW_green_var_Russian_SFSR
			value = 2
		}
	}
}
# Гражданская война на селе заканчивается
country_event = {
	id = rcw_bolsheviks.50
	title = rcw_bolsheviks.50.t
	desc = rcw_bolsheviks.50.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		has_idea = RUS_civil_war_in_the_village_idea
		OR = {
			NOT = {
				has_idea = RUS_weak_state_suppression_apparatus_1
				has_idea = RUS_weak_state_suppression_apparatus
				has_idea = RUS_damage_to_police_and_special_services
			}
			NOT = {
				has_idea = RUS_prodnalog_idea
				has_idea = RUS_exchange_in_kind_idea
			}
			NOT = {
				has_idea = RUS_kombeds_idea
				has_idea = RUS_degenerate_kombeds
			}
			NOT = { has_country_flag = RUS_Oktober_revolution_fired }
		}
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 30
	}
	
	option = {
		name = rcw_bolsheviks.50.a
		remove_ideas = RUS_civil_war_in_the_village_idea
		add_to_variable = {
			var = global.RCW_green_var_Russian_SFSR
			value = -2
		}
	}
}

# Протесты левых эсеров против продовольственной диктатуры
country_event = {
	id = rcw_bolsheviks.51
	title = rcw_bolsheviks.51.t
	desc = rcw_bolsheviks.51.desc
	picture = GFX_report_event_sov_left_socialist-revolutionary_insurrection
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.51.a
		add_political_power = -25
		add_ideas = RUS_bolsheviks_vs_left_esser
	}
}

# Протесты левых эсеров против комитетов деревенской бедноты
country_event = {
	id = rcw_bolsheviks.52
	title = rcw_bolsheviks.52.t
	desc = rcw_bolsheviks.52.desc
	picture = GFX_report_event_sov_left_socialist-revolutionary_insurrection
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.52.a
		add_political_power = -25
		add_ideas = RUS_bolsheviks_vs_left_esser
	}
}

# Расправа левых эсеров над коммунистами
country_event = {
	id = rcw_bolsheviks.54
	title = rcw_bolsheviks.54.t
	desc = rcw_bolsheviks.54.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.54.a
		add_timed_idea = { idea = disorganization_of_army days = 14 }
		set_country_flag = Lev_Trotsky_dead
		every_unit_leader = {
			limit = {
				OR = {
					has_id = 19170
					has_id = 19176
					has_id = 19177
					has_id = 19178
					has_id = 19180
					has_id = 19182
					has_id = 19184
					has_id = 19188
					has_id = 19194
					has_id = 19195
					has_id = 19198
					has_id = 19211
					has_id = 77431
				}
			}
			remove_unit_leader = yes
		}
		if = {
			limit = { any_unit_leader = { has_id = 19208 } }
			every_unit_leader = { limit = { has_id = 19208 } remove_unit_leader = yes }
			set_country_flag = Mikhail_Frunze_dead
		}
		if = {
			limit = { any_unit_leader = { has_id = 19171 } }
			every_unit_leader = { limit = { has_id = 19171 } remove_unit_leader = yes }
			set_country_flag = Jukums_Vacietis_dead
		}
		add_stability = -0.05
		add_left_esser_unit_leaders = yes
		if = {
			limit = { has_country_leader = { name = "Vladimir Lenin" ruling_only = no } }
			kill_ideology_leader = communism
			set_country_flag = Vladimir_Lenin_dead
			set_country_flag = Yakov_Sverdlov_dead
			set_country_flag = Felix_Dzerjinsky_dead
			set_country_flag = Martyn_Latsis_dead
			set_country_flag = Yakov_Peters_dead
			set_country_flag = Jukums_Vacietis_dead
		}
	}
}

# V Всероссийский съезд Советов
country_event = {
	id = rcw_bolsheviks.55
	title = rcw_bolsheviks.55.t
	desc = {
		text = rcw_bolsheviks.55.desc
		trigger = {
			NOT = { has_completed_focus = RUS_left_eser_focus }
		}
	}
	desc = {
		text = rcw_bolsheviks.55.desc_1
		trigger = {
			has_completed_focus = RUS_left_eser_focus
		}
	}
	picture = GFX_report_event_sov_left_socialist-revolutionary_insurrection
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
	}
	
	immediate = {
		add_to_variable = { var = global.num_of_allrussian_congress_of_soviets value = 1 }
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.55.a
		if = {
			limit = {
				has_idea = two_party_system_law
				check_variable = { communism_coalition = 1 }
				check_variable = { radical_socialism_coalition = 1 }
				has_idea = RUS_bolsheviks_vs_left_esser
			}
			country_event = { id = rcw_bolsheviks.56 hours = 1 }
			else = {
				add_stability = 0.05
				remove_ideas = RUS_bolsheviks_vs_left_esser
			}
		}
	}
}

# Конфликт на V съезде
country_event = {
	id = rcw_bolsheviks.56
	title = rcw_bolsheviks.56.t
	desc = {
		text = rcw_bolsheviks.56.desc
		trigger = {
			OR = {
				has_country_flag = brest_hardest
				has_country_flag = brest_hard
				has_country_flag = brest_average
			}
		}
	}
	desc = {
		text = rcw_bolsheviks.56.desc_1
		trigger = {
			NOT = {
				has_country_flag = brest_hardest
				has_country_flag = brest_hard
				has_country_flag = brest_average
			}
			NOT = { has_completed_focus = RUS_left_eser_focus }
		}
	}
	desc = {
		text = rcw_bolsheviks.56.desc_2
		trigger = {
			NOT = {
				has_country_flag = brest_hardest
				has_country_flag = brest_hard
				has_country_flag = brest_average
			}
			has_completed_focus = RUS_left_eser_focus
		}
	}
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.56.a
		if = {
			limit = {
				has_country_flag = RUS_brest_peace_fired
			}
			country_event = { id = rcw_bolsheviks.57 days = 1 }
			else = {
				if = {
					limit = { has_completed_focus = RUS_vchk }
					if = {
						limit = { has_completed_focus = RUS_left_eser_focus check_variable = { party_popularity@radical_socialism > party_popularity@communism } }
						add_to_variable = { var = RUS_left_SR_Moscow_control value = 1 }
						else = {
							if = {
								limit = { OR = { has_completed_focus = RUS_left_eser_focus check_variable = { party_popularity@radical_socialism > party_popularity@communism } } }
								random_list = {
									80 = { add_to_variable = { var = RUS_left_SR_Moscow_control value = 1 } }
									20 = { set_country_flag = left_esser_arrested }
								}
								else = {
									random_list = {
										5 = { add_to_variable = { var = RUS_left_SR_Moscow_control value = 1 } }
										95 = { set_country_flag = left_esser_arrested }
									}
								}
							}
						}
					}
					country_event = { id = rcw_bolsheviks.61 hours = 2 }
					else = {
						country_event = { id = rcw_bolsheviks.60 hours = 2 }
					}
				}
			}
		}
	}
}

# Убийство Мирбаха
country_event = {
	id = rcw_bolsheviks.57
	title = rcw_bolsheviks.57.t
	desc = rcw_bolsheviks.57.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.57.a
		add_stability = -0.01
		add_political_power = -10
		hidden_effect = {
			if = {
				limit = { has_completed_focus = RUS_vchk }
				set_country_flag = arrested_VCHK
			}
			country_event = { id = rcw_bolsheviks.58 hours = 3 }
		}
	}
}

# Дзержинский арестован
country_event = {
	id = rcw_bolsheviks.58
	title = rcw_bolsheviks.58.t
	desc = { trigger = { has_country_flag = arrested_VCHK } text = rcw_bolsheviks.58.desc }
	desc = { trigger = { NOT = { has_country_flag = arrested_VCHK } } text = rcw_bolsheviks.58.desc_1 }
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
	}
	
	immediate = {
		hidden_effect = {
			if = {
				limit = { has_country_flag = arrested_VCHK }
				remove_ideas_with_trait = head_of_intel_trait
				set_country_flag = Felix_Dzerjinsky_arrested
				if = {
					limit = { has_idea = Felix_Dzerjinsky_4 }
					remove_ideas_with_trait = security_minister_trait
					add_ideas = Martyn_Latsis_4
				}
				add_ideas = Martyn_Latsis_5
			}
		}
	}
	
	
	is_triggered_only = yes
	
	option = {
		trigger = { has_country_flag = arrested_VCHK }
		name = rcw_bolsheviks.58.a
		if = {
			limit = { has_completed_focus = RUS_left_eser_focus check_variable = { party_popularity@radical_socialism > party_popularity@communism } }
			add_to_variable = { var = RUS_left_SR_Moscow_control value = 1 }
		}
		else_if = {
			limit = { OR = { has_completed_focus = RUS_left_eser_focus check_variable = { party_popularity@radical_socialism > party_popularity@communism } } }
			random_list = {
				80 = { add_to_variable = { var = RUS_left_SR_Moscow_control value = 1 } }
				20 = { set_country_flag = left_esser_arrested }
			}
		}
		else = {
			random_list = {
				5 = { add_to_variable = { var = RUS_left_SR_Moscow_control value = 1 } }
				95 = { set_country_flag = left_esser_arrested }
			}
		}
		country_event = { id = rcw_bolsheviks.61 hours = 2 }
	}
	
	option = {
		name = rcw_bolsheviks.58.b
		country_event = { id = rcw_bolsheviks.60 hours = 2 }
	}
}

# Приход левых эсеров к власти через разгром правительства
country_event = {
	id = rcw_bolsheviks.59
	title = rcw_bolsheviks.59.t
	desc = {
		text = rcw_bolsheviks.59.desc
		trigger = { NOT = { check_variable = { var = RUS_bolsheviks_using_soilders value = 2 compare = greater_than_or_equals } check_variable = { var = RUS_bolsheviks_using_workers value = 2 compare = greater_than_or_equals } check_variable = { party_popularity@radical_socialism > party_popularity@communism } } }
	}
	desc = {
		text = rcw_bolsheviks.59.desc_sold
		trigger = { check_variable = { var = RUS_bolsheviks_using_soilders value = 2 compare = greater_than_or_equals } }
	}
	desc = {
		text = rcw_bolsheviks.59.desc_work
		trigger = { NOT = { check_variable = { var = RUS_bolsheviks_using_soilders value = 2 compare = greater_than_or_equals } } OR = { check_variable = { var = RUS_bolsheviks_using_workers value = 2 compare = greater_than_or_equals } check_variable = { party_popularity@radical_socialism > party_popularity@communism } } }
	}
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.59.a
		set_politics = { ruling_party = radical_socialism elections_allowed = no }
		if = {
			limit = { has_country_flag = left_esser_arrested }
			kill_ideology_leader = radical_socialism
			clr_country_flag = left_esser_arrested
		}
		remove_ideas_with_trait = head_of_government_trait
		remove_ideas_with_trait = foreign_minister_trait
		remove_ideas_with_trait = economy_minister_trait
		remove_ideas_with_trait = security_minister_trait
		remove_ideas_with_trait = head_of_intel_trait
		add_ideas = allow_one_party_law
		add_timed_idea = { idea = RUS_weak_state_suppression_apparatus_2 days = 360 }
		add_ideas = {
			Prosh_Proshian_2
			Isaac_Steinberg_3
			Vladimir_Karelin_4
			Vyacheslav_Aleksandrovich_5
			Mikhail_Muravyov_6
			Mikhail_Muravyov_army_chief
		}
		if = {
			limit = { has_country_leader = { name = "Maria Spiridonova" ruling_only = yes } }
			add_ideas = Maria_Spiridonova_1
		}
		else = {
			add_ideas = Boris_Kamkov_1
		}
		clr_country_flag = RUS_left_SR_rise_in_progress
		clr_country_flag = left_esser_captured_VCHK
		clr_country_flag = left_esser_captured_power_station
		clr_country_flag = left_esser_captured_telegraph
		clr_country_flag = left_esser_first_attack
		clr_country_flag = left_esser_second_attack
		clr_country_flag = left_esser_third_attack
		clear_variable = RUS_bolsheviks_using_soilders
		clear_variable = RUS_bolsheviks_using_workers
		clear_variable = RUS_left_SR_Moscow_control
		set_country_flag = RUS_left_SR_revolt
		clr_country_flag = RUS_flag_soviet_power
		add_stability = -0.05
		add_political_power = 50
		add_popularity = {
			ideology = communism
			popularity = -0.15
		}
		if = {
			limit = { NOT = { has_completed_focus = RUS_left_eser_focus } }
			complete_national_focus = RUS_left_eser_focus
		}
		kill_ideology_leader = communism
		set_country_flag = Vladimir_Lenin_dead
		set_country_flag = Yakov_Sverdlov_dead
		set_country_flag = Martyn_Latsis_dead
		set_country_flag = Yakov_Peters_dead
		if = {
			limit = { any_unit_leader = { has_id = 19171 } }
			every_unit_leader = { limit = { has_id = 19171 } remove_unit_leader = yes }
			set_country_flag = Jukums_Vacietis_dead
		}
		set_country_flag = Felix_Dzerjinsky_dead
		every_unit_leader = { limit = { has_id = 19211 } remove_unit_leader = yes }
		country_event = { id = rcw_bolsheviks.54 hours = 5 }
	}
}

# Приход левых эсеров к власти через арест большевиков на съезде
country_event = {
	id = rcw_bolsheviks.60
	title = rcw_bolsheviks.60.t
	desc = {
		text = rcw_bolsheviks.60.desc
		trigger = { has_country_flag = arrested_VCHK }
	}
	desc = {
		text = rcw_bolsheviks.60.desc_1
		trigger = { NOT = { has_country_flag = arrested_VCHK } }
	}
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.60.a
		clr_country_flag = arrested_VCHK
		
		set_variable = { communism_coalition = 0 }
		set_variable = { radical_socialism_coalition = 0 }
		
		set_politics = { ruling_party = radical_socialism elections_allowed = no }
		add_ideas = allow_one_party_law
		add_timed_idea = { idea = RUS_weak_state_suppression_apparatus_2 days = 360 }
		remove_ideas_with_trait = head_of_government_trait
		remove_ideas_with_trait = foreign_minister_trait
		remove_ideas_with_trait = economy_minister_trait
		remove_ideas_with_trait = security_minister_trait
		remove_ideas_with_trait = head_of_intel_trait
		add_ideas = {
			Prosh_Proshian_2
			Isaac_Steinberg_3
			Vladimir_Karelin_4
			Vyacheslav_Aleksandrovich_5
			Mikhail_Muravyov_6
			Mikhail_Muravyov_army_chief
		}
		if = {
			limit = { has_country_leader = { name = "Maria Spiridonova" ruling_only = yes } }
			add_ideas = Maria_Spiridonova_1
			else = {
				add_ideas = Boris_Kamkov_1
			}
		}
		clr_country_flag = RUS_left_SR_rise_in_progress
		clr_country_flag = left_esser_captured_VCHK
		clr_country_flag = left_esser_captured_power_station
		clr_country_flag = left_esser_captured_telegraph
		clr_country_flag = left_esser_first_attack
		clr_country_flag = left_esser_second_attack
		clr_country_flag = left_esser_third_attack
		clear_variable = RUS_bolsheviks_using_soilders
		clear_variable = RUS_bolsheviks_using_workers
		clear_variable = RUS_left_SR_Moscow_control
		set_country_flag = RUS_left_SR_revolt
		clr_country_flag = RUS_flag_soviet_power
		add_stability = -0.05
		add_political_power = 50
		add_popularity = {
			ideology = communism
			popularity = -0.15
		}
		#if = {
			#limit = { NOT = { has_completed_focus = RUS_left_eser_focus } }
			#complete_national_focus = RUS_left_eser_focus
		#}
	}
}

# Начало противостояния в столице (бои в Москве; Мятеж левых эсеров/Восстание левых эсеров)
country_event = {
	id = rcw_bolsheviks.61
	title = rcw_bolsheviks.61.t
	desc = { trigger = { has_country_flag = left_esser_arrested } text = rcw_bolsheviks.61.desc }
	desc = { trigger = { NOT = { has_country_flag = left_esser_arrested } } text = rcw_bolsheviks.61.desc_not }
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = RUS_left_SR_rise_in_progress
			set_variable = { communism_coalition = 0 }
			set_variable = { radical_socialism_coalition = 0 }
			remove_ideas_with_trait = radical_socialist_counselor
			set_country_flag = left_esser_first_attack
			if = {
				limit = { NOT = { has_variable = RUS_left_SR_Moscow_control } }
				set_variable = { var = RUS_left_SR_Moscow_control value = 0 }
			}
			if = {
				limit = { NOT = { has_variable = RUS_bolsheviks_using_workers } }
				set_variable = { var = RUS_bolsheviks_using_workers value = 0 }
			}
			if = {
				limit = { NOT = { has_variable = RUS_bolsheviks_using_soilders } }
				set_variable = { var = RUS_bolsheviks_using_soilders value = 0 }
			}
			if = {
				limit = { NOT = { has_country_flag = black_guard_destroyed } }
				add_to_variable = { var = RUS_left_SR_Moscow_control value = 1 }
			}
		}
		if = {
			limit = { has_country_flag = left_esser_captured_power_station }
			custom_effect_tooltip = rcw_bolsheviks.61.power_captured
			else = {
				custom_effect_tooltip = rcw_bolsheviks.61.power
			}
		}
		if = {
			limit = { has_country_flag = left_esser_captured_telegraph }
			custom_effect_tooltip = rcw_bolsheviks.61.telegraph_captured
			else = {
				custom_effect_tooltip = rcw_bolsheviks.61.telegraph
			}
		}
		if = {
			limit = { has_country_flag = left_esser_captured_VCHK }
			custom_effect_tooltip = rcw_bolsheviks.61.VCHK_captured
			else = {
				custom_effect_tooltip = rcw_bolsheviks.61.VCHK
			}
		}
		if = {
			limit = { has_country_flag = left_esser_arrested }
			custom_effect_tooltip = rcw_bolsheviks.61.left_esser_arrested
		}
	}
	
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.61.a
		clr_country_flag = arrested_VCHK
		
		if = {
			limit = { has_country_flag = left_esser_arrested }
			random_list = {
				40 = { country_event = { id = rcw_bolsheviks.62 hours = 2 } }
				30 = { country_event = { id = rcw_bolsheviks.63 hours = 2 } }
				15 = { country_event = { id = rcw_bolsheviks.64 hours = 2 } }
				10 = { country_event = { id = rcw_bolsheviks.65 hours = 2 } }
				5 = { country_event = { id = rcw_bolsheviks.66 hours = 2 } }
			}
			else = {
				country_event = { id = rcw_bolsheviks.66 hours = 2 }
			}
		}
	}
}

# Левые эсеры штурмуют штаб ВЧК
country_event = {
	id = rcw_bolsheviks.62
	title = rcw_bolsheviks.62.t
	desc = rcw_bolsheviks.62.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.62.a
		trigger = { check_variable = { var = RUS_bolsheviks_using_soilders value = 1 compare = less_than } }
		add_to_variable = { var = RUS_bolsheviks_using_soilders value = 1 }
		if = {
			limit = { has_country_flag = left_esser_first_attack }
			country_event = { id = rcw_bolsheviks.67 hours = 2 }
		}
		else_if = {
			limit = { has_country_flag = left_esser_second_attack }
			country_event = { id = rcw_bolsheviks.68 hours = 2 }
		}
		else_if = {
			limit = { has_country_flag = left_esser_third_attack }
			country_event = { id = rcw_bolsheviks.69 hours = 2 }
		}
		ai_chance = {
			factor = 0
		}
	}
	
	option = {
		name = rcw_bolsheviks.62.b
		add_to_variable = { var = RUS_bolsheviks_using_workers value = 1 }
		if = {
			limit = { OR = { check_variable = { RUS_bolsheviks_using_workers < 2 } check_variable = { party_popularity@radical_socialism < party_popularity@communism } } }
			random_list = {
				90 = { }
				10 = { remove_ideas_with_trait = head_of_intel_trait if = { limit = { has_idea = Martyn_Latsis_4 } set_country_flag = Martyn_Latsis_arrested else_if = { limit = { has_idea = Felix_Dzerjinsky_5 } set_country_flag = Felix_Dzerjinsky_arrested } add_ideas = Yakov_Peters_4 } set_country_flag = left_esser_captured_VCHK add_to_variable = { var = RUS_left_SR_Moscow_control value = 1 } }
			}
		}
		if = {
			limit = { OR = { check_variable = { var = RUS_bolsheviks_using_workers value = 2 compare = greater_than_or_equals } check_variable = { party_popularity@radical_socialism > party_popularity@communism } } }
			country_event = { id = rcw_bolsheviks.59 hours = 2 }
			else = {
				if = {
					limit = { has_country_flag = left_esser_first_attack }
					country_event = { id = rcw_bolsheviks.67 hours = 2 }
				}
				else_if = {
					limit = { has_country_flag = left_esser_second_attack }
					country_event = { id = rcw_bolsheviks.68 hours = 2 }
				}
				else_if = {
					limit = { has_country_flag = left_esser_third_attack }
					country_event = { id = rcw_bolsheviks.69 hours = 2 }
				}
			}
		}
		ai_chance = {
			factor = 99
			modifier = {
				factor = 0
				OR = { check_variable = { var = RUS_bolsheviks_using_workers value = 2 compare = greater_than_or_equals } check_variable = { party_popularity@radical_socialism > party_popularity@communism } }
			}
		}
	}
	
	option = {
		name = rcw_bolsheviks.62.c
		random_list = {
			5 = { }
			95 = { remove_ideas_with_trait = head_of_intel_trait if = { limit = { has_idea = Martyn_Latsis_4 } set_country_flag = Martyn_Latsis_arrested else_if = { limit = { has_idea = Felix_Dzerjinsky_5 } set_country_flag = Felix_Dzerjinsky_arrested } add_ideas = Yakov_Peters_4 } set_country_flag = left_esser_captured_VCHK add_to_variable = { var = RUS_left_SR_Moscow_control value = 1 } }
		}
		if = {
			limit = { has_country_flag = left_esser_first_attack }
			country_event = { id = rcw_bolsheviks.67 hours = 2 }
		}
		else_if = {
			limit = { has_country_flag = left_esser_second_attack }
			country_event = { id = rcw_bolsheviks.68 hours = 2 }
		}
		else_if = {
			limit = { has_country_flag = left_esser_third_attack }
			country_event = { id = rcw_bolsheviks.69 hours = 2 }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { check_variable = { var = RUS_bolsheviks_using_workers value = 2 compare = greater_than_or_equals } check_variable = { party_popularity@radical_socialism > party_popularity@communism } }
			}
		}
	}
}

# Левые эсеры штурмуют телеграф
country_event = {
	id = rcw_bolsheviks.63
	title = rcw_bolsheviks.63.t
	desc = rcw_bolsheviks.63.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
	}
	
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.63.a
		trigger = { check_variable = { var = RUS_bolsheviks_using_soilders value = 1 compare = less_than } }
		add_to_variable = { var = RUS_bolsheviks_using_soilders value = 1 }
		if = {
			limit = { has_country_flag = left_esser_first_attack }
			country_event = { id = rcw_bolsheviks.67 hours = 2 }
		}
		else_if = {
			limit = { has_country_flag = left_esser_second_attack }
			country_event = { id = rcw_bolsheviks.68 hours = 2 }
		}
		else_if = {
			limit = { has_country_flag = left_esser_third_attack }
			country_event = { id = rcw_bolsheviks.69 hours = 2 }
		}
		ai_chance = {
			factor = 0
		}
	}
	
	option = {
		name = rcw_bolsheviks.63.b
		add_to_variable = { var = RUS_bolsheviks_using_workers value = 1 }
		if = {
			limit = { OR = { check_variable = { RUS_bolsheviks_using_workers < 2 } check_variable = { party_popularity@radical_socialism < party_popularity@communism } } }
			random_list = {
				80 = { }
				20 = { set_country_flag = left_esser_captured_telegraph add_to_variable = { var = RUS_left_SR_Moscow_control value = 1 } }
			}
		}
		if = {
			limit = { OR = { check_variable = { var = RUS_bolsheviks_using_workers value = 2 compare = greater_than_or_equals } check_variable = { party_popularity@radical_socialism > party_popularity@communism } } }
			country_event = { id = rcw_bolsheviks.59 hours = 2 }
			else = {
				if = {
					limit = { has_country_flag = left_esser_first_attack }
					country_event = { id = rcw_bolsheviks.67 hours = 2 }
				}
				else_if = {
					limit = { has_country_flag = left_esser_second_attack }
					country_event = { id = rcw_bolsheviks.68 hours = 2 }
				}
				else_if = {
					limit = { has_country_flag = left_esser_third_attack }
					country_event = { id = rcw_bolsheviks.69 hours = 2 }
				}
			}
		}
		ai_chance = {
			factor = 0
		}
	}
	
	option = {
		name = rcw_bolsheviks.63.c
		set_country_flag = left_esser_captured_telegraph
		add_to_variable = { var = RUS_left_SR_Moscow_control value = 1 }
		if = {
			limit = { has_country_flag = left_esser_first_attack }
			country_event = { id = rcw_bolsheviks.67 hours = 2 }
		}
		else_if = {
			limit = { has_country_flag = left_esser_second_attack }
			country_event = { id = rcw_bolsheviks.68 hours = 2 }
		}
		else_if = {
			limit = { has_country_flag = left_esser_third_attack }
			country_event = { id = rcw_bolsheviks.69 hours = 2 }
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Левые эсеры штурмуют электростанцию
country_event = {
	id = rcw_bolsheviks.64
	title = rcw_bolsheviks.64.t
	desc = rcw_bolsheviks.64.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
	}
	
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.64.a
		trigger = { check_variable = { var = RUS_bolsheviks_using_soilders value = 1 compare = less_than } }
		add_to_variable = { var = RUS_bolsheviks_using_soilders value = 1 }
		if = {
			limit = { has_country_flag = left_esser_first_attack }
			country_event = { id = rcw_bolsheviks.67 hours = 2 }
		}
		else_if = {
			limit = { has_country_flag = left_esser_second_attack }
			country_event = { id = rcw_bolsheviks.68 hours = 2 }
		}
		else_if = {
			limit = { has_country_flag = left_esser_third_attack }
			country_event = { id = rcw_bolsheviks.69 hours = 2 }
		}
		ai_chance = {
			factor = 0
		}
	}
	
	option = {
		name = rcw_bolsheviks.64.b
		add_to_variable = { var = RUS_bolsheviks_using_workers value = 1 }
		if = {
			limit = { OR = { check_variable = { RUS_bolsheviks_using_workers < 2 } check_variable = { party_popularity@radical_socialism < party_popularity@communism } } }
			random_list = {
				80 = { }
				20 = { set_country_flag = left_esser_captured_power_station add_to_variable = { var = RUS_left_SR_Moscow_control value = 1 } }
			}
		}
		if = {
			limit = { OR = { check_variable = { var = RUS_bolsheviks_using_workers value = 2 compare = greater_than_or_equals } check_variable = { party_popularity@radical_socialism > party_popularity@communism } } }
			country_event = { id = rcw_bolsheviks.59 hours = 2 }
			else = {
				if = {
					limit = { has_country_flag = left_esser_first_attack }
					country_event = { id = rcw_bolsheviks.67 hours = 2 }
				}
				else_if = {
					limit = { has_country_flag = left_esser_second_attack }
					country_event = { id = rcw_bolsheviks.68 hours = 2 }
				}
				else_if = {
					limit = { has_country_flag = left_esser_third_attack }
					country_event = { id = rcw_bolsheviks.69 hours = 2 }
				}
			}
		}
		ai_chance = {
			factor = 0
		}
	}
	
	option = {
		name = rcw_bolsheviks.64.c
		set_country_flag = left_esser_captured_power_station
		add_to_variable = { var = RUS_left_SR_Moscow_control value = 1 }
		if = {
			limit = { has_country_flag = left_esser_first_attack }
			country_event = { id = rcw_bolsheviks.67 hours = 2 }
		}
		else_if = {
			limit = { has_country_flag = left_esser_second_attack }
			country_event = { id = rcw_bolsheviks.68 hours = 2 }
		}
		else_if = {
			limit = { has_country_flag = left_esser_third_attack }
			country_event = { id = rcw_bolsheviks.69 hours = 2 }
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Левые эсеры пытаются освободить свою фракцию
country_event = {
	id = rcw_bolsheviks.65
	title = rcw_bolsheviks.65.t
	desc = rcw_bolsheviks.65.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
	}
	
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.65.a
		trigger = { check_variable = { var = RUS_bolsheviks_using_soilders value = 1 compare = less_than } }
		add_to_variable = { var = RUS_bolsheviks_using_soilders value = 1 }
		if = {
			limit = { has_country_flag = left_esser_first_attack }
			country_event = { id = rcw_bolsheviks.67 hours = 2 }
		}
		else_if = {
			limit = { has_country_flag = left_esser_second_attack }
			country_event = { id = rcw_bolsheviks.68 hours = 2 }
		}
		else_if = {
			limit = { has_country_flag = left_esser_third_attack }
			country_event = { id = rcw_bolsheviks.69 hours = 2 }
		}
		ai_chance = {
			factor = 0
		}
	}
	
	option = {
		name = rcw_bolsheviks.65.b
		add_to_variable = { var = RUS_bolsheviks_using_workers value = 1 }
		if = {
			limit = { OR = { check_variable = { RUS_bolsheviks_using_workers < 2 } check_variable = { party_popularity@radical_socialism < party_popularity@communism } } }
			random_list = {
				80 = { }
				20 = { clr_country_flag = left_esser_arrested kill_ideology_leader = radical_socialism }
			}
		}
		if = {
			limit = { OR = { check_variable = { var = RUS_bolsheviks_using_workers value = 2 compare = greater_than_or_equals } check_variable = { party_popularity@radical_socialism > party_popularity@communism } } }
			country_event = { id = rcw_bolsheviks.59 hours = 2 }
			else = {
				if = {
					limit = { has_country_flag = left_esser_first_attack }
					country_event = { id = rcw_bolsheviks.67 hours = 2 }
				}
				else_if = {
					limit = { has_country_flag = left_esser_second_attack }
					country_event = { id = rcw_bolsheviks.68 hours = 2 }
				}
				else_if = {
					limit = { has_country_flag = left_esser_third_attack }
					country_event = { id = rcw_bolsheviks.69 hours = 2 }
				}
			}
		}
		ai_chance = {
			factor = 0
		}
	}
	
	option = {
		name = rcw_bolsheviks.65.c
		random_list = {
			40 = { }
			40 = { clr_country_flag = left_esser_arrested add_to_variable = { var = RUS_left_SR_Moscow_control value = 0.5 } kill_ideology_leader = radical_socialism }
			20 = { clr_country_flag = left_esser_arrested add_to_variable = { var = RUS_left_SR_Moscow_control value = 1 } }
		}
		if = {
			limit = { has_country_flag = left_esser_first_attack }
			country_event = { id = rcw_bolsheviks.67 hours = 2 }
		}
		else_if = {
			limit = { has_country_flag = left_esser_second_attack }
			country_event = { id = rcw_bolsheviks.68 hours = 2 }
		}
		else_if = {
			limit = { has_country_flag = left_esser_third_attack }
			country_event = { id = rcw_bolsheviks.69 hours = 2 }
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Левые эсеры штурмуют Кремль
country_event = {
	id = rcw_bolsheviks.66
	title = rcw_bolsheviks.66.t
	desc = rcw_bolsheviks.66.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
	}
	
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.66.a
		add_to_variable = { var = RUS_bolsheviks_using_soilders value = 1 }
		if = {
			limit = { has_country_flag = left_esser_arrested check_variable = { var = RUS_bolsheviks_using_soilders value = 2 compare = greater_than_or_equals } }
			country_event = { id = rcw_bolsheviks.59 hours = 2 }
		}
		else_if = {
			limit = { has_country_flag = left_esser_arrested check_variable = { var = RUS_bolsheviks_using_soilders value = 2 compare = less_than } has_country_flag = left_esser_first_attack }
			country_event = { id = rcw_bolsheviks.67 hours = 2 }
		}
		else_if = {
			limit = { has_country_flag = left_esser_arrested check_variable = { var = RUS_bolsheviks_using_soilders value = 2 compare = less_than } has_country_flag = left_esser_second_attack }
			country_event = { id = rcw_bolsheviks.68 hours = 2 }
		}
		else_if = {
			limit = { has_country_flag = left_esser_arrested check_variable = { var = RUS_bolsheviks_using_soilders value = 2 compare = less_than } has_country_flag = left_esser_third_attack }
			country_event = { id = rcw_bolsheviks.69 hours = 2 }
		}
		else = {
			random_list = {
				10 = { country_event = { id = rcw_bolsheviks.59 hours = 2 } }
				90 = {
					if = {
						limit = { has_country_flag = left_esser_first_attack }
						country_event = { id = rcw_bolsheviks.67 hours = 2 }
					}
					else_if = {
						limit = { has_country_flag = left_esser_second_attack }
						country_event = { id = rcw_bolsheviks.68 hours = 2 }
					}
					else_if = {
						limit = { has_country_flag = left_esser_third_attack }
						country_event = { id = rcw_bolsheviks.69 hours = 2 }
					}
				}
			}
		}
		ai_chance = {
			factor = 99
			modifier = {
				factor = 0
				check_variable = { var = RUS_bolsheviks_using_soilders value = 2 compare = greater_than_or_equals }
			}
		}
	}
	
	option = {
		name = rcw_bolsheviks.66.b
		add_to_variable = { var = RUS_bolsheviks_using_workers value = 1 }
		if = {
			limit = { OR = { check_variable = { var = RUS_bolsheviks_using_workers value = 2 compare = greater_than_or_equals } check_variable = { party_popularity@radical_socialism > party_popularity@communism } } }
			country_event = { id = rcw_bolsheviks.59 hours = 2 }
		}
		else_if = {
			limit = { OR = { check_variable = { RUS_bolsheviks_using_workers < 2 } check_variable = { party_popularity@radical_socialism < party_popularity@communism } } }
			random_list = {
				20 = { country_event = { id = rcw_bolsheviks.59 hours = 2 } }
				80 = {
					if = {
						limit = { has_country_flag = left_esser_first_attack }
						country_event = { id = rcw_bolsheviks.67 hours = 2 }
					}
					else_if = {
						limit = { has_country_flag = left_esser_second_attack }
						country_event = { id = rcw_bolsheviks.68 hours = 2 }
					}
					else_if = {
						limit = { has_country_flag = left_esser_third_attack }
						country_event = { id = rcw_bolsheviks.69 hours = 2 }
					}
				}
			}
		}
		else = {
			if = {
				limit = { has_country_flag = left_esser_first_attack }
				country_event = { id = rcw_bolsheviks.67 hours = 2 }
			}
			else_if = {
				limit = { has_country_flag = left_esser_second_attack }
				country_event = { id = rcw_bolsheviks.68 hours = 2 }
			}
			else_if = {
				limit = { has_country_flag = left_esser_third_attack }
				country_event = { id = rcw_bolsheviks.69 hours = 2 }
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				check_variable = { var = RUS_bolsheviks_using_soilders value = 2 compare = less_than }
			}
			modifier = {
				factor = 0
				OR = { check_variable = { var = RUS_bolsheviks_using_workers value = 2 compare = greater_than_or_equals } check_variable = { party_popularity@radical_socialism > party_popularity@communism } }
			}
		}
	}
}

# Вторая часть противостояния в столице
country_event = {
	id = rcw_bolsheviks.67
	title = rcw_bolsheviks.67.t
	desc = rcw_bolsheviks.67.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
	}
	
	immediate = {
		clr_country_flag = left_esser_first_attack
		set_country_flag = left_esser_second_attack
		if = {
			limit = { has_country_flag = left_esser_captured_power_station }
			custom_effect_tooltip = rcw_bolsheviks.61.power_captured
			else = {
				custom_effect_tooltip = rcw_bolsheviks.61.power
			}
		}
		if = {
			limit = { has_country_flag = left_esser_captured_telegraph }
			custom_effect_tooltip = rcw_bolsheviks.61.telegraph_captured
			else = {
				custom_effect_tooltip = rcw_bolsheviks.61.telegraph
			}
		}
		if = {
			limit = { has_country_flag = left_esser_captured_VCHK }
			custom_effect_tooltip = rcw_bolsheviks.61.VCHK_captured
			else = {
				custom_effect_tooltip = rcw_bolsheviks.61.VCHK
			}
		}
		if = {
			limit = { has_country_flag = left_esser_arrested }
			custom_effect_tooltip = rcw_bolsheviks.61.left_esser_arrested
		}
	}
	
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.67.a
		if = {
			limit = { has_country_flag = left_esser_captured_VCHK has_country_flag = left_esser_arrested }
			random_list = {
				40 = { country_event = { id = rcw_bolsheviks.63 hours = 2 } }
				30 = { country_event = { id = rcw_bolsheviks.64 hours = 2 } }
				25 = { country_event = { id = rcw_bolsheviks.65 hours = 2 } }
				5 = { country_event = { id = rcw_bolsheviks.66 hours = 2 } }
			}
		}
		else_if = {
			limit = { has_country_flag = left_esser_captured_telegraph has_country_flag = left_esser_arrested }
			random_list = {
				40 = { country_event = { id = rcw_bolsheviks.62 hours = 2 } }
				30 = { country_event = { id = rcw_bolsheviks.64 hours = 2 } }
				25 = { country_event = { id = rcw_bolsheviks.65 hours = 2 } }
				5 = { country_event = { id = rcw_bolsheviks.66 hours = 2 } }
			}
		}
		else_if = {
			limit = { has_country_flag = left_esser_captured_power_station has_country_flag = left_esser_arrested }
			random_list = {
				40 = { country_event = { id = rcw_bolsheviks.62 hours = 2 } }
				30 = { country_event = { id = rcw_bolsheviks.63 hours = 2 } }
				25 = { country_event = { id = rcw_bolsheviks.65 hours = 2 } }
				5 = { country_event = { id = rcw_bolsheviks.66 hours = 2 } }
			}
		}
		else_if = {
			limit = { has_country_flag = left_esser_captured_VCHK }
			random_list = {
				50 = { country_event = { id = rcw_bolsheviks.63 hours = 2 } }
				40 = { country_event = { id = rcw_bolsheviks.64 hours = 2 } }
				10 = { country_event = { id = rcw_bolsheviks.66 hours = 2 } }
			}
		}
		else_if = {
			limit = { has_country_flag = left_esser_captured_telegraph }
			random_list = {
				50 = { country_event = { id = rcw_bolsheviks.62 hours = 2 } }
				40 = { country_event = { id = rcw_bolsheviks.64 hours = 2 } }
				10 = { country_event = { id = rcw_bolsheviks.66 hours = 2 } }
			}
		}
		else_if = {
			limit = { has_country_flag = left_esser_captured_power_station }
			random_list = {
				50 = { country_event = { id = rcw_bolsheviks.62 hours = 2 } }
				40 = { country_event = { id = rcw_bolsheviks.63 hours = 2 } }
				10 = { country_event = { id = rcw_bolsheviks.66 hours = 2 } }
			}
		}
		else_if = {
			limit = { has_country_flag = left_esser_arrested }
			random_list = {
				40 = { country_event = { id = rcw_bolsheviks.62 hours = 2 } }
				30 = { country_event = { id = rcw_bolsheviks.63 hours = 2 } }
				15 = { country_event = { id = rcw_bolsheviks.64 hours = 2 } }
				10 = { country_event = { id = rcw_bolsheviks.65 hours = 2 } }
				5 = { country_event = { id = rcw_bolsheviks.66 hours = 2 } }
			}
		}
		else = {
			random_list = {
				40 = { country_event = { id = rcw_bolsheviks.62 hours = 2 } }
				30 = { country_event = { id = rcw_bolsheviks.63 hours = 2 } }
				25 = { country_event = { id = rcw_bolsheviks.64 hours = 2 } }
				5 = { country_event = { id = rcw_bolsheviks.66 hours = 2 } }
			}
		}
	}
}

# Третья часть противостояния в столице
country_event = {
	id = rcw_bolsheviks.68
	title = rcw_bolsheviks.68.t
	desc = rcw_bolsheviks.68.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
	}
	
	immediate = {
		clr_country_flag = left_esser_second_attack
		set_country_flag = left_esser_third_attack
		if = {
			limit = { has_country_flag = left_esser_captured_power_station }
			custom_effect_tooltip = rcw_bolsheviks.61.power_captured
			else = {
				custom_effect_tooltip = rcw_bolsheviks.61.power
			}
		}
		if = {
			limit = { has_country_flag = left_esser_captured_telegraph }
			custom_effect_tooltip = rcw_bolsheviks.61.telegraph_captured
			else = {
				custom_effect_tooltip = rcw_bolsheviks.61.telegraph
			}
		}
		if = {
			limit = { has_country_flag = left_esser_captured_VCHK }
			custom_effect_tooltip = rcw_bolsheviks.61.VCHK_captured
			else = {
				custom_effect_tooltip = rcw_bolsheviks.61.VCHK
			}
		}
		if = {
			limit = { has_country_flag = left_esser_arrested }
			custom_effect_tooltip = rcw_bolsheviks.61.left_esser_arrested
		}
	}
	
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.68.a
		if = {
			limit = { has_country_flag = left_esser_captured_VCHK has_country_flag = left_esser_captured_telegraph has_country_flag = left_esser_arrested }
			random_list = {
				50 = { country_event = { id = rcw_bolsheviks.64 hours = 2 } }
				45 = { country_event = { id = rcw_bolsheviks.65 hours = 2 } }
				5 = { country_event = { id = rcw_bolsheviks.66 hours = 2 } }
			}
		}
		else_if = {
			limit = { has_country_flag = left_esser_captured_VCHK has_country_flag = left_esser_captured_power_station has_country_flag = left_esser_arrested }
			random_list = {
				50 = { country_event = { id = rcw_bolsheviks.62 hours = 2 } }
				45 = { country_event = { id = rcw_bolsheviks.65 hours = 2 } }
				5 = { country_event = { id = rcw_bolsheviks.66 hours = 2 } }
			}
		}
		else_if = {
			limit = { has_country_flag = left_esser_captured_power_station has_country_flag = left_esser_captured_telegraph has_country_flag = left_esser_arrested }
			random_list = {
				50 = { country_event = { id = rcw_bolsheviks.62 hours = 2 } }
				45 = { country_event = { id = rcw_bolsheviks.65 hours = 2 } }
				5 = { country_event = { id = rcw_bolsheviks.66 hours = 2 } }
			}
		}
		else_if = {
			limit = { has_country_flag = left_esser_captured_VCHK has_country_flag = left_esser_captured_telegraph }
			random_list = {
				50 = { country_event = { id = rcw_bolsheviks.64 hours = 2 } }
				50 = { country_event = { id = rcw_bolsheviks.66 hours = 2 } }
			}
		}
		else_if = {
			limit = { has_country_flag = left_esser_captured_VCHK has_country_flag = left_esser_captured_power_station }
			random_list = {
				50 = { country_event = { id = rcw_bolsheviks.62 hours = 2 } }
				50 = { country_event = { id = rcw_bolsheviks.66 hours = 2 } }
			}
		}
		else_if = {
			limit = { has_country_flag = left_esser_captured_power_station has_country_flag = left_esser_captured_telegraph }
			random_list = {
				50 = { country_event = { id = rcw_bolsheviks.62 hours = 2 } }
				50 = { country_event = { id = rcw_bolsheviks.66 hours = 2 } }
			}
		}
		else_if = {
			limit = { has_country_flag = left_esser_arrested }
			random_list = {
				40 = { country_event = { id = rcw_bolsheviks.62 hours = 2 } }
				30 = { country_event = { id = rcw_bolsheviks.63 hours = 2 } }
				15 = { country_event = { id = rcw_bolsheviks.64 hours = 2 } }
				10 = { country_event = { id = rcw_bolsheviks.65 hours = 2 } }
				5 = { country_event = { id = rcw_bolsheviks.66 hours = 2 } }
			}
		}
		else = {
			random_list = {
				40 = { country_event = { id = rcw_bolsheviks.62 hours = 2 } }
				30 = { country_event = { id = rcw_bolsheviks.63 hours = 2 } }
				25 = { country_event = { id = rcw_bolsheviks.64 hours = 2 } }
				5 = { country_event = { id = rcw_bolsheviks.66 hours = 2 } }
			}
		}
	}
}

# Итог мятежа эсеров
country_event = {
	id = rcw_bolsheviks.69
	title = rcw_bolsheviks.69.t
	desc = rcw_bolsheviks.69.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
	}
	
	immediate = {
		clr_country_flag = left_esser_third_attack
		clr_country_flag = RUS_left_SR_rise_in_progress
		if = {
			limit = {
				AND = {
					OR = {
						check_variable = { var = RUS_left_SR_Moscow_control value = 2 compare = greater_than_or_equals }
						check_variable = { party_popularity@radical_socialism > party_popularity@communism }
					}
					NOT = { has_completed_focus = RUS_red_interbrigades }
				}
			}
			custom_effect_tooltip = rcw_bolsheviks.69.desc_def
		}
		else_if = {
			limit = {
				AND = {
					NOT = {
						check_variable = { var = RUS_left_SR_Moscow_control value = 2 compare = greater_than_or_equals }
						check_variable = { party_popularity@radical_socialism > party_popularity@communism }
					}
					NOT = { has_completed_focus = RUS_red_interbrigades }
				}
			}
			custom_effect_tooltip = rcw_bolsheviks.69.desc_vic
		}
		else_if = {
			limit = {
				AND = {
					check_variable = { var = RUS_left_SR_Moscow_control value = 3 compare = greater_than_or_equals }
					check_variable = { party_popularity@radical_socialism > party_popularity@communism }
					has_completed_focus = RUS_red_interbrigades
				}
			}
			custom_effect_tooltip = rcw_bolsheviks.69.desc_def_inter
		}
		else = {
			custom_effect_tooltip = rcw_bolsheviks.69.desc_vic_inter
		}
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.69.a
		if = {
			limit = {
				OR = {
					AND = {
						OR = {
							check_variable = { var = RUS_left_SR_Moscow_control value = 2 compare = greater_than_or_equals }
							check_variable = { party_popularity@radical_socialism > party_popularity@communism }
						}
						NOT = { has_completed_focus = RUS_red_interbrigades }
					}
					AND = {
						check_variable = { var = RUS_left_SR_Moscow_control value = 3 compare = greater_than_or_equals }
						check_variable = { party_popularity@radical_socialism > party_popularity@communism }
						has_completed_focus = RUS_red_interbrigades
					}
				}
			}
			set_politics = { ruling_party = radical_socialism elections_allowed = no }
			remove_ideas_with_trait = head_of_government_trait
			remove_ideas_with_trait = foreign_minister_trait
			remove_ideas_with_trait = economy_minister_trait
			remove_ideas_with_trait = security_minister_trait
			remove_ideas_with_trait = head_of_intel_trait
			add_ideas = allow_one_party_law
			add_timed_idea = { idea = RUS_weak_state_suppression_apparatus_2 days = 360 }
			if = {
				limit = { has_country_flag = left_esser_arrested }
				kill_ideology_leader = radical_socialism
				clr_country_flag = left_esser_arrested
			}
			if = {
				limit = { has_country_leader = { name = "Maria Spiridonova" ruling_only = yes } }
				add_ideas = {
					Maria_Spiridonova_1
					Prosh_Proshian_2
					Isaac_Steinberg_3
					Vladimir_Karelin_4
					Vyacheslav_Aleksandrovich_5
					Mikhail_Muravyov_6
					Mikhail_Muravyov_army_chief
				}
				else = {
					add_ideas = {
						Boris_Kamkov_1
						Prosh_Proshian_2
						Isaac_Steinberg_3
						Vladimir_Karelin_4
						Vyacheslav_Aleksandrovich_5
						Mikhail_Muravyov_6
						Mikhail_Muravyov_army_chief
					}
				}
			}
			clr_country_flag = RUS_left_SR_rise_in_progress
			clear_variable = RUS_bolsheviks_using_soilders
			clear_variable = RUS_bolsheviks_using_workers
			clear_variable = RUS_left_SR_Moscow_control
			set_country_flag = RUS_left_SR_revolt
			clr_country_flag = RUS_flag_soviet_power
			add_stability = -0.05
			add_political_power = 50
			add_popularity = {
				ideology = communism
				popularity = -0.15
			}
			#if = {
				#limit = { NOT = { has_completed_focus = RUS_left_eser_focus } }
				#complete_national_focus = RUS_left_eser_focus
			#}
			country_event = { id = rcw_bolsheviks.54 hours = 5 }
			else = {
				set_politics = { ruling_party = communism elections_allowed = no }
				remove_ideas_with_trait = radical_socialist_counselor
				set_country_flag = RUS_left_SR_revolt_suppose
				clr_country_flag = Felix_Dzerjinsky_arrested
				clr_country_flag = Martyn_Latsis_arrested
				clr_country_flag = RUS_left_SR_rise_in_progress
				clr_country_flag = left_esser_arrested
				clear_variable = RUS_bolsheviks_using_soilders
				clear_variable = RUS_bolsheviks_using_workers
				clear_variable = RUS_left_SR_Moscow_control
				add_stability = -0.05
				add_political_power = 50
				add_ideas = allow_one_party_law
				add_popularity = {
					ideology = radical_socialism
					popularity = -0.15
				}
				country_event = { id = rcw_bolsheviks.30 hours = 5 }
			}
		}
	}
}

# Мятеж Муравьёва
country_event = {
	id = rcw_bolsheviks.71
	title = rcw_bolsheviks.71.t
	desc = rcw_bolsheviks.71.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		has_start_date < 1918.7.2
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
		NOT = { has_global_flag = RUS_civil_war_over }
		any_unit_leader = { has_id = 77426 }
		OR = {
			has_country_flag = RUS_left_SR_revolt_suppose
			CCA = { has_country_flag = main_left_essers_is_here }
		}
		#CCA = {
			#exists = yes
			#OR = { has_government = radical_socialism has_government = social_liberalism }
		#}
	}
	
	immediate = {
		hidden_effect = {
			every_unit_leader = { limit = { OR = { has_id = 77426 } } set_nationality = REB }
			add_timed_idea = { idea = red_army_is_weakened days = 25 }
		}
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = rcw_bolsheviks.71.a
		random_list = {
			50 = { country_event = { id = rcw_bolsheviks.72 days = 1 } }
			50 = { country_event = { id = rcw_bolsheviks.73 days = 1 } modifier = { factor = 0 VLG = { exists = yes } } }
		}
	}
}
# Мятеж Муравьёва подавлен
country_event = {
	id = rcw_bolsheviks.72
	title = rcw_bolsheviks.72.t
	desc = rcw_bolsheviks.72.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.72.a
		REB = { every_unit_leader = { limit = { OR = { has_id = 77426 } } remove_unit_leader = yes } }
		set_country_flag = Mikhail_Muravyov_dead
	}
}
# Мятеж Муравьёва успешен
country_event = {
	id = rcw_bolsheviks.73
	title = rcw_bolsheviks.73.t
	desc = rcw_bolsheviks.73.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = { any_neighbor_country = { OR = { is_former_russian_empire_settled_non_cossack_country = yes former_russian_empire_cossack_country = yes } has_war_with = ROOT } }
				every_state = {
					limit = {
						is_owned_by = ROOT
						is_controlled_by = ROOT
						is_in_home_area = yes
						any_neighbor_state = { CONTROLLER = { OR = { is_former_russian_empire_settled_non_cossack_country = yes former_russian_empire_cossack_country = yes } has_war_with = ROOT } }
						is_on_continent = europe
						OR = {
							region = 40
							region = 137
							region = 231
						}
					}
					save_event_target_as = RUS_state_mutiny_VLG
				}
				else = {
					every_state = {
						limit = {
							is_owned_by = ROOT
							is_controlled_by = ROOT
							is_in_home_area = yes
							any_neighbor_state = { NOT = { is_owned_by = ROOT is_controlled_by = ROOT } }
							is_on_continent = europe
							OR = {
								region = 40
								region = 137
								region = 231
							}
						}
						save_event_target_as = RUS_state_mutiny_VLG
					}
				}
			}
			every_unit_leader = { limit = { OR = { has_id = 19188 } } remove_unit_leader = yes }
		}
	}
	
	option = {
		name = rcw_bolsheviks.73.a
		add_to_variable = {
			var = global.RCW_green_var_Russian_SFSR
			value = 2
		}
		VLG = {
			if = {
				limit = { ROOT = { controls_state = 250 } any_state = { region = 40 CONTROLLER = { has_war_with = ROOT NOT = { tag = ROOT } } } }
				every_state = {
					limit = {
						OR = {
							state = 239
							state = 250
							state = 251
							state = 1070
							state = 1071
							state = 1072
							state = 401
							state = 217
							state = 920
							state = 1261
							state = 237
							state = 236
							state = 407
							state = 406
							state = 402
							state = 587
							state = 652
							state = 651
							state = 1299
							state = 1072
							state = 1069
							state = 1068
						}
						is_core_of = ROOT
					}
					add_core_of = PREV
				}
				transfer_state = 250
				else = {
					transfer_state = event_target:RUS_state_mutiny_VLG
					random_state = {
						limit = { state = event_target:RUS_state_mutiny_VLG }
						add_core_of = PREV
					}
					every_state = {
						limit = {
							is_owned_by = ROOT
							is_controlled_by = PREV
						}
						add_core_of = PREV
						every_neighbor_state = {
							limit = {
								is_core_of = ROOT
							}
							add_core_of = PREV.PREV
							every_neighbor_state = {
								limit = { is_core_of = ROOT }
								add_core_of = PREV.PREV.PREV
							}
						}
					}
				}
			}
			create_country_leader = { name = "Mikhail Muravyov" desc = RUS_Mikhail_Muravyov_DESC picture = "gfx/leaders/SOV/Portrait_Mikhail_Muravyov.dds" ideology = anarchist_communism traits = { isolationist_revolutionary } }
			set_politics = { ruling_party = radical_socialism elections_allowed = no }
			load_focus_tree = Muravyov_mutiny_focus
			add_ideas = neutral_foreign_policy_law
			REB = { every_unit_leader = { limit = { OR = { has_id = 77426 } } set_nationality = PREV.PREV } }
			add_ideas = military_dictatorship_gov_form
			add_ideas = federal_gov_terr
			add_ideas = local_assembly_decisions_b_law
			add_ideas = allow_one_party_law
			add_ideas = ideological_expansion_law
			add_ideas = workers_control_law
			add_ideas = low_economic_mobilisation
			add_ideas = volunteer_only
			add_ideas = RUS_new_red_army_idea
			add_ideas = weak_centralization_idea
			add_ideas = VLG_sympathy_of_the_peasants
			add_ideas = VLG_not_quite_red
			add_ideas = hyper_inflation_1
			add_ideas = collapse_of_railway_system_1
			add_ideas = lack_of_officers_5
			inherit_technology = ROOT
			remove_all_foreing_locked_templates_from_liberated_country = yes
			division_template = {
				name = "Pekhotnaya brigada"
				regiments = {
					militia = { x = 0 y = 0 }
					militia = { x = 0 y = 1 }
				}
			}
			division_template = {
				name = "Kavaleriyskaya brigada"
				regiments = {
					cavalry = { x = 0 y = 0 }
					cavalry = { x = 0 y = 1 }
				}
			}
			ROOT = {
				transfer_units_fraction= {
					target = PREV
					size = 0.1
					stockpile_ratio = 0.1
					army_ratio = 0.1
					navy_ratio = 0.0
					air_ratio = 0.0
					keep_unit_leaders_trigger = {
						always = yes
					}
				}
			}
			declare_war_on = {
				target = ROOT
				type = annex_everything
			}
			every_country = {
				limit = { OR = { is_former_russian_empire_settled_non_cossack_country = yes former_russian_empire_cossack_country = yes } has_war_with = ROOT NOT = { original_tag = CCA has_government = social_liberalism } }
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
			#if = {
				#limit = { CCA = { exists = yes OR = { has_government = radical_socialism has_government = social_liberalism } } }
				#CCA = { country_event = { id = rcw_bolsheviks.74 days = 1 } }
			#}
			hidden_effect = {
				every_country = {
					limit = {
						NOT = {
							tag = PREV
							is_any_former_russian_empire_country = yes
							former_russian_empire_baltic_states_country = yes
							has_war_with = PREV
							is_in_faction_with = PREV
						}
					}
					set_THIS_country_non_recognize_PREV = yes
				}
			}
		}
	}
}
# Муравьёв просится командиром в эсеровский КОМУЧ
country_event = {
	id = rcw_bolsheviks.74
	title = rcw_bolsheviks.74.t
	desc = rcw_bolsheviks.74.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.74.a
		trigger = { NOT = { OR = { has_government = radical_socialism has_country_flag = main_left_essers_is_here } } }
		declare_war_on = {
			target = VLG
			type = annex_everything
		}
	}
	
	option = {
		name = rcw_bolsheviks.74.b
		add_popularity = {
			ideology = radical_socialism
			popularity = 0.1
		}
		VLG = { every_unit_leader = { limit = { OR = { has_id = 77426 } } set_nationality = CCA } }
		annex_country = { target = VLG transfer_troops = yes }
		every_state = {
				limit = {
					is_core_of = VLG
			}
			remove_core_of = VLG
		}
	}
}

# Протест умеренных социалистических партий
country_event = {
	id = rcw_bolsheviks.102
	title = rcw_bolsheviks.102.t
	desc = rcw_bolsheviks.102.desc
	picture = GFX_report_event_sov_protest_of_moderate_socialists_against_the_bolsheviksv
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	#Отказ от переговоров и переход к однопартийной социалистической диктатуры, Они сами отказались участвовать в революции!
	option = {
		name = rcw_bolsheviks.102.a
		country_event = { id = rcw_bolsheviks.103 hours = 6 }
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	#Согласие
	option = {
		name = rcw_bolsheviks.102.b
		country_event = { id = rcw_bolsheviks.104 days = 4 }
		ai_chance = {
			factor = 4
		}
	}
}

# Однопартийное правительство
country_event = {
	id = rcw_bolsheviks.103
	title = rcw_bolsheviks.103.t
	desc = rcw_bolsheviks.103.desc
	picture = GFX_report_event_sov_left_socialist-revolutionary_insurrection
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.103.a
		hidden_effect = {
			set_variable = { communism_coalition = 0 }
		}
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
		set_country_flag = right_parties_is_illegal
		add_ideas = allow_one_party_law
		add_political_power = 25
		add_stability = -0.1
		custom_effect_tooltip = add_3_left_to_CC
		hidden_effect = {
			add_to_variable = { var = left_faction_CC value = 3 }
			subtract_from_variable = { var = moderate_faction_CC value = 3 }
			check_overlap_of_CC_n_CEC_deputies_add = yes
			set_frame_of_CC_n_CEC = yes
		}
	}
}

# Переговоры о коалиционном правительстве
country_event = {
	id = rcw_bolsheviks.104
	title = rcw_bolsheviks.104.t
	desc = rcw_bolsheviks.104.desc
	picture = GFX_report_event_sov_protest_bolsheviks_and_ms_coalition_treatry
	
	is_triggered_only = yes
	
	# С левыми эсерами
	option = {
		name = rcw_bolsheviks.104.a
		hidden_effect = { country_event = { id = rcw_bolsheviks.105 hours = 72 } }
		ai_chance = {
			factor = 2
		}
	}
	
	# Со всеми
	option = {
		trigger = {
			OR = {
				check_variable = { percent_moderate_n_right_faction_CC > 0.4 }
				has_country_flag = RUS_post_October_military_affair_not_so_easy_to_supress
			}
		}
		name = rcw_bolsheviks.104.b
		hidden_effect = { country_event = { id = rcw_bolsheviks.106 hours = 72 } }
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

# Формирование коалиции с левыми эсерами
country_event = {
	id = rcw_bolsheviks.105
	title = rcw_bolsheviks.105.t
	desc = rcw_bolsheviks.105.desc
	picture = GFX_report_event_sov_left_socialist-revolutionary_insurrection
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.105.a
		add_popularity = {
			ideology = radical_socialism
			popularity = 0.05
		}
		set_variable = { radical_socialism_coalition = 1 }
		set_variable = { communism_coalition = 1 }
		set_country_flag = right_parties_is_illegal
		set_country_flag = dont_rise_party_pop_in_two_party_sys_law
		add_ideas = two_party_system_law
		add_ideas = Isaac_Steinberg_5
		add_political_power = 25
		add_stability = 0.1
	}
}

# Формирование однородного социалистического правительства
country_event = {
	id = rcw_bolsheviks.106
	title = rcw_bolsheviks.106.t
	desc = rcw_bolsheviks.106.desc
	picture = GFX_report_event_sov_homogeneous_socialist_government
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.106.a
		create_country_leader = { name = "Grigoriy Zinoviev" desc = SOV_Grigoriy_Zinoviev_DESC picture = "gfx/leaders/SOV/Portrait_Grigoriy_Zinoviev.dds" expire = "1935.1.1" ideology = marxism traits = {  } }
		set_country_flag = homogeneous_socialist_government
		hidden_effect = {
			remove_ideas_with_trait = head_of_government_trait
			remove_ideas_with_trait = foreign_minister_trait
			remove_ideas_with_trait = economy_minister_trait
			remove_ideas_with_trait = security_minister_trait
			remove_ideas_with_trait = head_of_intel_trait
		}
		add_ideas = {
			Yakov_Sverdlov_1
			Irakly_Tsereteli_2
			Viktor_Chernov_3
			Alexey_Rykov_4
			Alexander_Zarudny_5
			Lev_Trotsky_army_chief
		}
		add_ideas = {
			poliparty_system_law
		}
	}
}

# III Всероссийский съезд Советов
country_event = {
	id = rcw_bolsheviks.108
	title = rcw_bolsheviks.108.t
	desc = {
		text = rcw_bolsheviks.108.desc
		trigger = { has_country_flag = RUS_karaul_ustal }
	}
	desc = {
		text = rcw_bolsheviks.108.desc_1
		trigger = { NOT = { has_country_flag = RUS_karaul_ustal } }
	}
	picture = GFX_report_event_sov_3rd-5th_congress_of_soviets_of_russia_and_other
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	immediate = {
		add_to_variable = { var = global.num_of_allrussian_congress_of_soviets value = 1 }
	}
	
	# В случае разгона
	option = {
		name = rcw_bolsheviks.108.a
		trigger = { has_country_flag = RUS_karaul_ustal }
		set_country_flag = RUS_third_allrussian_congress_of_soviets
		if = {
			limit = { has_idea = unitary_gov_terr }
			swap_ideas = {
				remove_idea = unitary_gov_terr
				add_idea = federal_gov_terr
			}
		}
		add_political_power = 50
		add_stability = 0.1
		add_popularity = {
			ideology = social_democracy
			popularity = -0.1
		}
		add_popularity = {
			ideology = social_liberalism
			popularity = -0.1
		}
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
	}
	# В случае легитимизации большевиков на учредительном
	option = {
		name = rcw_bolsheviks.108.b
		trigger = { NOT = { has_country_flag = RUS_karaul_ustal } }
		set_country_flag = RUS_third_allrussian_congress_of_soviets
		if = {
			limit = { has_idea = unitary_gov_terr }
			swap_ideas = {
				remove_idea = unitary_gov_terr
				add_idea = federal_gov_terr
			}
		}
		add_political_power = 50
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
	}
}

# Декрет «Об отмене смертной казни на фронте»
country_event = {
	id = rcw_bolsheviks.110
	title = rcw_bolsheviks.110.t
	desc = rcw_bolsheviks.110.desc
	picture = GFX_report_event_rus_revolt_kerensky-krasnov
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.110.a
		add_popularity = {
			ideology = communism
			popularity = 0.01
		}
		add_war_support = 0.05
		set_country_flag = death_penalty_moratorium
	}
}

# Декрет «О постепенном сокращении численности армии»
country_event = {
	id = rcw_bolsheviks.111
	title = rcw_bolsheviks.111.t
	desc = rcw_bolsheviks.111.desc
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_start_date < 1918.7.2
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1899 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Gvardeyskaya Pekhotnaya Diviziya"
			}
			set_country_flag = RUS_opening_demobilisation
		}
	}
	
	option = {
		name = rcw_bolsheviks.111.a
		add_popularity = {
			ideology = communism
			popularity = 0.01
		}
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1899 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Gvardeyskaya Pekhotnaya Diviziya"
			}
		}
		hidden_effect = { country_event = { id = rcw_bolsheviks.112 days = 6 random = 8 } }
		add_ideas = disarmed_nation
	}
}
# Демобилизация призыва 1900-го года
country_event = {
	id = rcw_bolsheviks.112
	title = rcw_bolsheviks.112.t
	desc = rcw_bolsheviks.112.desc
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		OR = {
			AND = {
				has_country_flag = RUS_Oktober_revolution_fired
				has_country_flag = RUS_opening_demobilisation
			}
			has_country_flag = ODS_demobilisation
		}
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1900 goda"
			}
			ODS = {
				if = {
					limit = {
						exists = yes
						has_template = "Pekhotnaya Diviziya priziva 1900 goda"
					}
					set_country_flag = ODS_demobilisation
					country_event = { id = rcw_bolsheviks.112 days = 30 }
				}
			}
		}
	}
	
	option = {
		name = rcw_bolsheviks.112.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1900 goda"
			}
		}
		set_equipment_fraction = 0.95
		hidden_effect = { country_event = { id = rcw_bolsheviks.113 days = 12 random = 7 } }
	}
}
# Демобилизация призыва 1901-го года
country_event = {
	id = rcw_bolsheviks.113
	title = rcw_bolsheviks.113.t
	desc = rcw_bolsheviks.113.desc
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		OR = {
			AND = {
				has_country_flag = RUS_Oktober_revolution_fired
				has_country_flag = RUS_opening_demobilisation
			}
			has_country_flag = ODS_demobilisation
		}
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1901 goda"
			}
			ODS = {
				if = {
					limit = {
						exists = yes
						has_template = "Pekhotnaya Diviziya priziva 1901 goda"
					}
					set_country_flag = ODS_demobilisation
					country_event = { id = rcw_bolsheviks.113 days = 30 }
				}
			}
		}
	}
	
	option = {
		name = rcw_bolsheviks.113.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1901 goda"
			}
		}
		set_equipment_fraction = 0.95
		clr_country_flag = RUS_opening_demobilisation
	}
}

# Всероссийское совещание по продовольствию, снабжению и демобилизации армии
country_event = {
	id = rcw_bolsheviks.114
	title = rcw_bolsheviks.114.t
	desc = rcw_bolsheviks.114.desc
	picture = GFX_report_event_sov_comitet
	
	trigger = {
		has_start_date < 1918.7.2
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		OR = {
			has_idea = collapse_of_railway_system_1
			has_idea = collapse_of_railway_system_2
			has_idea = collapse_of_railway_system_3
			has_idea = collapse_of_railway_system_4
			has_idea = collapse_of_railway_system_5
		}
		OR = {
			has_idea = foodstuffs_supply_crisis_1
			has_idea = foodstuffs_supply_crisis_2
			has_idea = foodstuffs_supply_crisis_3
			has_idea = foodstuffs_supply_crisis_4
			has_idea = foodstuffs_supply_crisis_5
		}
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 20
	}
	
	option = {
		name = rcw_bolsheviks.114.a
		set_country_flag = central_committee_on_army_supply_and_food
	}
}

# Общеармейский съезд по демобилизации армии
country_event = {
	id = rcw_bolsheviks.115
	title = rcw_bolsheviks.115.t
	desc = {
		text = rcw_bolsheviks.115.desc
		trigger = {
			has_completed_focus = RUS_red_separate_peace
		}
	}
	desc = {
		text = rcw_bolsheviks.115.desc_1
		trigger = {
			NOT = { has_completed_focus = RUS_red_separate_peace }
		}
	}
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	#Начать демобилизацию
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				has_completed_focus = RUS_revolutionary_war
			}
		}
		name = rcw_bolsheviks.115.a
		hidden_effect = { country_event = { id = rcw_bolsheviks.120 days = 14 } }
		hidden_effect = {
			country_event = { id = rcw_bolsheviks.116 days = 1 }
		}
		if = {
			limit = { has_idea = limited_conscription }
			swap_ideas = {
				remove_idea = limited_conscription
				add_idea = volunteer_only
			}
		}
		if = {
			limit = { has_idea = extensive_conscription }
			swap_ideas = {
				remove_idea = extensive_conscription
				add_idea = limited_conscription
			}
		}
		if = {
			limit = { has_idea = service_by_requirement }
			swap_ideas = {
				remove_idea = service_by_requirement
				add_idea = extensive_conscription
			}
		}
		if = {
			limit = { has_idea = all_adults_serve }
			swap_ideas = {
				remove_idea = all_adults_serve
				add_idea = service_by_requirement
			}
		}
		if = {
			limit = { has_idea = scraping_the_barrel }
			swap_ideas = {
				remove_idea = scraping_the_barrel
				add_idea = all_adults_serve
			}
		}
	}
	
	#В полной демобилизации нет нужды (частичная демобилизация)
	option = {
		name = rcw_bolsheviks.115.b
		trigger = { has_completed_focus = RUS_revolutionary_war }
		hidden_effect = { country_event = { id = rcw_bolsheviks.120 days = 14 } }
		ai_chance = {
			factor = 10
		}
		add_political_power = -10
		hidden_effect = {
			if = {
				limit = {
					OR = {
						has_idea = foodstuffs_supply_crisis_1
						has_idea = foodstuffs_supply_crisis_2
						has_idea = foodstuffs_supply_crisis_3
						has_idea = foodstuffs_supply_crisis_4
						has_idea = foodstuffs_supply_crisis_5
					}
				}
				country_event = { id = rcw_bolsheviks.118 days = 7 }
				else = {
					country_event = { id = rcw_bolsheviks.117 days = 7 }
				}
			}
			set_country_flag = RUS_not_full_demob
		}
		if = {
			limit = { has_variable = global.RCW_green_var_additional_Russian_SFSR }
			add_to_variable = { global.RCW_green_var_additional_Russian_SFSR = 2 }
		}
	}
}
# Проблема оружия
country_event = {
	id = rcw_bolsheviks.116
	title = rcw_bolsheviks.116.t
	desc = rcw_bolsheviks.116.desc
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	option = {
		ai_chance = {
			factor = 0
		}
		name = rcw_bolsheviks.116.a
		add_political_power = 10
		add_popularity = {
			ideology = communism
			popularity = -0.025
		}
		country_event = { id = rcw_bolsheviks.117 days = 1 }
	}
	option = {
		name = rcw_bolsheviks.116.b
		add_political_power = -10
		add_popularity = {
			ideology = communism
			popularity = 0.01
		}
		set_country_flag = RUS_demob_steal_arms
		country_event = { id = rcw_bolsheviks.117 days = 1 }
	}
}

# Итоги армейского съезда
country_event = {
	id = rcw_bolsheviks.117
	title = rcw_bolsheviks.117.t
	desc = {
		text = rcw_bolsheviks.117.desc
		trigger = {
			has_completed_focus = RUS_red_separate_peace
		}
	}
	desc = {
		text = rcw_bolsheviks.117.desc_1
		trigger = {
			NOT = { has_completed_focus = RUS_red_separate_peace }
		}
	}
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		OR = {
			has_country_flag = RUS_Oktober_revolution_fired
			has_country_flag = ODS_demobilisation
		}
	}
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1902 goda"
			}
			ODS = {
				if = {
					limit = {
						exists = yes
						OR = {
							has_template = "Pekhotnaya Diviziya priziva 1902 goda"
							has_template = "Pekhotnaya Diviziya priziva 1903 goda"
							has_template = "Pekhotnaya Diviziya priziva 1904-1907 godov"
							has_template = "Pekhotnaya Diviziya priziva 1908-1909 godov"
							has_template = "Pekhotnaya Diviziya priziva 1910-1912 godov"
							has_template = "Pekhotnaya Diviziya priziva 1913-1915 godov"
						}
					}
					set_country_flag = ODS_demobilisation
					country_event = { id = rcw_bolsheviks.117 days = 30 }
				}
			}
		}
	}
	
	is_triggered_only = yes
	
	option = {
		trigger = { NOT = { has_country_flag = ODS_demobilisation } }
		name = rcw_bolsheviks.117.a
		add_political_power = 10
		country_event = { id = rcw_bolsheviks.121 days = 3 }
		country_event = { id = rcw_bolsheviks.122 days = 6 }
		country_event = { id = rcw_bolsheviks.123 days = 12 }
		if = {
			limit = { NOT = { has_country_flag = RUS_not_full_demob } }
			country_event = { id = rcw_bolsheviks.124 days = 18 }
			country_event = { id = rcw_bolsheviks.125 days = 36 }
		}
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1902 goda"
			}
		}
		set_country_flag = RUS_start_demobilisation
		clr_country_flag = RUS_not_full_demob
	}
	option = {
		trigger = { has_country_flag = ODS_demobilisation }
		name = rcw_bolsheviks.117.b
		country_event = { id = rcw_bolsheviks.121 days = 3 }
		country_event = { id = rcw_bolsheviks.122 days = 6 }
		country_event = { id = rcw_bolsheviks.123 days = 12 }
		country_event = { id = rcw_bolsheviks.124 days = 18 }
		country_event = { id = rcw_bolsheviks.125 days = 36 }
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1902 goda"
			}
		}
	}
}

# Итоги армейского съезда (Неполная демобилизация)
country_event = {
	id = rcw_bolsheviks.118
	title = rcw_bolsheviks.118.t
	desc = rcw_bolsheviks.118.desc
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		OR = {
			has_country_flag = RUS_Oktober_revolution_fired
			has_country_flag = RUS_not_bolsheviks_demobilisation
			has_country_flag = ODS_demobilisation
		}
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1902 goda"
			}
			ODS = {
				if = {
					limit = {
						exists = yes
						OR = {
							has_template = "Pekhotnaya Diviziya priziva 1902 goda"
							has_template = "Pekhotnaya Diviziya priziva 1903 goda"
							has_template = "Pekhotnaya Diviziya priziva 1904-1907 godov"
							has_template = "Pekhotnaya Diviziya priziva 1908-1909 godov"
							has_template = "Pekhotnaya Diviziya priziva 1910-1912 godov"
							has_template = "Pekhotnaya Diviziya priziva 1913-1915 godov"
						}
					}
					set_country_flag = ODS_demobilisation
					country_event = { id = rcw_bolsheviks.118 days = 30 }
				}
			}
		}
	}
	
	option = {
		trigger = { NOT = { has_country_flag = ODS_demobilisation } }
		name = rcw_bolsheviks.118.a
		add_political_power = -50
		add_war_support = -0.05
		add_popularity = {
			ideology = communism
			popularity = -0.07
		}
		country_event = { id = rcw_bolsheviks.121 days = 7 }
		country_event = { id = rcw_bolsheviks.122 days = 14 }
		country_event = { id = rcw_bolsheviks.123 days = 21 }
		#country_event = { id = rcw_bolsheviks.124 days = 28 }
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1902 goda"
			}
		}
		remove_ideas = {
			RUS_Order_N_1_1
			RUS_Order_N_1_2
			RUS_Order_N_1_3
		}
		add_ideas = RUS_Order_N_1_4
		if = {
			limit = { NOT = { has_country_flag = crisis_in_progress } }
			set_country_flag = crisis_in_progress
			add_ideas = mutiny_2
			country_event = stability.23
		}
		set_country_flag = RUS_start_demobilisation
		clr_country_flag = RUS_not_full_demob
	}
	option = {
		trigger = { has_country_flag = ODS_demobilisation }
		name = rcw_bolsheviks.118.b
		country_event = { id = rcw_bolsheviks.121 days = 7 }
		country_event = { id = rcw_bolsheviks.122 days = 14 }
		country_event = { id = rcw_bolsheviks.123 days = 21 }
		country_event = { id = rcw_bolsheviks.124 days = 28 }
		country_event = { id = rcw_bolsheviks.125 days = 49 }
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1902 goda"
			}
		}
	}
}

# Демобилизация призыва 1903-го года
country_event = {
	id = rcw_bolsheviks.121
	title = rcw_bolsheviks.121.t
	desc = rcw_bolsheviks.121.desc
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		OR = {
			has_country_flag = RUS_Oktober_revolution_fired
			has_country_flag = RUS_not_bolsheviks_demobilisation
			has_country_flag = ODS_demobilisation
		}
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1903 goda"
			}
		}
	}
	
	option = {
		name = rcw_bolsheviks.121.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1903 goda"
			}
		}
		if = {
			limit = { has_country_flag = RUS_demob_steal_arms }
			set_equipment_fraction = 0.95
		}
		if = {
			limit = { has_idea = limited_conscription }
			swap_ideas = {
				remove_idea = limited_conscription
				add_idea = volunteer_only
			}
		}
		if = {
			limit = { has_idea = extensive_conscription }
			swap_ideas = {
				remove_idea = extensive_conscription
				add_idea = limited_conscription
			}
		}
		if = {
			limit = { has_idea = service_by_requirement }
			swap_ideas = {
				remove_idea = service_by_requirement
				add_idea = extensive_conscription
			}
		}
		if = {
			limit = { has_idea = all_adults_serve }
			swap_ideas = {
				remove_idea = all_adults_serve
				add_idea = service_by_requirement
			}
		}
		if = {
			limit = { has_idea = scraping_the_barrel }
			swap_ideas = {
				remove_idea = scraping_the_barrel
				add_idea = all_adults_serve
			}
		}
	}
}
# Демобилизация призыва 1904-1907 годов
country_event = {
	id = rcw_bolsheviks.122
	title = rcw_bolsheviks.122.t
	desc = rcw_bolsheviks.122.desc
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		OR = {
			has_country_flag = RUS_Oktober_revolution_fired
			has_country_flag = RUS_not_bolsheviks_demobilisation
			has_country_flag = ODS_demobilisation
		}
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1904-1907 godov"
			}
		}
	}
	
	option = {
		name = rcw_bolsheviks.122.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1904-1907 godov"
			}
		}
		if = {
			limit = { has_country_flag = RUS_demob_steal_arms }
			set_equipment_fraction = 0.95
		}
		if = {
			limit = { has_idea = limited_conscription }
			swap_ideas = {
				remove_idea = limited_conscription
				add_idea = volunteer_only
			}
		}
		if = {
			limit = { has_idea = extensive_conscription }
			swap_ideas = {
				remove_idea = extensive_conscription
				add_idea = limited_conscription
			}
		}
		if = {
			limit = { has_idea = service_by_requirement }
			swap_ideas = {
				remove_idea = service_by_requirement
				add_idea = extensive_conscription
			}
		}
		if = {
			limit = { has_idea = all_adults_serve }
			swap_ideas = {
				remove_idea = all_adults_serve
				add_idea = service_by_requirement
			}
		}
		if = {
			limit = { has_idea = scraping_the_barrel }
			swap_ideas = {
				remove_idea = scraping_the_barrel
				add_idea = all_adults_serve
			}
		}
	}
}
# Демобилизация призыва 1908-1909 годов
country_event = {
	id = rcw_bolsheviks.123
	title = rcw_bolsheviks.123.t
	desc = rcw_bolsheviks.123.desc
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		OR = {
			has_country_flag = RUS_Oktober_revolution_fired
			has_country_flag = RUS_not_bolsheviks_demobilisation
			has_country_flag = ODS_demobilisation
		}
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1908-1909 godov"
			}
		}
	}
	
	option = {
		name = rcw_bolsheviks.123.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1908-1909 godov"
			}
		}
		if = {
			limit = { has_country_flag = RUS_demob_steal_arms }
			set_equipment_fraction = 0.95
		}
		RUS_Order_N_1_fall = yes
	}
}
# Демобилизация призыва 1910-1912 годов
country_event = {
	id = rcw_bolsheviks.124
	title = rcw_bolsheviks.124.t
	desc = rcw_bolsheviks.124.desc
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		OR = {
			has_country_flag = RUS_Oktober_revolution_fired
			has_country_flag = RUS_not_bolsheviks_demobilisation
			has_country_flag = ODS_demobilisation
		}
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1910-1912 godov"
			}
			delete_unit_template_and_units = {
				division_template = "Kavaleriyskaya Diviziya"
			}
		}
	}
	
	option = {
		name = rcw_bolsheviks.124.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1910-1912 godov"
			}
		}
		if = {
			limit = { has_idea = collapse_of_railway_system_4 }
			swap_ideas = {
				remove_idea = collapse_of_railway_system_4
				add_idea = collapse_of_railway_system_3
			}
		}
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_3 }
			swap_ideas = {
				remove_idea = foodstuffs_supply_crisis_3
				add_idea = foodstuffs_supply_crisis_2
			}
		}
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_4 }
			swap_ideas = {
				remove_idea = foodstuffs_supply_crisis_4
				add_idea = foodstuffs_supply_crisis_3
			}
		}
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_5 }
			swap_ideas = {
				remove_idea = foodstuffs_supply_crisis_5
				add_idea = foodstuffs_supply_crisis_4
			}
		}
		if = {
			limit = { has_country_flag = RUS_demob_steal_arms }
			set_equipment_fraction = 0.95
		}
		if = {
			limit = { has_idea = limited_conscription }
			swap_ideas = {
				remove_idea = limited_conscription
				add_idea = volunteer_only
			}
		}
		if = {
			limit = { has_idea = extensive_conscription }
			swap_ideas = {
				remove_idea = extensive_conscription
				add_idea = limited_conscription
			}
		}
		if = {
			limit = { has_idea = service_by_requirement }
			swap_ideas = {
				remove_idea = service_by_requirement
				add_idea = extensive_conscription
			}
		}
		if = {
			limit = { has_idea = all_adults_serve }
			swap_ideas = {
				remove_idea = all_adults_serve
				add_idea = service_by_requirement
			}
		}
		if = {
			limit = { has_idea = scraping_the_barrel }
			swap_ideas = {
				remove_idea = scraping_the_barrel
				add_idea = all_adults_serve
			}
		}
	}
}
# Демобилизация призыва 1913-1915 годов
country_event = {
	id = rcw_bolsheviks.125
	title = rcw_bolsheviks.125.t
	desc = rcw_bolsheviks.125.desc
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		OR = {
			has_country_flag = RUS_Oktober_revolution_fired
			has_country_flag = RUS_not_bolsheviks_demobilisation
			has_country_flag = ODS_demobilisation
		}
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1913-1915 godov"
			}
		}
	}
	
	option = {
		name = rcw_bolsheviks.125.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1913-1915 godov"
			}
		}
		if = {
			limit = { has_idea = collapse_of_railway_system_4 }
			swap_ideas = {
				remove_idea = collapse_of_railway_system_4
				add_idea = collapse_of_railway_system_3
			}
		}
		if = {
			limit = { has_idea = collapse_of_railway_system_5 }
			swap_ideas = {
				remove_idea = collapse_of_railway_system_5
				add_idea = collapse_of_railway_system_4
			}
		}
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_4 }
			swap_ideas = {
				remove_idea = foodstuffs_supply_crisis_4
				add_idea = foodstuffs_supply_crisis_3
			}
		}
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_5 }
			swap_ideas = {
				remove_idea = foodstuffs_supply_crisis_5
				add_idea = foodstuffs_supply_crisis_4
			}
		}
		if = {
			limit = { has_country_flag = RUS_demob_steal_arms }
			set_equipment_fraction = 0.95
		}
		RUS_Order_N_1_fall = yes
		clr_country_flag = RUS_not_bolsheviks_demobilisation
		clr_country_flag = ODS_demobilisation
		country_event = { id = rcw_bolsheviks.127 days = 20 }
	}
}

# Народно-социалистическая гвардия
country_event = {
	id = rcw_bolsheviks.120
	title = rcw_bolsheviks.120.t
	desc = rcw_bolsheviks.120.desc
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.120.a
		add_war_support = 0.025
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
		spawn_red_guard_on_german_front = yes
	}
}

# Формирование завес
country_event = {
	id = rcw_bolsheviks.127
	title = rcw_bolsheviks.127.t
	desc = rcw_bolsheviks.127.desc
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.127.a
		add_war_support = 0.025
		division_template = {
			name = "Krasnoarmeyskaya Zavesa"
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
			}
			is_locked = yes
		}
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		country_event = { id = rcw_bolsheviks.128 days = 30 }
	}
}
# Формирование завес
country_event = {
	id = rcw_bolsheviks.128
	title = rcw_bolsheviks.128.t
	desc = rcw_bolsheviks.128.desc
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.127.a
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		country_event = { id = rcw_bolsheviks.129 days = 30 }
	}
}
# Формирование завес
country_event = {
	id = rcw_bolsheviks.129
	title = rcw_bolsheviks.129.t
	desc = rcw_bolsheviks.129.desc
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.129.a
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		country_event = { id = rcw_bolsheviks.130 days = 46 }
	}
}
# Формирование завес
country_event = {
	id = rcw_bolsheviks.130
	title = rcw_bolsheviks.130.t
	desc = rcw_bolsheviks.130.desc
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.130.a
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		spawn_red_guard_zavesa = yes
		
		set_division_template_lock = {
			division_template = "Krasnoarmeyskaya Zavesa"
			is_locked = no
		}
	}
}

# Смерть лидера (Ленина)
country_event = {
	id = rcw_bolsheviks.131
	title = rcw_bolsheviks.131.t
	desc = rcw_bolsheviks.131.desc
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.131.a
			hidden_effect = {
				if = {
					limit = {
						has_country_leader = { name = "Vladimir Lenin" ruling_only = yes }
					}
					RUS = { set_country_flag = Vladimir_Lenin_dead }
					SOV = { set_country_flag = Vladimir_Lenin_dead }
				}
				news_event = { id = news_n.21 hours = 12 }
			}
		kill_country_leader = yes
		add_political_power = -50
		add_stability = -0.05
		add_war_support = -0.05
	}
}

# Ранение лидера (Ленина)
country_event = {
	id = rcw_bolsheviks.132
	title = rcw_bolsheviks.132.t
	desc = rcw_bolsheviks.132.desc
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.132.a
		add_political_power = -50
		add_war_support = 0.05
		hidden_effect = {
			if = {
				limit = {
					has_country_leader = { name = "Vladimir Lenin" ruling_only = yes }
				}
				set_country_flag = Vladimir_Lenin_hurt
			}
			news_event = { id = news_n.22 hours = 24 }
		}
	}
}

# Покушение на лидера (Ленина)
country_event = {
	id = rcw_bolsheviks.133
	title = rcw_bolsheviks.133.t
	desc = rcw_bolsheviks.133.desc
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.133.a
		add_war_support = 0.05
		hidden_effect = {
			news_event = { id = news_n.22 hours = 48 }
		}
	}
}

# Убийство Моисея Урицкого
country_event = {
	id = rcw_bolsheviks.134
	title = rcw_bolsheviks.134.t
	desc = rcw_bolsheviks.134.desc
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.134.a
		RUS = { set_country_flag = Moisey_Uritskiy_dead }
		SOV = { set_country_flag = Moisey_Uritskiy_dead }
	}
}

# Ранение лидера (Троцкого)
country_event = {
	id = rcw_bolsheviks.136
	title = rcw_bolsheviks.136.t
	desc = rcw_bolsheviks.136.desc
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		tag = RUS
		NOT = { has_global_flag = RUS_civil_war_over }
		has_war = yes
		has_country_leader = { name = "Lev Trotsky" ruling_only = yes }
		any_unit_leader = {
			has_id = 19170
			OR = {
				is_leading_army = yes
				is_leading_army_group = yes
			}
		}
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 30
	}
	
	option = {
		name = rcw_bolsheviks.136.a
		add_political_power = -50
		add_war_support = 0.05
		set_country_flag = Lev_Trotsky_hurt
		add_timed_idea = { idea = red_army_is_weakened days = 14 }
	}
}

# Смерть лидера (Троцкого)
country_event = {
	id = rcw_bolsheviks.137
	title = rcw_bolsheviks.137.t
	desc = {
		text = rcw_bolsheviks.137.desc
		trigger = { has_country_leader = { name = "Lev Trotsky" ruling_only = yes } }
	}
	desc = {
		text = rcw_bolsheviks.137.desc_1
		trigger = { NOT = { has_country_leader = { name = "Lev Trotsky" ruling_only = yes } } }
	}
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		tag = RUS
		NOT = { has_global_flag = RUS_civil_war_over }
		has_war = yes
		surrender_progress > 0.49
		any_unit_leader = {
			has_id = 19170
			OR = {
				is_leading_army = yes
				is_leading_army_group = yes
			}
		}
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 100
	}
	
	option = {
		name = rcw_bolsheviks.137.a
		add_political_power = -50
		every_unit_leader = { limit = { has_id = 19170 } remove_unit_leader = yes }
		create_field_marshal = { name = "Ephraim Sklyansky" id = 77490 portrait_path = "gfx/leaders/SOV/Portrait_Ephraim_Sklyansky.dds" traits = { politically_connected } skill = 1 attack_skill = 2 defense_skill = 2 planning_skill = 3 logistics_skill = 2 }
		if = {
			limit = { has_country_leader = { name = "Lev Trotsky" ruling_only = yes } }
			kill_ideology_leader = communism
			create_country_leader = { name = "Ephraim Sklyansky" desc = SOV_Ephraim_Sklyansky_DESC picture = "gfx/leaders/SOV/Portrait_Ephraim_Sklyansky.dds" ideology = stalinism traits = {  } }
			#news_event
		}
		set_country_flag = Lev_Trotsky_dead
		SOV = { set_country_flag = Lev_Trotsky_dead }
		remove_ideas = {
			Lev_Trotsky_1
			Lev_Trotsky_2
			Lev_Trotsky_6
			Lev_Trotsky_army_chief
		}
		add_timed_idea = { idea = red_army_is_weakened days = 45 }
	}
}

# Экономический коллапс
country_event = {
	id = rcw_bolsheviks.150
	title = rcw_bolsheviks.150.t
	desc = rcw_bolsheviks.150.desc
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		tag = RUS
		has_government = communism
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.150.a
		add_ideas = RUS_economic_collapse_of_the_left_idea
		hidden_effect = { country_event = { id = rcw_bolsheviks.234 days = 15 random_days = 60 } }
		add_stability = -0.15
		add_war_support = -0.15
		add_popularity = {
			ideology = radical_socialism
			popularity = 0.15
		}
		add_popularity = {
			ideology = social_democracy
			popularity = 0.1
		}
		add_popularity = {
			ideology = social_liberalism
			popularity = 0.1
		}
	}
}


# Уход в отставку министров от левых эсеров из СНК
country_event = {
	id = rcw_bolsheviks.179
	title = rcw_bolsheviks.179.t
	desc = {
		text = rcw_bolsheviks.179.desc
		trigger = { NOT = { has_completed_focus = RUS_left_eser_focus } }
	}
	desc = {
		text = rcw_bolsheviks.179.desc_1
		trigger = { has_completed_focus = RUS_left_eser_focus }
	}
	picture = GFX_report_event_sov_protest_of_moderate_socialists_against_the_bolsheviksv
	
	trigger = {
		tag = RUS
		has_idea_with_trait = radical_socialist_counselor
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
		has_idea = two_party_system_law
		check_variable = { communism_coalition = 1 }
		check_variable = { radical_socialism_coalition = 1 }
		NOT = { has_country_flag = RUS_left_SR_rise_in_progress	}
		NOT = { has_country_flag = RUS_left_SR_revolt_suppose }
		NOT = { has_country_flag = RUS_left_SR_revolt }
		OR = {
			AND = {
				OR = {
					has_country_flag = brest_hardest
					has_country_flag = brest_hard
					has_country_flag = brest_average
				}
				NOT = { has_global_flag = WWI_GER_HAS_CAPITULATED }
				controls_state = 195
				controls_state = 219
				NOT = { has_completed_focus = RUS_break_brest_peace }
			}
			has_completed_focus = RUS_left_eser_focus
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.179.a
		add_political_power = -25
		remove_ideas_with_trait = radical_socialist_counselor
		country_event = { id = rcw_bolsheviks.180 days = 130 random_days = 20 }
		add_ideas = RUS_bolsheviks_vs_left_esser
	}
}

# Восстание Левых Эсеров (без съезда)
country_event = {
	id = rcw_bolsheviks.180
	title = rcw_bolsheviks.180.t
	desc = rcw_bolsheviks.180.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
		NOT = { has_country_flag = RUS_left_SR_rise_in_progress	}
		NOT = { has_country_flag = RUS_left_SR_revolt_suppose }
		NOT = { has_country_flag = RUS_left_SR_revolt }
		has_idea = RUS_bolsheviks_vs_left_esser
	}
	
	immediate = {
		hidden_effect = {
			set_variable = { var = RUS_left_SR_Moscow_control value = 0 }
			set_variable = { var = RUS_bolsheviks_using_workers value = 0 }
			set_variable = { var = RUS_bolsheviks_using_soilders value = 0 }
			if = {
				limit = { NOT = { has_country_flag = black_guard_destroyed } }
				add_to_variable = { var = RUS_left_SR_Moscow_control value = 1 }
			}
			set_country_flag = RUS_left_SR_rise_in_progress
			set_variable = { communism_coalition = 0 }
			set_variable = { radical_socialism_coalition = 0 }
			remove_ideas_with_trait = radical_socialist_counselor
		}
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.180.a
		add_to_variable = { var = RUS_left_SR_Moscow_control value = 1 }
		country_event = { id = rcw_bolsheviks.61 hours = 2 }
	}
}

# Разгром Чёрной гвардии
country_event = {
	id = rcw_bolsheviks.198
	title = rcw_bolsheviks.198.t
	desc = rcw_bolsheviks.198.desc
	picture = report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		NOT = { has_country_flag = defeat_of_black_guard }
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.198.a
		set_country_flag = defeat_of_black_guard
		add_political_power = 1
	}
}


# Ноябрь-декабрь 1918, Троцкий: "Почему мне как наркому шлют письма?"
country_event = {
	id = rcw_bolsheviks.199
	title = rcw_bolsheviks.199.t
	desc = rcw_bolsheviks.199.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		NOT = { has_country_flag = Lev_Trotsky_dead }
		has_country_flag = RUS_flag_soviet_power
		has_idea = Lev_Trotsky_6
		has_completed_focus = RUS_vseroglavshtab
	}
	
	mean_time_to_happen = {
		days = 15
	}
	
	fire_only_once = yes
	
	# Пусть не шлют, сам разберёшься
	option = {
		name = rcw_bolsheviks.199.a
		
		add_stability = -0.01
		add_to_variable = { decist_faction_party_compositon = 0.05 }
		custom_effect_tooltip = decist_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
		ai_chance = {
			factor = 1
		}
	}
	# Война - дело всей страны, и ты выслушивай товарищей
	option = {
		name = rcw_bolsheviks.199.b
		
		add_stability = -0.01
		add_to_variable = { center_faction_party_compositon = 0.05 }
		custom_effect_tooltip = center_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
		
		ai_chance = {
			factor = 1
		}
	}
}

# Январь 1919, полемика Ленина и Осинского, Осинский требует либерализации
country_event = {
	id = rcw_bolsheviks.200
	title = rcw_bolsheviks.200.t
	desc = rcw_bolsheviks.200.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		has_country_flag = RUS_flag_soviet_power
		OR = {
			has_completed_focus = RUS_soviet_power
			has_completed_focus = RUS_left_eser_focus
		}
		NOT = { has_country_flag = RUS_RKP_b_VIII_fired }
	}
	
	mean_time_to_happen = {
		days = 225
	}
	
	fire_only_once = yes
	
	immediate = {
		#hidden_effect = { country_event = { id = rcw_bolsheviks.201 days = 60 } }
	}
	
	# Игнорировать его
	option = {
		name = rcw_bolsheviks.200.a
		
		check_overlap_of_party_composition = yes
		ai_chance = {
			factor = 1
		}
	}
	# Начать полемику
	option = {
		name = rcw_bolsheviks.200.b
		
		add_to_variable = { center_faction_party_compositon = -0.05 }
		add_to_variable = { decist_faction_party_compositon = -0.05 }
		custom_effect_tooltip = decist_fact_party_comp_minus_5
		custom_effect_tooltip = center_fact_party_comp_minus_5
		check_overlap_of_party_composition = yes
		
		ai_chance = {
			factor = 1
		}
	}
}

# Март 1919, VIII съезд РКП (б), вопрос с военной оппозицией и её предложениями
country_event = {
	id = rcw_bolsheviks.201
	title = rcw_bolsheviks.201.t
	desc = {
		text = rcw_bolsheviks.201.desc
		trigger = { NOT = { has_completed_focus = RUS_power_of_elected_committees } }
	}
	desc = {
		text = rcw_bolsheviks.201.desc_1
		trigger = { has_completed_focus = RUS_power_of_elected_committees }
	}
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		has_government = communism
		has_country_flag = RUS_Oktober_revolution_fired
		has_country_flag = RUS_flag_soviet_power
		NOT = { has_country_flag = RUS_RKP_b_VIII_fired }
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			set_country_flag = RUS_RKP_b_VIII_fired
		}
	}
	
	fire_only_once = yes
	
	# Ничего не делать
	option = {
		name = rcw_bolsheviks.201.a
		if = {
			limit = { has_completed_focus = RUS_power_of_elected_committees }
			set_country_flag = RUS_RKP_b_VIII_decist_war_plan
			hidden_effect = { country_event = { id = rcw_bolsheviks.221 days = 40 random_days = 30 } }
			if = {
				limit = { has_country_leader = { name = "Vladimir Lenin" ruling_only = yes } }
				country_event = { id = rcw_bolsheviks.204 days = 30 }
			}
		}
		if = {
			limit = { NOT = { has_completed_focus = RUS_power_of_elected_committees } }
			set_country_flag = RUS_RKP_b_VIII_non_decist_war_plan
		}
		add_to_variable = { decist_faction_party_compositon = 0.05 }
		custom_effect_tooltip = decist_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
		
		hidden_effect = { set_seats_in_CC_simular_to_faction_power = yes }
		custom_effect_tooltip = set_seats_in_CC_simular_to_faction_power_tt
		ai_chance = {
			factor = 1
		}
	}
	# Выгнать оппозицию из Москвы и Урала
	option = {
		trigger = { NOT = { has_completed_focus = RUS_power_of_elected_committees } }
		name = rcw_bolsheviks.201.b
		if = {
			limit = { check_variable = { decist_faction_party_compositon > 0.35 } }
			country_event = { id = rcw_bolsheviks.205 days = 30 }
		}
		set_country_flag = RUS_RKP_b_VIII_non_decist_war_plan
		add_to_variable = { decist_faction_party_compositon = -0.10 }
		add_to_variable = { center_faction_party_compositon = -0.05 }
		custom_effect_tooltip = decist_fact_party_comp_minus_10
		custom_effect_tooltip = center_fact_party_comp_minus_5
		check_overlap_of_party_composition = yes
		
		hidden_effect = { set_seats_in_CC_simular_to_faction_power = yes }
		custom_effect_tooltip = set_seats_in_CC_simular_to_faction_power_tt
		ai_chance = {
			factor = 1
		}
	}
	# Подготовить план реформ по децистскому плану (нахер военспецов)
	option = {
		trigger = { NOT = { has_completed_focus = RUS_power_of_elected_committees } }
		name = rcw_bolsheviks.201.c
		
		uncomplete_national_focus = {
			focus = RUS_cancellation_of_election_of_officers
			uncomplete_children = no
			refund_political_power = no
		}
		
		set_country_flag = RUS_RKP_b_VIII_decist_war_plan
		hidden_effect = { country_event = { id = rcw_bolsheviks.221 days = 40 random_days = 30 } }
		add_to_variable = { var = Trotskiy_power value = -1 }
		add_to_variable = { decist_faction_party_compositon = 0.10 }
		custom_effect_tooltip = decist_fact_party_comp_plus_10
		check_overlap_of_party_composition = yes
		if = {
			limit = { has_country_leader = { name = "Vladimir Lenin" ruling_only = yes } }
			country_event = { id = rcw_bolsheviks.204 days = 30 }
		}
		check_overlap_of_party_composition = yes
		
		hidden_effect = { set_seats_in_CC_simular_to_faction_power = yes }
		custom_effect_tooltip = set_seats_in_CC_simular_to_faction_power_tt
		ai_chance = {
			factor = 1
		}
	}
	# Подготовить план реформ по НЕдецистскому плану (любим военспецов)
	option = {
		trigger = { has_completed_focus = RUS_power_of_elected_committees }
		name = rcw_bolsheviks.201.c
		
		uncomplete_national_focus = {
			focus = RUS_power_of_elected_committees
			uncomplete_children = no
			refund_political_power = no
		}
		
		set_country_flag = RUS_RKP_b_VIII_non_decist_war_plan
		add_to_variable = { var = Trotskiy_power value = 1 }
		check_overlap_of_party_composition = yes
		
		hidden_effect = { set_seats_in_CC_simular_to_faction_power = yes }
		custom_effect_tooltip = set_seats_in_CC_simular_to_faction_power_tt
		ai_chance = {
			factor = 1
		}
	}
}

# Май 1919, Ленин не может так работать
country_event = {
	id = rcw_bolsheviks.204
	title = rcw_bolsheviks.204.t
	desc = rcw_bolsheviks.204.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		has_country_flag = RUS_flag_soviet_power
		has_country_leader = { name = "Vladimir Lenin" ruling_only = yes }
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.204.a
		retire_country_leader = yes
		add_to_variable = { decist_faction_party_compositon = -0.03 }
		custom_effect_tooltip = decist_fact_party_comp_minus_3
		check_overlap_of_party_composition = yes
	}
}

# Май 1919, Сапронов требует отставки СНК и повторного чрезвычайного съезда
country_event = {
	id = rcw_bolsheviks.205
	title = rcw_bolsheviks.205.t
	desc = rcw_bolsheviks.205.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
	}
	
	# Ленин сдаётся
	option = {
		name = rcw_bolsheviks.205.a
		if = {
			limit = { has_government = communism }
			retire_country_leader = yes
			create_country_leader = { name = "Timofey Sapronov" desc = SOV_Timofey_Sapronov_DESC picture = "gfx/leaders/SOV/Portrait_Timofey_Sapronov.dds" expire = "1935.1.1" ideology = marxism traits = {  } }
			else = {
				set_politics = { ruling_party = radical_socialism elections_allowed = no }
				retire_country_leader = yes
				create_country_leader = { name = "Timofey Sapronov" desc = SOV_Timofey_Sapronov_DESC picture = "gfx/leaders/SOV/Portrait_Timofey_Sapronov.dds" expire = "1935.1.1" ideology = democratic_socialism traits = {  } }
			}
		}
		clr_country_flag = RUS_RKP_b_VIII_non_decist_war_plan
		set_country_flag = RUS_RKP_b_VIII_decist_war_plan
		hidden_effect = { country_event = { id = rcw_bolsheviks.221 days = 40 random_days = 30 } }
		ai_chance = {
			factor = 1
		}
	}
	# Начать общепартийную дискуссию
	option = {
		name = rcw_bolsheviks.205.b
		activate_mission = all_party_discussion_with_decists
		hidden_effect = {
			country_event = { id = rcw_bolsheviks.208 days = 10 random = 240 }
			country_event = { id = rcw_bolsheviks.209 days = 20 random = 240 }
		}
		ai_chance = {
			factor = 1
		}
	}
	# ВЧК арестует всех
	option = {
		name = rcw_bolsheviks.205.c
		if = {
			limit = { check_variable = { decist_faction_party_compositon > 0.25 } radical_socialism > 0.1 }
			country_event = { id = rcw_bolsheviks.216 days = 10 }
			else = {
				set_country_flag = RUS_RKP_b_VIII_non_decist_war_plan
				custom_effect_tooltip = remove_all_decists_from_CC
				hidden_effect = {
					add_to_variable = { var = decist_faction_CC value = -100 }
					check_overlap_of_CC_n_CEC_deputies_add = yes
					set_frame_of_CC_n_CEC = yes
				}
				if = {
					limit = { has_government = radical_socialism }
					set_politics = { ruling_party = communism elections_allowed = no }
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Июнь 1919, итоги партконференции: Децисты победили
country_event = {
	id = rcw_bolsheviks.206
	title = rcw_bolsheviks.206.t
	desc = rcw_bolsheviks.206.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.206.a
		if = {
			limit = { has_government = communism }
			retire_country_leader = yes
			create_country_leader = { name = "N. Osinskiy" desc = SOV_Valerian_Obolensky-Osinskiy_DESC picture = "gfx/leaders/SOV/Portrait_Valerian_Obolensky-Osinskiy.dds" expire = "1935.1.1" ideology = marxism traits = {  } }
			else = {
				set_politics = { ruling_party = radical_socialism elections_allowed = no }
				retire_country_leader = yes
				create_country_leader = { name = "N. Osinskiy" desc = SOV_Valerian_Obolensky-Osinskiy_DESC picture = "gfx/leaders/SOV/Portrait_Valerian_Obolensky-Osinskiy.dds" expire = "1935.1.1" ideology = democratic_socialism traits = {  } }
			}
		}
		set_country_flag = RUS_RKP_b_VIII_decist_war_plan
		hidden_effect = { country_event = { id = rcw_bolsheviks.221 days = 40 random_days = 30 } }
	}
}
# Июнь 1919, итоги партконференции: Ленин победил
country_event = {
	id = rcw_bolsheviks.207
	title = rcw_bolsheviks.207.t
	desc = rcw_bolsheviks.207.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.207.a
		add_to_variable = { decist_faction_party_compositon = -0.03 }
		custom_effect_tooltip = decist_fact_party_comp_minus_3
		check_overlap_of_party_composition = yes
		set_country_flag = RUS_RKP_b_VIII_non_decist_war_plan
	}
}


# Критика ЦК
country_event = {
	id = rcw_bolsheviks.208
	title = rcw_bolsheviks.208.t
	desc = rcw_bolsheviks.208.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.208.a
		add_to_variable = { decist_faction_party_compositon = 0.05 }
		custom_effect_tooltip = decist_fact_party_comp_plus_5
		add_to_variable = { center_faction_party_compositon = -0.05 }
		custom_effect_tooltip = center_fact_party_comp_minus_5
		check_overlap_of_party_composition = yes
	}
}
# Письма из Тулы
country_event = {
	id = rcw_bolsheviks.209
	title = rcw_bolsheviks.209.t
	desc = rcw_bolsheviks.209.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.209.a
		add_to_variable = { decist_faction_party_compositon = 0.05 }
		custom_effect_tooltip = decist_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
	}
}
# Заметка Бухарина
country_event = {
	id = rcw_bolsheviks.210
	title = rcw_bolsheviks.210.t
	desc = rcw_bolsheviks.210.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.210.a
		add_to_variable = { left_faction_party_compositon = -0.1 }
		add_to_variable = { center_faction_party_compositon = -0.15 }
		custom_effect_tooltip = center_fact_party_comp_minus_15
		custom_effect_tooltip = left_fact_party_comp_minus_10
		check_overlap_of_party_composition = yes
	}
}
# Ответ ФЭД на предложение ареста
country_event = {
	id = rcw_bolsheviks.211
	title = rcw_bolsheviks.211.t
	desc = {
		text = rcw_bolsheviks.211.desc
		trigger = { has_idea = Felix_Dzerjinsky_5 }
	}
	desc = {
		text = rcw_bolsheviks.211.desc_1
		trigger = { NOT = { has_idea = Felix_Dzerjinsky_5 } }
	}
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		trigger = { has_idea = Felix_Dzerjinsky_5 }
		name = rcw_bolsheviks.211.a
	}
	option = {
		trigger = { NOT = { has_idea = Felix_Dzerjinsky_5 } }
		name = rcw_bolsheviks.211.b
		set_country_flag = all_party_discussion_decists_arrested
	}
}

# Нечестная победа децистов в результате нечестной игры центра
country_event = {
	id = rcw_bolsheviks.215
	title = rcw_bolsheviks.215.t
	desc = rcw_bolsheviks.215.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	# Ленин сдаётся
	option = {
		name = rcw_bolsheviks.215.a
		if = {
			limit = { has_government = communism }
			retire_country_leader = yes
			create_country_leader = { name = "N. Osinskiy" desc = SOV_Valerian_Obolensky-Osinskiy_DESC picture = "gfx/leaders/SOV/Portrait_Valerian_Obolensky-Osinskiy.dds" expire = "1935.1.1" ideology = marxism traits = {  } }
			else = {
				set_politics = { ruling_party = radical_socialism elections_allowed = no }
				retire_country_leader = yes
				create_country_leader = { name = "N. Osinskiy" desc = SOV_Valerian_Obolensky-Osinskiy_DESC picture = "gfx/leaders/SOV/Portrait_Valerian_Obolensky-Osinskiy.dds" expire = "1935.1.1" ideology = democratic_socialism traits = {  } }
			}
		}
		set_country_flag = RUS_RKP_b_VIII_decist_war_plan
		hidden_effect = { country_event = { id = rcw_bolsheviks.221 days = 40 random_days = 30 } }
	}
}

# Вооружённый мятеж в Москве и арест СНК
country_event = {
	id = rcw_bolsheviks.216
	title = rcw_bolsheviks.216.t
	desc = rcw_bolsheviks.216.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	# Ленин сдаётся
	option = {
		name = rcw_bolsheviks.216.a
		if = {
			limit = { has_government = radical_socialism }
			retire_country_leader = yes
			create_country_leader = { name = "Timofey Sapronov" desc = SOV_Timofey_Sapronov_DESC picture = "gfx/leaders/SOV/Portrait_Timofey_Sapronov.dds" expire = "1935.1.1" ideology = democratic_socialism traits = {  } }
			else = {
				if = {
					limit = { has_government = communism }
					retire_country_leader = yes
				}
				create_country_leader = { name = "Timofey Sapronov" desc = SOV_Timofey_Sapronov_DESC picture = "gfx/leaders/SOV/Portrait_Timofey_Sapronov.dds" expire = "1935.1.1" ideology = marxism traits = {  } }
			}
		}
		set_country_flag = RUS_RKP_b_VIII_decist_war_plan
		hidden_effect = { country_event = { id = rcw_bolsheviks.221 days = 40 random_days = 30 } }
	}
}

# Март 1920, IX съезд РКП (б)
country_event = {
	id = rcw_bolsheviks.217
	title = rcw_bolsheviks.217.t
	desc = rcw_bolsheviks.217.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	immediate = {
		set_country_flag = RUS_RKP_b_IX_fired
	}
	
	option = {
		name = rcw_bolsheviks.217.a
		hidden_effect = { set_seats_in_CC_simular_to_faction_power = yes }
		custom_effect_tooltip = set_seats_in_CC_simular_to_faction_power_tt
	}
}

# Июнь 1919 года или февраль 1920 года, примерно, дезорганизация управления
country_event = {
	id = rcw_bolsheviks.221
	title = rcw_bolsheviks.221.t
	desc = rcw_bolsheviks.221.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		has_country_flag = RUS_RKP_b_VIII_decist_war_plan
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.221.a
		if = {
			limit = { NOT = { has_country_leader = { name = "N. Osinskiy" ruling_only = yes } } }
			if = {
				limit = { has_government = communism }
				retire_country_leader = yes
				create_country_leader = { name = "N. Osinskiy" desc = SOV_Valerian_Obolensky-Osinskiy_DESC picture = "gfx/leaders/SOV/Portrait_Valerian_Obolensky-Osinskiy.dds" expire = "1935.1.1" ideology = marxism traits = {  } }
				else = {
					set_politics = { ruling_party = radical_socialism elections_allowed = no }
					retire_country_leader = yes
					create_country_leader = { name = "N. Osinskiy" desc = SOV_Valerian_Obolensky-Osinskiy_DESC picture = "gfx/leaders/SOV/Portrait_Valerian_Obolensky-Osinskiy.dds" expire = "1935.1.1" ideology = democratic_socialism traits = {  } }
				}
			}
		}
		add_political_power = -100
		add_to_variable = { left_faction_party_compositon = 0.2 }
		add_to_variable = { center_faction_party_compositon = -0.05 }
		add_to_variable = { decist_faction_party_compositon = -0.1 }
		custom_effect_tooltip = center_fact_party_comp_minus_5
		custom_effect_tooltip = decist_fact_party_comp_minus_10
		custom_effect_tooltip = left_fact_party_comp_plus_20
		check_overlap_of_party_composition = yes
		add_stability = -0.05
		add_timed_idea = { idea = RUS_weak_state_suppression_apparatus_2 days = 360 }
	}
}

# Май 1920 года, примерно, дезорганизация управления борьбой рабочей оппозиции и децистов в Туле
country_event = {
	id = rcw_bolsheviks.222
	title = rcw_bolsheviks.222.t
	desc = rcw_bolsheviks.222.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		has_country_flag = RUS_RKP_b_VIII_non_decist_war_plan
		has_country_flag = RUS_RKP_b_IX_fired
		controls_state = 223
	}
	
	mean_time_to_happen = {
		days = 60 #от IX съезда два месяца, а было 190
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.222.a
		add_to_variable = { decist_faction_party_compositon = -0.1 }
		custom_effect_tooltip = decist_fact_party_comp_minus_10
		check_overlap_of_party_composition = yes
		add_stability = -0.03
		223 = {
			damage_building = {
				type = arms_factory
				damage = 1
			}
			damage_building = {
				type = infrastructure
				damage = 1
			}
		}
	}
}
# Май 1920 года, примерно, дезорганизация управления борьбой левых и децистов в Свердловске
country_event = {
	id = rcw_bolsheviks.223
	title = rcw_bolsheviks.223.t
	desc = rcw_bolsheviks.223.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		has_country_flag = RUS_RKP_b_VIII_decist_war_plan
		controls_state = 653
	}
	
	mean_time_to_happen = {
		days = 90
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.223.a
		add_to_variable = { decist_faction_party_compositon = -0.05 }
		custom_effect_tooltip = decist_fact_party_comp_minus_5
		check_overlap_of_party_composition = yes
		add_stability = -0.03
	}
}
# Сентрябрь 1920 года, Всероссийская конференция РКП (б)
country_event = {
	id = rcw_bolsheviks.224
	title = rcw_bolsheviks.224.t
	desc = {
		text = rcw_bolsheviks.224.desc
		trigger = { has_country_flag = RUS_RKP_b_VIII_decist_war_plan } #Письмо умеренных о развале парторганизаций и падении популярности коммунизма
	}
	desc = {
		text = rcw_bolsheviks.224.desc_1
		trigger = { has_country_flag = RUS_RKP_b_VIII_non_decist_war_plan } #Доклад Преображенского об уроне со стороны децистов и вреде рабочей оппозиции
	}
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		has_government = communism
		has_country_flag = RUS_flag_soviet_power
		has_country_flag = RUS_RKP_b_IX_fired
		OR = {
			has_country_flag = RUS_RKP_b_VIII_decist_war_plan
			has_country_flag = RUS_RKP_b_VIII_non_decist_war_plan
		}
	}
	
	mean_time_to_happen = {
		days = 180 #от IX съезда полгода, а было 490
	}
	
	immediate = {
		hidden_effect = {
			if = {
				limit = { has_country_flag = RUS_RKP_b_VIII_decist_war_plan }
				if = {
					limit = { has_country_flag = Lev_Trotsky_dead }
					country_event = { id = rcw_bolsheviks.227 days = 32 random_days = 10 }
					else = { country_event = { id = rcw_bolsheviks.226 days = 2 } }
				}
				else = {
					country_event = { id = rcw_bolsheviks.225 days = 2 }
				}
			}
		}
	}
	
	fire_only_once = yes
	
	# Ничего не делать
	option = {
		name = rcw_bolsheviks.224.a
		
		if = {
			limit = { has_country_flag = RUS_RKP_b_VIII_decist_war_plan }
			add_popularity = { ideology = communism popularity = -0.025 }
		}
	}
	# Подавить оппозицию за децистов
	option = {
		trigger = { has_country_flag = RUS_RKP_b_VIII_decist_war_plan }
		name = rcw_bolsheviks.224.b
		add_to_variable = { decist_faction_party_compositon = 0.05 }
		custom_effect_tooltip = decist_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
		
		add_popularity = { ideology = communism popularity = -0.05 }
		
		custom_effect_tooltip = add_5_decist_to_CC
		hidden_effect = {
			add_to_variable = { var = decist_faction_CC value = 5 }
			subtract_from_variable = { var = left_faction_CC value = 3 }
			subtract_from_variable = { var = center_faction_CC value = 2 }
			check_overlap_of_CC_n_CEC_deputies_add = yes
			set_frame_of_CC_n_CEC = yes
		}
	}
	# Давить децистов с позиции дезорганизации управления и пропихнуть на выборах в ЦК левых
	option = {
		trigger = { NOT = { has_country_flag = RUS_RKP_b_VIII_decist_war_plan } }
		name = rcw_bolsheviks.224.c
		add_to_variable = { decist_faction_party_compositon = 0.05 }
		custom_effect_tooltip = decist_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
		
		add_to_variable = { var = Trotskiy_power value = 1 }
		
		custom_effect_tooltip = add_5_left_to_CC
		hidden_effect = {
			add_to_variable = { var = left_faction_CC value = 5 }
			subtract_from_variable = { var = decist_faction_CC value = 3 }
			subtract_from_variable = { var = moderate_faction_CC value = 2 }
			check_overlap_of_CC_n_CEC_deputies_add = yes
			set_frame_of_CC_n_CEC = yes
		}
	}
	# Давить децистов с позиции их раскольнической деятельности и пропихнуть на выборах в ЦК умеренных и центр
	option = {
		trigger = { NOT = { has_country_flag = RUS_RKP_b_VIII_decist_war_plan } }
		name = rcw_bolsheviks.224.d
		add_to_variable = { decist_faction_party_compositon = 0.05 }
		custom_effect_tooltip = decist_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
		
		custom_effect_tooltip = add_4_center_to_CC
		custom_effect_tooltip = add_3_moderate_to_CC
		hidden_effect = {
			add_to_variable = { var = center_faction_CC value = 4 }
			add_to_variable = { var = moderate_faction_CC value = 3 }
			subtract_from_variable = { var = decist_faction_CC value = 7 }
			check_overlap_of_CC_n_CEC_deputies_add = yes
			set_frame_of_CC_n_CEC = yes
		}
	}
}
# ЦК обсуждает что деласть с профсоюзами (Выступление Лутовича от рабочей оппозиции), бюрократией и демократией
country_event = {
	id = rcw_bolsheviks.225
	title = rcw_bolsheviks.225.t
	desc = {
		text = rcw_bolsheviks.225.desc
		trigger = { NOT = { has_country_flag = Lev_Trotsky_dead } }
	}
	desc = {
		text = rcw_bolsheviks.225.desc_Sklyansky
		trigger = { has_country_flag = Lev_Trotsky_dead }
	}
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.225.a
		trigger = { NOT = { has_country_leader = { name = "Lev Trotsky" ruling_only = yes } } }
		
		add_to_variable = { var = Trotskiy_power value = -1 }
		hidden_effect = { country_event = { id = rcw_bolsheviks.229 days = 30 random_days = 10 } }
	}
	option = {
		name = rcw_bolsheviks.225.b
		add_to_variable = { decist_faction_party_compositon = 0.05 }
		add_to_variable = { center_faction_party_compositon = -0.05 }
		add_to_variable = { moderate_faction_party_compositon = 0.10 }
		custom_effect_tooltip = decist_fact_party_comp_plus_5
		custom_effect_tooltip = center_fact_party_comp_minus_5
		custom_effect_tooltip = moderate_fact_party_comp_plus_10
		check_overlap_of_party_composition = yes
		
		add_to_variable = { var = Trotskiy_power value = 2 }
		hidden_effect = { country_event = { id = rcw_bolsheviks.229 days = 30 random_days = 10 } }
	}
}

# Троцкий требует контроля над профсоюзами и транспортом
country_event = {
	id = rcw_bolsheviks.226
	title = rcw_bolsheviks.226.t
	desc = rcw_bolsheviks.226.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	# Отказать
	option = {
		name = rcw_bolsheviks.226.a
		add_to_variable = { left_faction_party_compositon = 0.05 }
		custom_effect_tooltip = left_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
		
		hidden_effect = { country_event = { id = rcw_bolsheviks.227 days = 30 random_days = 10 } }
	}
	# Снять Троцкого с поста
	option = {
		name = rcw_bolsheviks.226.b
		add_to_variable = { var = Trotskiy_power value = 10 }
		remove_ideas = Lev_Trotsky_6
		remove_ideas = Lev_Trotsky_army_chief
		hidden_effect = { country_event = { id = rcw_bolsheviks.301 days = 1 } }
		hidden_effect = { country_event = { id = rcw_bolsheviks.229 days = 30 random_days = 10 } }
	}
}
# Ноябрь 1920, забастовка в Москве и падение популярности коммунизма
country_event = {
	id = rcw_bolsheviks.227
	title = rcw_bolsheviks.227.t
	desc = rcw_bolsheviks.227.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	# Разнос парторганизаций и комиссия по выполнению требований забастовщиков
	option = {
		name = rcw_bolsheviks.227.a
		add_timed_idea = { idea = RUS_mass_workers_strikes days = 27 }
		add_political_power = -50
		add_to_variable = { decist_faction_party_compositon = -0.1 }
		custom_effect_tooltip = decist_fact_party_comp_minus_10
		check_overlap_of_party_composition = yes
		hidden_effect = { country_event = { id = rcw_bolsheviks.228 days = 1 } }
	}
	# Разнос парторганизаций частями РККА
	option = {
		name = rcw_bolsheviks.227.b
		add_timed_idea = { idea = RUS_mass_workers_strikes days = 14 }
		add_to_variable = { decist_faction_party_compositon = -0.15 }
		custom_effect_tooltip = decist_fact_party_comp_minus_15
		check_overlap_of_party_composition = yes
		set_politics = { ruling_party = communism elections_allowed = no }
		if = {
			limit = { NOT = { has_country_flag = Lev_Trotsky_dead } }
			create_country_leader = { name = "Lev Trotsky" desc = SOV_Lev_Trotsky_DESC picture = "gfx/leaders/SOV/Portrait_Lev_Trotsky.dds" expire = "1935.1.1" ideology = stalinism traits = { permanent_revolutionary red_army_organizer } }
			else = {
				create_country_leader = { name = "Ephraim Sklyansky" desc = SOV_Ephraim_Sklyansky_DESC picture = "gfx/leaders/SOV/Portrait_Ephraim_Sklyansky.dds" ideology = stalinism traits = {  } }
			}
		}
		add_ideas = Lev_Trotsky_1
		add_ideas = Lev_Trotsky_6
		add_ideas = Lev_Trotsky_army_chief
		
		clr_country_flag = RUS_RKP_b_VIII_decist_war_plan
		set_country_flag = RUS_RKP_b_VIII_non_decist_war_plan
		uncomplete_national_focus = {
			focus = RUS_power_of_elected_committees
			uncomplete_children = no
			refund_political_power = no
		}
	}
}
# Ноябрь 1920, съезд профсоюзов
country_event = {
	id = rcw_bolsheviks.228
	title = rcw_bolsheviks.228.t
	desc = {
		text = rcw_bolsheviks.228.desc
		trigger = { NOT = { has_country_flag = Lev_Trotsky_dead } }
	}
	desc = {
		text = rcw_bolsheviks.228.desc_1
		trigger = { has_country_flag = Lev_Trotsky_dead }
	}
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	# Ничего не делать
	option = {
		name = rcw_bolsheviks.228.a
		add_to_variable = { moderate_faction_party_compositon = 0.05 }
		add_to_variable = { center_faction_party_compositon = 0.05 }
		custom_effect_tooltip = center_fact_party_comp_plus_5
		custom_effect_tooltip = moderate_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
	}
	# Снять Троцкого с поста
	option = {
		trigger = { NOT = { has_country_flag = Lev_Trotsky_dead } }
		name = rcw_bolsheviks.228.b
		add_popularity = { ideology = communism popularity = -0.075 }
		add_to_variable = { var = Trotskiy_power value = 10 }
		remove_ideas = Lev_Trotsky_6
		remove_ideas = Lev_Trotsky_army_chief
		hidden_effect = { country_event = { id = rcw_bolsheviks.301 days = 1 } }
	}
}
# Ноябрь 1920, забастовка в Туле
country_event = {
	id = rcw_bolsheviks.229
	title = rcw_bolsheviks.229.t
	desc = rcw_bolsheviks.229.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	# Разнос парторганизаций и комиссия по выполнению требований забастовщиков
	option = {
		name = rcw_bolsheviks.229.a
		add_political_power = -25
		add_timed_idea = { idea = RUS_mass_workers_strikes days = 27 }
		add_to_variable = { decist_faction_party_compositon = -0.1 }
		custom_effect_tooltip = decist_fact_party_comp_minus_10
		if = {
			limit = { NOT = { has_country_flag = Lev_Trotsky_dead } }
			hidden_effect = { country_event = { id = rcw_bolsheviks.230 days = 1 } }
			else = {
				hidden_effect = { country_event = { id = rcw_bolsheviks.232 days = 22 } }
			}
		}
	}
	# Разнос парторганизаций частями РККА
	option = {
		name = rcw_bolsheviks.229.b
		add_timed_idea = { idea = RUS_mass_workers_strikes days = 14 }
		add_to_variable = { decist_faction_party_compositon = -0.20 }
		add_to_variable = { center_faction_party_compositon = -0.10 }
		add_to_variable = { left_faction_party_compositon = -0.05}
		custom_effect_tooltip = decist_fact_party_comp_minus_20
		custom_effect_tooltip = center_fact_party_comp_minus_10
		custom_effect_tooltip = left_fact_party_comp_minus_5
		check_overlap_of_party_composition = yes
		if = {
			limit = { NOT = { has_country_flag = Lev_Trotsky_dead } }
			hidden_effect = { country_event = { id = rcw_bolsheviks.230 days = 1 } }
			else = {
				hidden_effect = { country_event = { id = rcw_bolsheviks.232 days = 22 } }
			}
		}
	}
}
# Ноябрь 1920, съезд профсоюзов, Троцкий vs Ленин (Томский)
country_event = {
	id = rcw_bolsheviks.230
	title = rcw_bolsheviks.230.t
	desc = {
		text = rcw_bolsheviks.230.desc
		trigger = { NOT = { has_country_leader = { name = "Lev Trotsky" ruling_only = yes } } }
	}
	desc = {
		text = rcw_bolsheviks.230.desc_1
		trigger = { has_country_leader = { name = "Lev Trotsky" ruling_only = yes } }
	}
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	# Троцкий не входит в комиссию (Дима, чё за комиссия)
	option = {
		trigger = { NOT = { has_country_leader = { name = "Lev Trotsky" ruling_only = yes } } }
		name = rcw_bolsheviks.230.a
		add_to_variable = { var = Trotskiy_power value = -1 }
		if = {
			limit = { NOT = { has_country_flag = Lev_Trotsky_dead } }
			hidden_effect = { country_event = { id = rcw_bolsheviks.231 days = 20 } }
			else = {
				hidden_effect = { country_event = { id = rcw_bolsheviks.232 days = 21 } }
			}
		}
	}
	# Входит
	option = {
		name = rcw_bolsheviks.230.b
		add_to_variable = { var = Trotskiy_power value = 1 }
		if = {
			limit = { has_country_leader = { name = "Lev Trotsky" ruling_only = yes } }
			add_to_variable = { moderate_faction_party_compositon = 0.05 }
			add_to_variable = { right_faction_party_compositon = 0.05 }
			custom_effect_tooltip = moderate_fact_party_comp_plus_5
			custom_effect_tooltip = right_fact_party_comp_plus_5
			check_overlap_of_party_composition = yes
		}
		if = {
			limit = { NOT = { has_country_flag = Lev_Trotsky_dead } }
			hidden_effect = { country_event = { id = rcw_bolsheviks.231 days = 20 } }
			else = {
				hidden_effect = { country_event = { id = rcw_bolsheviks.232 days = 21 } }
			}
		}
	}
}

# Декабрь 1920, пленум ЦК, чёто о профсоюзах
country_event = {
	id = rcw_bolsheviks.231
	title = rcw_bolsheviks.231.t
	desc = {
		text = rcw_bolsheviks.231.desc
		trigger = { NOT = { has_country_flag = Vladimir_Lenin_dead } }
	}
	desc = {
		text = rcw_bolsheviks.231.desc_1
		trigger = { has_country_flag = Vladimir_Lenin_dead }
	}
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	# Вынести дискуссию в печать
	option = {
		trigger = { NOT = { has_country_flag = Vladimir_Lenin_dead } }
		name = rcw_bolsheviks.231.a
		add_to_variable = { var = Trotskiy_power value = -1 }
		hidden_effect = { country_event = { id = rcw_bolsheviks.232 days = 1 } }
	}
	# Нет.
	option = {
		trigger = { NOT = { has_country_flag = Vladimir_Lenin_dead } }
		name = rcw_bolsheviks.231.b
		add_to_variable = { var = Trotskiy_power value = 1 }
		hidden_effect = { country_event = { id = rcw_bolsheviks.232 days = 1 } }
	}
	# ЦК соглашается с Троцким скрипя зубами
	option = {
		trigger = { has_country_flag = Vladimir_Lenin_dead }
		name = rcw_bolsheviks.231.c
		if = {
			limit = { has_country_flag = railway_self_government }
			clr_country_flag = railway_self_government
			add_to_variable = { decist_faction_party_compositon = 0.05 }
			add_to_variable = { left_faction_party_compositon = 0.05 }
			custom_effect_tooltip = decist_fact_party_comp_plus_5
			custom_effect_tooltip = left_fact_party_comp_plus_5
			check_overlap_of_party_composition = yes
			
			add_to_variable = { var = Trotskiy_power value = 1 }
		}
		hidden_effect = { country_event = { id = rcw_bolsheviks.232 days = 1 } }
	}
}
# Декабрь 1920, пленум ЦК, чёто о требовании децистов с реформой СНК
country_event = {
	id = rcw_bolsheviks.232
	title = rcw_bolsheviks.232.t
	desc = rcw_bolsheviks.232.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	# Принять
	option = {
		name = rcw_bolsheviks.232.a
		hidden_effect = { country_event = { id = rcw_bolsheviks.233 days = 30 random_days = 10 } }
	}
	# Нет.
	option = {
		name = rcw_bolsheviks.232.b
		add_political_power = -50
		
		add_to_variable = { decist_faction_party_compositon = -0.05 }
		custom_effect_tooltip = decist_fact_party_comp_minus_5
		check_overlap_of_party_composition = yes
		hidden_effect = { country_event = { id = rcw_bolsheviks.233 days = 30 random_days = 10 } }
	}
	# ВЧК арестует всех
	option = {
		trigger = { left_fact_party_is_ruling = yes }
		name = rcw_bolsheviks.232.c
		add_to_variable = { left_faction_party_compositon = -0.10 }
		add_to_variable = { decist_faction_party_compositon = -0.20 }
		add_to_variable = { moderate_faction_party_compositon = 0.05 }
		add_to_variable = { right_faction_party_compositon = 0.05 }
		custom_effect_tooltip = left_fact_party_comp_minus_10
		custom_effect_tooltip = decist_fact_party_comp_minus_20
		custom_effect_tooltip = moderate_fact_party_comp_plus_5
		custom_effect_tooltip = right_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
		
		custom_effect_tooltip = remove_all_decists_from_CC
		hidden_effect = {
			add_to_variable = { var = decist_faction_CC value = -100 }
			check_overlap_of_CC_n_CEC_deputies_add = yes
			set_frame_of_CC_n_CEC = yes
		}
		#hidden_effect = { country_event = { id = rcw_bolsheviks.233 days = 30 random_days = 10 } }
		set_country_flag = Alexandr_Shlyapnikov_arrested
		#hidden_effect = { country_event = { id = rcw_bolsheviks.234 days = 70 random_days = 10 } }
		hidden_effect = { country_event = { id = rcw_bolsheviks.235 days = 74 random_days = 10 } }
	}
}
# Январь 1921, Шляпников требует передать промышленность профсоюзам
country_event = {
	id = rcw_bolsheviks.233
	title = rcw_bolsheviks.233.t
	desc = rcw_bolsheviks.233.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	# Ничего не делать
	option = {
		name = rcw_bolsheviks.233.a
		hidden_effect = { country_event = { id = rcw_bolsheviks.235 days = 44 } }
	}
	# Начать гонения на оппозицию
	option = {
		name = rcw_bolsheviks.233.b
		add_political_power = 20
		
		add_to_variable = { decist_faction_party_compositon = -0.05 }
		custom_effect_tooltip = decist_fact_party_comp_minus_5
		check_overlap_of_party_composition = yes
		hidden_effect = { country_event = { id = rcw_bolsheviks.234 days = 40 } }
		hidden_effect = { country_event = { id = rcw_bolsheviks.235 days = 44 } }
	}
	# ВЧК арестует всех
	option = {
		trigger = { left_fact_party_is_ruling = yes }
		name = rcw_bolsheviks.233.c
		add_to_variable = { left_faction_party_compositon = -0.10 }
		add_to_variable = { decist_faction_party_compositon = -0.10 }
		add_to_variable = { moderate_faction_party_compositon = 0.05 }
		add_to_variable = { right_faction_party_compositon = 0.05 }
		custom_effect_tooltip = left_fact_party_comp_minus_10
		custom_effect_tooltip = decist_fact_party_comp_minus_10
		custom_effect_tooltip = moderate_fact_party_comp_plus_5
		custom_effect_tooltip = right_fact_party_comp_plus_5
		check_overlap_of_party_composition = yes
		
		custom_effect_tooltip = remove_all_decists_from_CC
		hidden_effect = {
			add_to_variable = { var = decist_faction_CC value = -100 }
			check_overlap_of_CC_n_CEC_deputies_add = yes
			set_frame_of_CC_n_CEC = yes
		}
		set_country_flag = Alexandr_Shlyapnikov_arrested
		hidden_effect = { country_event = { id = rcw_bolsheviks.234 days = 40 } }
		hidden_effect = { country_event = { id = rcw_bolsheviks.235 days = 44 } }
	}
}

# Март 1921, Кронштадтское восстание
country_event = {
	id = rcw_bolsheviks.234
	title = rcw_bolsheviks.234.t
	desc = rcw_bolsheviks.234.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		NOT = { has_government = radical_socialism }
		controls_state = 1372
		controls_state = 195
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			KRN = {
				drop_cosmetic_tag = yes
				transfer_state = 1372
				set_politics = { ruling_party = radical_socialism }
				create_country_leader = { name = "Stepan Petrichenko" desc = KRN_Stepan_Petrichenko_DESC picture = "gfx/leaders/SOV/Portrait_Stepan_Petrichenko.dds" expire = "1935.1.1" ideology = democratic_socialism traits = { baltic_fleet_sailor } }
			}
			1372 = { add_core_of = KRN }
			if = {
				limit = { has_country_flag = Alexandr_Shlyapnikov_arrested }
				KRN = {
					create_country_leader = { name = "Alexandr Shlyapnikov" desc = RUS_Alexandr_Shlyapnikov_DESC picture="gfx/leaders/SOV/Portrait_Alexandr_Shlyapnikov.dds" expire="1935.1.1" ideology = syndicalism traits={ semi_syndicalist } }
					set_politics = { ruling_party = communism }
				}
			}
		}
	}
	
	option = {
		name = rcw_bolsheviks.234.a
		effect_tooltip = {
			KRN = { transfer_state = 1372 }
		}
		hidden_effect = { KRN = { load_oob = KRN_1921 } }
		country_event = { id = rcw_bolsheviks.241 days = 1 }
		hidden_effect = { country_event = { id = rcw_bolsheviks.242 days = 4 } }
	}
	option = {
		name = rcw_bolsheviks.234.b
		effect_tooltip = {
			KRN = { transfer_state = 1372 }
		}
		hidden_effect = { KRN = { load_oob = KRN_1921 } }
		country_event = { id = rcw_bolsheviks.241 days = 1 }
		hidden_effect = { country_event = { id = rcw_bolsheviks.242 days = 4 } }
		KRN = { change_tag_from = RUS }
	}
}

# Март 1921, X съезд РКП (б)
country_event = {
	id = rcw_bolsheviks.235
	title = rcw_bolsheviks.235.t
	desc = rcw_bolsheviks.235.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			set_country_flag = RUS_RKP_b_X_fired
		}
	}
	
	trigger = {
		NOT = { has_country_flag = RUS_RKP_b_X_fired }
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw_bolsheviks.235.a
		country_event = { id = rcw_bolsheviks.237 days = 1 }
	}
}

# Доклад и прения по партстроительству
country_event = {
	id = rcw_bolsheviks.237
	title = rcw_bolsheviks.237.t
	desc = rcw_bolsheviks.237.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.237.a
		add_to_variable = { left_faction_party_compositon = 5 }
		check_overlap_of_party_composition = yes
		custom_effect_tooltip = left_fact_party_comp_plus_5
		
		if = {
			limit = { NOT = { has_country_flag = Alexandr_Shlyapnikov_arrested } }
			country_event = { id = rcw_bolsheviks.238 days = 1 }
			else = { country_event = { id = rcw_bolsheviks.239 days = 1 } }
		}
	}
	option = {
		name = rcw_bolsheviks.237.b
		add_to_variable = { decist_faction_party_compositon = 5 }
		check_overlap_of_party_composition = yes
		custom_effect_tooltip = decist_fact_party_comp_plus_5
		
		if = {
			limit = { NOT = { has_country_flag = Alexandr_Shlyapnikov_arrested } }
			country_event = { id = rcw_bolsheviks.238 days = 1 }
			else = { country_event = { id = rcw_bolsheviks.239 days = 1 } }
		}
	}
}

# Доклад и прения по профсоюзам Шляпникова
country_event = {
	id = rcw_bolsheviks.238
	title = rcw_bolsheviks.238.t
	desc = rcw_bolsheviks.238.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.238.a
		add_political_power = -30
		
		country_event = { id = rcw_bolsheviks.239 days = 1 }
	}
	option = {
		name = rcw_bolsheviks.238.b
		add_to_variable = { decist_faction_party_compositon = 5 }
		check_overlap_of_party_composition = yes
		custom_effect_tooltip = decist_fact_party_comp_plus_5
		
		country_event = { id = rcw_bolsheviks.239 days = 1 }
	}
}

# Про концессии
country_event = {
	id = rcw_bolsheviks.239
	title = rcw_bolsheviks.239.t
	desc = rcw_bolsheviks.239.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.239.a
		add_to_variable = { moderate_faction_party_compositon = 10 }
		add_to_variable = { right_faction_party_compositon = 5 }
		check_overlap_of_party_composition = yes
		custom_effect_tooltip = moderate_fact_party_comp_plus_10
		custom_effect_tooltip = right_fact_party_comp_plus_5
		
		country_event = { id = rcw_bolsheviks.250 days = 4 }
	}
	option = {
		name = rcw_bolsheviks.239.b
		add_to_variable = { left_faction_party_compositon = 10 }
		check_overlap_of_party_composition = yes
		custom_effect_tooltip = left_fact_party_comp_plus_10
		
		country_event = { id = rcw_bolsheviks.250 days = 4 }
	}
}


# Штурм или осада
country_event = {
	id = rcw_bolsheviks.241
	title = rcw_bolsheviks.241.t
	desc = rcw_bolsheviks.241.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.241.a
		start_border_war = {
			attacker = {
				state = 195
				num_provinces = 2
				on_win = rcw_bolsheviks.243
				on_lose = rcw_bolsheviks.244
				on_cancel = rcw_bolsheviks.245
			}
			
			defender = {
				state = 1372
				num_provinces = 1
				on_win = rcw_bolsheviks.244
				on_lose = rcw_bolsheviks.243
				on_cancel = rcw_bolsheviks.245
			}
		}
		add_stability = -0.03
	}
	option = {
		name = rcw_bolsheviks.241.b
		declare_war_on = { target = KRN type = annex_everything }
		add_stability = -0.05
		add_war_support = -0.1
	}
}

# Отправить делегатов со съезда на подавление Кронштадта
country_event = {
	id = rcw_bolsheviks.242
	title = rcw_bolsheviks.242.t
	desc = rcw_bolsheviks.242.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	trigger = {
		has_country_flag = RUS_RKP_b_X_fired
	}
	
	option = {
		name = rcw_bolsheviks.242.a
		195 = {
			create_unit = {
				division = "name = \"Krasnaya Gvardiya\" division_template = \"Krasnaya Gvardiya\" start_experience_factor = 0.1 start_equipment_factor = 1"
				owner = RUS
			}
			create_unit = {
				division = "name = \"Krasnaya Gvardiya\" division_template = \"Krasnaya Gvardiya\" start_experience_factor = 0.1 start_equipment_factor = 1"
				owner = RUS
			}
		}
		add_political_power = -20
		add_to_variable = { decist_faction_party_compositon = -0.05 }
		custom_effect_tooltip = decist_fact_party_comp_minus_5
		check_overlap_of_party_composition = yes
	}
	option = {
		name = rcw_bolsheviks.242.b
	}
}

# ахах Кронштандт слился
country_event = {
	id = rcw_bolsheviks.243
	title = rcw_bolsheviks.243.t
	desc = rcw_bolsheviks.243.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		trigger = { tag = RUS }
		name = rcw_bolsheviks.243.a
		annex_country = {
			target = KRN
			transfer_troops = no
		}
	}
	option = {
		trigger = { tag = KRN }
		name = rcw_bolsheviks.243.a
	}
}
# НА КРОНШТАДСКИЙ ЛЁД МЫ НЕ ЗА ТО ЛОЖИЛИСЬ
country_event = {
	id = rcw_bolsheviks.244
	title = rcw_bolsheviks.244.t
	desc = rcw_bolsheviks.244.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		trigger = { tag = KRN }
		name = rcw_bolsheviks.244.a
		KRN = {
			transfer_state = 195
		}
	}
	option = {
		trigger = { tag = RUS }
		name = rcw_bolsheviks.244.b
		add_to_variable = { decist_faction_party_compositon = 0.15 }
		add_to_variable = { right_faction_party_compositon = 0.15 }
		custom_effect_tooltip = decist_fact_party_comp_plus_15
		custom_effect_tooltip = right_fact_party_comp_plus_15
		check_overlap_of_party_composition = yes
	}
}
# Пат
country_event = {
	id = rcw_bolsheviks.245
	title = rcw_bolsheviks.245.t
	desc = rcw_bolsheviks.245.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.245.a
	}
	option = {
		trigger = { tag = RUS }
		name = rcw_bolsheviks.245.b
		declare_war_on = { target = KRN type = annex_everything }
	}
}

# Конец съезда
country_event = {
	id = rcw_bolsheviks.250
	title = rcw_bolsheviks.250.t
	desc = rcw_bolsheviks.250.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.250.a
		hidden_effect = {
			if = {
				limit = {
					decist_fact_party_is_ruling = yes
					check_variable = { decist_faction_party_compositon > left_faction_party_compositon }
					check_variable = { decist_faction_party_compositon > center_faction_party_compositon }
					check_variable = { decist_faction_party_compositon > moderate_faction_party_compositon }
					check_variable = { decist_faction_party_compositon > right_faction_party_compositon }
				}
				country_event = rcw_bolsheviks.256 #Закрепление линии децистов
				else = {
					if = {
						limit = { has_completed_focus = RUS_power_of_elected_committees }
						uncomplete_national_focus = {
							focus = RUS_power_of_elected_committees
							uncomplete_children = no
							refund_political_power = no
						}
					}
					if = {
						limit = { has_country_flag = RUS_RKP_b_VIII_decist_war_plan }
						clr_country_flag = RUS_RKP_b_VIII_decist_war_plan
						set_country_flag = RUS_RKP_b_VIII_non_decist_war_plan
					}

					if = {
						limit = {
							OR = {
								has_country_flag = demands_of_Kronstadt_sailors_accepted
								KRN = { controls_state = 195 }
								KRN = { exists = yes }
							}
						}
						if = {
							limit = { RUS = { is_ai = yes } KRN = { is_ai = no } }
							RUS = { change_tag_from = KRN }
						}
						annex_country = {
							target = KRN
							transfer_troops = no
						}
					}
					if = {
						limit = {
							OR = {
								has_country_flag = demands_of_Kronstadt_sailors_accepted
								KRN = { controls_state = 195 }
							}
						}
						country_event = rcw_bolsheviks.255 #Победа требований Кронштадта
						else = {
							if = {
								limit = { left_fact_party_is_ruling = yes }
								set_temp_variable = { decists_block = 0 }
								add_to_temp_variable = { decists_block = decist_faction_party_compositon }
								add_to_temp_variable = { decists_block = right_faction_party_compositon }
								if = {
									limit = {
										check_variable = { decists_block > 0.5 }
									}
									if = {
										limit = { has_country_flag = Alexandr_Shlyapnikov_arrested }
										if = {
											limit = { RUS = { is_ai = yes } KRN = { is_ai = no } }
											RUS = { change_tag_from = KRN }
										}
										annex_country = {
											target = KRN
											transfer_troops = no
										}
									}
									if = {
										limit = { check_variable = { right_faction_party_compositon > decist_faction_party_compositon } }
										country_event = rcw_bolsheviks.257 #Правый уклон
										else = {
											country_event = rcw_bolsheviks.254 #Шляпа/Коллонтай
										}
									}
								}
								if = {
									limit = { KRN = { exists = yes NOT = { has_war_with = ROOT } } }
									set_country_flag = { flag = Kronshtadt_exists days = 1 }
								}
								if = {
									limit = {
										NOT = { check_variable = { decists_block > 0.5 } }
										OR = {
											KRN = { exists = yes NOT = { has_war_with = ROOT } }
											check_variable = { moderate_faction_party_compositon > left_faction_party_compositon }
										}
										check_variable = { moderate_faction_party_compositon > center_faction_party_compositon }
									}
									country_event = rcw_bolsheviks.252 #Зиновьев
								}
								if = {
									limit = {
										NOT = { check_variable = { decists_block > 0.5 } }
										OR = {
											KRN = { exists = yes NOT = { has_war_with = ROOT } }
											check_variable = { center_faction_party_compositon > left_faction_party_compositon }
										}
										NOT = { check_variable = { moderate_faction_party_compositon > center_faction_party_compositon } }
									}
									country_event = rcw_bolsheviks.251 #Ленинская линия
								}
							}
							
							if = {
								limit = { NOT = { left_fact_party_is_ruling = yes } }
								if = {
									limit = {
										check_variable = { decist_faction_party_compositon > 0.5 }
									}
									country_event = rcw_bolsheviks.254 #Шляпа/Коллонтай
									else = {
										if = {
											limit = {
												check_variable = { left_faction_party_compositon > center_faction_party_compositon }
												check_variable = { left_faction_party_compositon > moderate_faction_party_compositon }
												check_variable = { left_faction_party_compositon > right_faction_party_compositon }
											}
											country_event = rcw_bolsheviks.253 #Троцкий
										}
										if = {
											limit = {
												check_variable = { right_faction_party_compositon > center_faction_party_compositon }
												check_variable = { right_faction_party_compositon > moderate_faction_party_compositon }
												NOT = { check_variable = { left_faction_party_compositon > right_faction_party_compositon } }
											}
											country_event = rcw_bolsheviks.257 #Правый уклон
										}
										if = {
											limit = {
												check_variable = { moderate_faction_party_compositon > center_faction_party_compositon }
												NOT = { check_variable = { left_faction_party_compositon > moderate_faction_party_compositon } }
												NOT = { check_variable = { right_faction_party_compositon > moderate_faction_party_compositon } }
											}
											country_event = rcw_bolsheviks.252 #Зиновьев
										}
										if = {
											limit = {
												NOT = { check_variable = { left_faction_party_compositon > center_faction_party_compositon } }
												NOT = { check_variable = { moderate_faction_party_compositon > center_faction_party_compositon } }
												NOT = { check_variable = { right_faction_party_compositon > center_faction_party_compositon } }
											}
											country_event = rcw_bolsheviks.251 #Ленинская линия
										}
									}
								}
							}
						}
					}
				}
			}
			
			
			
			if = {
				limit = {
					KRN = { exists = yes NOT = { has_war_with = ROOT } }
				}
				declare_war_on = { target = KRN type = annex_everything }
			}
		}
		hidden_effect = { set_seats_in_CC_simular_to_faction_power = yes }
		custom_effect_tooltip = set_seats_in_CC_simular_to_faction_power_tt
	}
}


# Ленинская линия
country_event = {
	id = rcw_bolsheviks.251
	title = {
		text = rcw_bolsheviks.251.t
		trigger = { center_fact_party_is_ruling = yes }
	}
	title = {
		text = rcw_bolsheviks.251.t_others
		trigger = { NOT = { center_fact_party_is_ruling = yes } }
	}
	desc = {
		text = rcw_bolsheviks.251.desc
		trigger = { NOT = { left_fact_party_is_ruling = yes } }
	}
	desc = {
		text = rcw_bolsheviks.251.desc_lefts
		trigger = { left_fact_party_is_ruling = yes NOT = { has_country_flag = Kronshtadt_exists } }
	}
	desc = {
		text = rcw_bolsheviks.251.desc_lefts_Kronshtadt
		trigger = { left_fact_party_is_ruling = yes has_country_flag = Kronshtadt_exists }
	}
	picture = GFX_report_event_sov_felix_VCHK
	
	immediate = {
		if = {
			limit = { has_country_flag = war_communism }
			custom_effect_tooltip = rcw_bolsheviks_250_NEP
		}
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.251.a
		hidden_effect = {
			if = {
				limit = { has_country_flag = war_communism }
				clr_country_flag = war_communism
				set_country_flag = war_communism_abolished
			}
		}
		if = {
			limit = { has_country_flag = Vladimir_Lenin_dead }
			create_country_leader = { name = "Grigoriy Zinoviev" desc = SOV_Grigoriy_Zinoviev_DESC picture = "gfx/leaders/SOV/Portrait_Grigoriy_Zinoviev.dds" expire = "1935.1.1" ideology = leninism traits = {  } }
			else = {
				set_variable = { Vladimir_Lenin_fact = 4 }
			}
		}
	}
}
# Зиновьев
country_event = {
	id = rcw_bolsheviks.252
	title = {
		text = rcw_bolsheviks.252.t
		trigger = { NOT = { left_fact_party_is_ruling = yes } }
	}
	title = {
		text = rcw_bolsheviks.252.t_lefts
		trigger = { left_fact_party_is_ruling = yes }
	}
	desc = {
		text = rcw_bolsheviks.252.desc
		trigger = { NOT = { left_fact_party_is_ruling = yes } }
	}
	desc = {
		text = rcw_bolsheviks.252.desc_lefts
		trigger = { left_fact_party_is_ruling = yes NOT = { has_country_flag = Kronshtadt_exists } }
	}
	desc = {
		text = rcw_bolsheviks.252.desc_lefts_Kronshtadt
		trigger = { left_fact_party_is_ruling = yes has_country_flag = Kronshtadt_exists }
	}
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { has_country_flag = war_communism }
			custom_effect_tooltip = rcw_bolsheviks_250_NEP
		}
	}
	
	option = {
		name = rcw_bolsheviks.252.a
		hidden_effect = {
			if = {
				limit = { has_country_flag = war_communism }
				clr_country_flag = war_communism
				set_country_flag = war_communism_abolished
			}
		}
		create_country_leader = { name = "Grigoriy Zinoviev" desc = SOV_Grigoriy_Zinoviev_DESC picture = "gfx/leaders/SOV/Portrait_Grigoriy_Zinoviev.dds" expire = "1935.1.1" ideology = leninism traits = {  } }
	}
}
# Троцкий
country_event = {
	id = rcw_bolsheviks.253
	title = rcw_bolsheviks.253.t
	desc = {
		text = rcw_bolsheviks.253.desc
		trigger = { NOT = { has_country_flag = Lev_Trotsky_dead left_fact_party_is_ruling = yes } }
	}
	desc = {
		text = rcw_bolsheviks.253.desc_lefts
		trigger = { NOT = { has_country_flag = Lev_Trotsky_dead } left_fact_party_is_ruling = yes }
	}
	desc = {
		text = rcw_bolsheviks.253.desc_Sklyansky
		trigger = { has_country_flag = Lev_Trotsky_dead NOT = { left_fact_party_is_ruling = yes } }
	}
	desc = {
		text = rcw_bolsheviks.253.desc_Sklyansky_lefts
		trigger = { has_country_flag = Lev_Trotsky_dead left_fact_party_is_ruling = yes }
	}
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.252.a
		
		set_politics = { ruling_party = communism elections_allowed = no }
		if = {
			limit = { NOT = { has_country_flag = Lev_Trotsky_dead } NOT = { has_country_leader = { name = "Lev Trotsky" ruling_only = yes } } }
			create_country_leader = { name = "Lev Trotsky" desc = SOV_Lev_Trotsky_DESC picture = "gfx/leaders/SOV/Portrait_Lev_Trotsky.dds" expire = "1935.1.1" ideology = stalinism traits = { permanent_revolutionary red_army_organizer } }
		}
		if = {
			limit = { has_country_flag = Lev_Trotsky_dead NOT = { has_country_leader = { name = "Ephraim Sklyansky" ruling_only = yes } } }
			create_country_leader = { name = "Ephraim Sklyansky" desc = SOV_Ephraim_Sklyansky_DESC picture = "gfx/leaders/SOV/Portrait_Ephraim_Sklyansky.dds" ideology = stalinism traits = {  } }
		}
		add_ideas = Lev_Trotsky_1
		add_ideas = Lev_Trotsky_6
		add_ideas = Lev_Trotsky_army_chief
		
		uncomplete_national_focus = {
			focus = RUS_power_of_elected_committees
			uncomplete_children = no
			refund_political_power = no
		}
		
		clr_country_flag = RUS_RKP_b_VIII_decist_war_plan
		set_country_flag = RUS_RKP_b_VIII_non_decist_war_plan
	}
}
# Шляпников
country_event = {
	id = rcw_bolsheviks.254
	title = rcw_bolsheviks.254.t
	desc = {
		text = rcw_bolsheviks.254.desc
		trigger = { NOT = { left_fact_party_is_ruling = yes } }
	}
	desc = {
		text = rcw_bolsheviks.254.desc_lefts
		trigger = { NOT = { has_country_flag = Lev_Trotsky_dead } left_fact_party_is_ruling = yes }
	}
	desc = {
		text = rcw_bolsheviks.254.desc_Sklyansky_lefts
		trigger = { has_country_flag = Lev_Trotsky_dead left_fact_party_is_ruling = yes }
	}
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { has_country_flag = war_communism }
			custom_effect_tooltip = rcw_bolsheviks_250_NEP
		}
	}
	
	option = {
		name = rcw_bolsheviks.254.a
		hidden_effect = {
			if = {
				limit = { has_country_flag = war_communism }
				clr_country_flag = war_communism
				set_country_flag = war_communism_abolished
			}
		}
		if = {
			limit = {
				has_country_flag = Alexandr_Shlyapnikov_arrested
			}
			create_country_leader = { name = "Alexandra Kollontay" desc = RUS_Alexandra_Kollontay_DESC picture="gfx/leaders/SOV/Portrait_Alexandra_Kollontay.dds" expire="1935.1.1" ideology = marxism traits={ } }
			else = {
				create_country_leader = { name = "Alexandr Shlyapnikov" desc = RUS_Alexandr_Shlyapnikov_DESC picture="gfx/leaders/SOV/Portrait_Alexandr_Shlyapnikov.dds" expire="1935.1.1" ideology = syndicalism traits={ } }
			}
		}
		clr_country_flag = Alexandr_Shlyapnikov_arrested
	}
}
# Победа требований Кронштадта
country_event = {
	id = rcw_bolsheviks.255
	title = rcw_bolsheviks.255.t
	desc = rcw_bolsheviks.255.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { has_country_flag = war_communism }
			custom_effect_tooltip = rcw_bolsheviks_250_NEP
		}
	}
	
	option = {
		name = rcw_bolsheviks.255.a
		hidden_effect = {
			if = {
				limit = { has_country_flag = war_communism }
				clr_country_flag = war_communism
				set_country_flag = war_communism_abolished
			}
		}
		if = {
			limit = {
				has_country_flag = Alexandr_Shlyapnikov_arrested
			}
			create_country_leader = { name = "Alexandr Shlyapnikov" desc = RUS_Alexandr_Shlyapnikov_DESC picture="gfx/leaders/SOV/Portrait_Alexandr_Shlyapnikov.dds" expire="1935.1.1" ideology = syndicalism traits={ } }
			else = {
				create_country_leader = { name = "David Ryazanov" desc = RUS_David_Ryazanov_DESC picture="gfx/leaders/SOV/Portrait_David_Ryazanov.dds" expire="1935.1.1" ideology = marxism traits={ } }
			}
		}
		clr_country_flag = Alexandr_Shlyapnikov_arrested
		add_ideas = soviet_republic_gov_form
		add_ideas = local_assembly_decisions_b_law
		add_ideas = poliparty_system_law
		add_ideas = workers_control_law
	}
}
# Закрепление линии децистов и их перекат в радсоц
country_event = {
	id = rcw_bolsheviks.256
	title = rcw_bolsheviks.256.t
	desc = rcw_bolsheviks.256.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { has_country_flag = war_communism }
			custom_effect_tooltip = rcw_bolsheviks_250_NEP
		}
	}
	
	option = {
		name = rcw_bolsheviks.256.a
		hidden_effect = {
			if = {
				limit = { has_country_flag = war_communism }
				clr_country_flag = war_communism
				set_country_flag = war_communism_abolished
			}
		}
		clr_country_flag = Alexandr_Shlyapnikov_arrested
		add_ideas = soviet_republic_gov_form
		add_ideas = local_assembly_decisions_b_law
		add_ideas = poliparty_system_law
		add_ideas = workers_control_law
		if = {
			limit = {
				has_government = communism
				has_country_leader = { name = "Timofey Sapronov" ruling_only = yes }
			}
			retire_country_leader = yes
			create_country_leader = { name = "Timofey Sapronov" desc = SOV_Timofey_Sapronov_DESC picture = "gfx/leaders/SOV/Portrait_Timofey_Sapronov.dds" expire = "1935.1.1" ideology = democratic_socialism traits = {  } }
		}
		if = {
			limit = {
				has_government = communism
				has_country_leader = { name = "N. Osinskiy" ruling_only = yes }
			}
			retire_country_leader = yes
			create_country_leader = { name = "N. Osinskiy" desc = SOV_Valerian_Obolensky-Osinskiy_DESC picture = "gfx/leaders/SOV/Portrait_Valerian_Obolensky-Osinskiy.dds" expire = "1935.1.1" ideology = democratic_socialism traits = {  } }
		}
		set_politics = { ruling_party = radical_socialism elections_allowed = no }
	}
}
# Правый уклон
country_event = {
	id = rcw_bolsheviks.257
	title = rcw_bolsheviks.257.t
	desc = rcw_bolsheviks.257.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { has_country_flag = war_communism }
			custom_effect_tooltip = rcw_bolsheviks_250_NEP
		}
	}
	
	option = {
		name = rcw_bolsheviks.257.a
		hidden_effect = {
			if = {
				limit = { has_country_flag = war_communism }
				clr_country_flag = war_communism
				set_country_flag = war_communism_abolished
			}
		}
		create_country_leader = { name = "David Ryazanov" desc = RUS_David_Ryazanov_DESC picture="gfx/leaders/SOV/Portrait_David_Ryazanov.dds" expire="1935.1.1" ideology = marxism traits={ } }
		add_ideas = soviet_republic_gov_form
		add_ideas = local_assembly_decisions_b_law
		add_ideas = poliparty_system_law
		add_ideas = workers_control_law
	}
}

# Переворот Троцкого
country_event = {
	id = rcw_bolsheviks.301
	title = rcw_bolsheviks.301.t
	desc = {
		text = rcw_bolsheviks.301.desc
		trigger = { NOT = { has_country_flag = RUS_RKP_b_VIII_decist_war_plan } }
	}
	desc = {
		text = rcw_bolsheviks.301.desc_decists
		trigger = { NOT = { has_country_flag = RUS_RKP_b_VIII_decist_war_plan } }
	}
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		NOT = { has_country_flag = Lev_Trotsky_dead }
		NOT = { has_country_leader = { name = "Lev Trotsky" ruling_only = yes } }
		has_variable = Trotskiy_power
		OR = {
			check_variable = { Trotskiy_power > 4 }
			AND = {
				has_country_flag = RUS_RKP_b_VIII_decist_war_plan
				OR = {
					has_stability < 0.1
					check_variable = { decist_faction_party_compositon < 0.1 }
				}
			}
		}
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 50
	}
	
	option = {
		name = rcw_bolsheviks.301.a
		set_politics = { ruling_party = communism elections_allowed = no }
		if = {
			limit = { NOT = { has_country_flag = Lev_Trotsky_dead } }
			create_country_leader = { name = "Lev Trotsky" desc = SOV_Lev_Trotsky_DESC picture = "gfx/leaders/SOV/Portrait_Lev_Trotsky.dds" expire = "1935.1.1" ideology = stalinism traits = { permanent_revolutionary red_army_organizer } }
			else = {
				create_country_leader = { name = "Ephraim Sklyansky" desc = SOV_Ephraim_Sklyansky_DESC picture = "gfx/leaders/SOV/Portrait_Ephraim_Sklyansky.dds" ideology = stalinism traits = {  } }
			}
		}
		add_ideas = Lev_Trotsky_1
		add_ideas = Lev_Trotsky_6
		add_ideas = Lev_Trotsky_army_chief
		
		clr_country_flag = RUS_RKP_b_VIII_decist_war_plan
		set_country_flag = RUS_RKP_b_VIII_non_decist_war_plan
		uncomplete_national_focus = {
			focus = RUS_power_of_elected_committees
			uncomplete_children = no
			refund_political_power = no
		}
		
		add_to_variable = { center_faction_party_compositon = -0.05 }
		add_to_variable = { moderate_faction_party_compositon = 0.15 }
		custom_effect_tooltip = center_fact_party_comp_minus_5
		custom_effect_tooltip = moderate_fact_party_comp_plus_15
		check_overlap_of_party_composition = yes
		
		add_stability = 0.15
		remove_ideas = RUS_weak_state_suppression_apparatus_2
	}
}
# Ленин уходит в отставку
country_event = {
	id = rcw_bolsheviks.302
	title = rcw_bolsheviks.302.t
	desc = rcw_bolsheviks.302.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		tag = RUS
		has_country_flag = RUS_flag_soviet_power
		has_country_leader = { name = "Vladimir Lenin" ruling_only = yes }
		check_variable = { Vladimir_Lenin_fact = 3 }
		check_variable = { center_faction_party_compositon < 0.06 }
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 3
	}
	
	option = {
		name = rcw_bolsheviks.302.a
		if = {
			limit = { has_country_leader = { name = "Vladimir Lenin" ruling_only = yes } }
			retire_country_leader = yes
		}
	}
}
# Ленин становится левым
country_event = {
	id = rcw_bolsheviks.303
	title = rcw_bolsheviks.303.t
	desc = rcw_bolsheviks.303.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.303.a
		set_variable = { Vladimir_Lenin_fact = 2 }
	}
}
# Ленин уходит в отставку в пользу Бухарина
country_event = {
	id = rcw_bolsheviks.304
	title = rcw_bolsheviks.304.t
	desc = rcw_bolsheviks.304.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = rcw_bolsheviks.304.a
		add_popularity = {
			ideology = radical_socialism
			popularity = 0.1
		}
		clr_country_flag = Lenin_threatens_his_resignation
		if = {
			limit = { has_country_leader = { name = "Vladimir Lenin" ruling_only = yes } }
			retire_country_leader = yes
		}
		create_country_leader = { name = "Nikolay Bukharin" desc = SOV_Nikolay_Bukharin_DESC picture = "gfx/leaders/SOV/Portrait_Nikolay_Bukharin.dds" ideology = marxism traits = { editor } }
	}
}