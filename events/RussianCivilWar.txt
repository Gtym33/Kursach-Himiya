###########################
# Russian Civil War Events
###########################

add_namespace = rcw

###### Антисоветские восстания в России ######

# Выступление Керенского-Краснова
country_event = {
	id = rcw.1
	title = rcw.1.t
	desc = rcw.1.d
	picture = GFX_report_event_rus_revolt_kerensky-krasnov
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		NOT = { has_country_flag = legitimized_bolsheviks }
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 0
	}
	
	option = {
		name = rcw.1.a
		hidden_effect = {
			country_event = { id = rcw.2 days = 3 }
		}
		set_country_flag = RUS_Ker_Kras_revolt
	}
}
# Восстание юнкеров в Петрограде
country_event = {
	id = rcw.2
	title = rcw.2.t
	desc = rcw.2.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.2.a
		add_manpower = -500
		country_event = { id = rcw.3 hours = 8 }
	}
	
	option = {
		name = rcw.2.b
		add_manpower = -200
		set_country_flag = RUS_yunkersrevoldsafgdgad
		country_event = { id = rcw.3 hours = 16 }
	}
}
# Восстание юнкеров подавлено
country_event = {
	id = rcw.3
	title = rcw.3.t
	desc = rcw.3.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.2.a
		hidden_effect = {
			country_event = { id = rcw.4 hours = 12 }
		}
	}
}
# Наступление на Гатчину
country_event = {
	id = rcw.4
	title = rcw.4.t
	desc = rcw.4.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.4.a
		random_list = {
			50 = {
				country_event = { id = rcw.5 days = 2 }
			}
			50 = {
				modifier = {
					factor = 0
					NOT = { has_country_flag = RUS_yunkersrevoldsafgdgad }
					has_country_flag = Kornilov_affair_fail
				}
				modifier = {
					factor = 0.4
					NOT = { has_country_flag = RUS_yunkersrevoldsafgdgad }
				}
				modifier = {
					factor = 0.6
					has_country_flag = Kornilov_affair_fail
				}
				country_event = { id = rcw.6 days = 7 }
			}
		}
		clr_country_flag = RUS_yunkersrevoldsafgdgad
	}
}
# Перемога
country_event = {
	id = rcw.5
	title = rcw.5.t
	desc = rcw.5.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.5.a
		clr_country_flag = RUS_Ker_Kras_revolt
		add_political_power = 25
		add_stability = 0.02
		add_manpower = -500
		add_popularity = {
			ideology = communism
			popularity = 0.01
		}
	}
}
# Зрада
country_event = {
	id = rcw.6
	title = rcw.6.t
	desc = rcw.6.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.6.a
		clr_country_flag = RUS_Ker_Kras_revolt
		set_country_flag = RUS_Ker_Kras_revolt_not_so_easy_to_supress
		add_political_power = -25
		add_stability = -0.02
		add_manpower = -2000
	}
}

# Начало операции Красной Гвардии против реакционных сил на Дону
country_event = {
	id = rcw.10
	title = rcw.10.t
	desc = rcw.10.d
	picture = GFX_report_event_sov_redarmy
	
	is_triggered_only = yes
	
	option = {
		name = rcw.10.a
		add_stability = 0.03
		load_oob = RUS_Antonov_Ovseenko
		if = {
			limit = { UKR = { exists = yes NOT = { has_government = communism has_government = radical_socialism } } }
			UKR = { country_event = ukraine.10 }
		}
		hidden_effect = {
			every_country = {
				limit = { original_tag = DON }
				add_ideas = neutral_foreign_policy_law
			}
		}
	}
}

# Восстание забайкальских казаков
country_event = {
	id = rcw.20
	title = rcw.20.t
	desc = {
		text = rcw.20.d
		trigger = {
			OR = {
				has_government = radical_socialism
				has_government = communism
			}
			NOT = { has_country_flag = RUS_all_russian_constituent_assembly_second_session_serfdom }
		}
	}
	desc = {
		text = rcw.20.d_1
		trigger = {
			NOT = {
				has_government = radical_socialism
				has_government = communism
			}
			NOT = { has_country_flag = RUS_all_russian_constituent_assembly_second_session_serfdom }
		}
	}
	desc = {
		text = rcw.20.d_2
		trigger = {
			has_country_flag = RUS_all_russian_constituent_assembly_second_session_serfdom
		}
	}
	picture = GFX_report_event_rus_kazaks_war
	
	trigger = {
		tag = RUS
		BKL = { exists = no }
		NOT = { has_country_flag = BKL_revolt }
		NOT = { has_country_flag = RUS_cossacks_were_disbanded }
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	mean_time_to_happen = {
		days = 35
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			every_unit_leader = { limit = { has_id = 77299 } set_nationality = BKL }
			BKL = {
				transfer_state = 761
				transfer_state = 950
				inherit_technology = RUS
				add_ideas = neutral_foreign_policy_law
				remove_all_foreing_locked_templates_from_liberated_country = yes
				hidden_effect = {
					every_country = {
						limit = {
							NOT = {
								tag = PREV
								is_any_former_russian_empire_country = yes
								former_russian_empire_baltic_states_country = yes
								has_war_with = PREV
								is_in_faction_with = PREV
							}
						}
						add_opinion_modifier = { target = PREV modifier = unrecognized_state_embargo }
						add_opinion_modifier = { target = PREV modifier = unrecognized_state_rel }
						reverse_add_opinion_modifier = { target = PREV modifier = unrecognized_state_embargo_to_initiator }
						reverse_add_opinion_modifier = { target = PREV modifier = unrecognized_state_rel_to_initiator }
						add_to_array = { unrecognized_states = PREV.id }
						add_ai_strategy = {
							type = befriend
							id = PREV
							value = -100
						}
						PREV = {
							add_ai_strategy = {
								type = befriend
								id = PREV
								value = -100
							}
						}
					}
				}
			}
			delete_unit_template_and_units = {
				division_template = "Kazach'ya brigada"
			}
		}
	}
	
	option = {
		name = rcw.20.a
		if = {
			limit = { RUS = { has_country_flag = RUS_Oktober_revolution_fired } }
			RUS = { load_oob = RUS_Chita_red_guard }
		}
		BKL = {
			hidden_effect = { country_event = { id = rcw.21 days = 2 } }
		}
		set_country_flag = BKL_revolt
	}
	option = {
		name = rcw.20.b
		trigger = {
			is_ai = no
			OR = {
				has_government = radical_socialism
				has_government = communism
				has_country_flag = RUS_Oktober_revolution_fired
			}
		}
		RUS = { load_oob = RUS_Chita_red_guard }
		BKL = {
			change_tag_from = RUS
			hidden_effect = { country_event = { id = rcw.21 days = 2 } }
		}
		set_country_flag = BKL_revolt
	}
	option = {
		name = rcw.20.c
		trigger = {
			is_ai = no
			NOT = {
				has_government = radical_socialism
				has_government = communism
				has_country_flag = RUS_Oktober_revolution_fired
			}
		}
		BKL = {
			change_tag_from = RUS
			hidden_effect = { country_event = { id = rcw.21 days = 2 } }
		}
		set_country_flag = BKL_revolt
	}
}
country_event = {
	id = rcw.21
	
	title = rcw.21.t
	desc = rcw.21.d
	
	is_triggered_only = yes
	
	option = {
		name = rcw.21.a
		set_province_controller = 4677
		set_province_controller = 4719
		set_province_controller = 7725
		set_province_controller = 7786
		declare_war_on = {
			target = RUS
			type = annex_everything
		}
		load_oob = BKL_cossaks
	}
}

# Восстание оренбургских казаков
country_event = {
	id = rcw.22
	title = rcw.22.t
	desc = rcw.22.d
	
	picture = GFX_report_event_rss_orenburg_gambit
	
	trigger = {
		tag = RUS
		NOT = { has_global_flag = RUS_civil_war_over }
		OCH = { exists = no }
		NOT = { has_country_flag = OCH_revolt }
		has_country_flag = RUS_Oktober_revolution_fired
		NOT = { has_country_flag = RUS_cossacks_were_disbanded }
	}
	
	mean_time_to_happen = {
		days = 35
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			OCH = {
				transfer_state = 652
				add_state_core = 652
				inherit_technology = RUS
				add_ideas = neutral_foreign_policy_law
				remove_all_foreing_locked_templates_from_liberated_country = yes
				hidden_effect = {
					every_country = {
						limit = {
							NOT = {
								tag = PREV
								is_any_former_russian_empire_country = yes
								former_russian_empire_baltic_states_country = yes
								has_war_with = PREV
								is_in_faction_with = PREV
							}
						}
						add_opinion_modifier = { target = PREV modifier = unrecognized_state_embargo }
						add_opinion_modifier = { target = PREV modifier = unrecognized_state_rel }
						reverse_add_opinion_modifier = { target = PREV modifier = unrecognized_state_embargo_to_initiator }
						reverse_add_opinion_modifier = { target = PREV modifier = unrecognized_state_rel_to_initiator }
						add_to_array = { unrecognized_states = PREV.id }
						add_ai_strategy = {
							type = befriend
							id = PREV
							value = -100
						}
						PREV = {
							add_ai_strategy = {
								type = befriend
								id = PREV
								value = -100
							}
						}
					}
				}
			}
			delete_unit_template_and_units = {
				division_template = "Kazach'ya brigada"
			}
		}
	}
	
	option = {
		name = rcw.22.a
		OCH = {
			load_oob = OCH_cossaks
			if = {
				limit = { RUS = { OR = { has_completed_focus = RUS_struggle_against_counterrevolution NOT = { has_focus_tree = Russia_Bolsheviks_focus } } } }
				declare_war_on = {
					target = RUS
					type = annex_everything
				}
			}
		}
		set_country_flag = OCH_revolt
	}
	option = {
		trigger = { is_ai = no }
		name = rcw.22.b
		OCH = {
			load_oob = OCH_cossaks
			if = {
				limit = { RUS = { OR = { has_completed_focus = RUS_struggle_against_counterrevolution NOT = { has_focus_tree = Russia_Bolsheviks_focus } } } }
				declare_war_on = {
					target = RUS
					type = annex_everything
				}
			}
		}
		set_country_flag = OCH_revolt
		OCH = { change_tag_from = RUS }
	}
}

country_event = {
	id = rcw.31
	title = rcw.31.t
	desc = rcw.31.d
	
	trigger = {
		tag = RUS
		NOT = { has_global_flag = RUS_civil_war_over }
		CRI = { exists = no }
		has_country_flag = RUS_Oktober_revolution_fired
		owns_state = 137
		OR = {
			has_idea = RUS_weak_state_suppression_apparatus
			has_idea = RUS_weak_state_suppression_apparatus_1
		}
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = rcw.31.a
		CRI = {
			transfer_state = 137
			add_ideas = neutral_foreign_policy_law
			remove_all_foreing_locked_templates_from_liberated_country = yes
			load_oob = CRI_1918
		}
	}
	option = {
		name = rcw.31.b
		CRI = {
			transfer_state = 137
			add_ideas = neutral_foreign_policy_law
			remove_all_foreing_locked_templates_from_liberated_country = yes
			load_oob = CRI_1918
		}
		CRI = { change_tag_from = ROOT }
	}
}
country_event = {
	id = rcw.32
	title = rcw.32.t
	desc = rcw.32.d
	
	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		tag = CRI
		RUS = { has_country_flag = RUS_Oktober_revolution_fired }
		NOT = { owns_state = 1073 }
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 90
	}
	
	option = {
		name = rcw.31.a
		transfer_state = 1073
		set_politics = { ruling_party = communism }
		add_popularity = { ideology = communism popularity = 0.1 }
	}
}

# Общеказахский съезд
country_event = {
	id = rcw.60
	title = rcw.60.t
	desc = rcw.60.d
	picture = GFX_report_event_sov_redarm
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			KAZ = {
				inherit_technology = RUS
				set_cosmetic_tag = KAZ_ALASH
			}
		}
	}
	mean_time_to_happen = {
		days = 38
	}
	
	option = {
		name = rcw.60.a
		add_stability = 0.03
		every_state = {
			limit = {
				OR = {
					is_owned_by = ROOT
					any_country = {
						is_subject_of = ROOT
						PREV = { is_owned_by = PREV }
					}
				}
				OR = {
					state = 404
					state = 583
					state = 588
					state = 590
					state = 908
				}
			}
			KAZ = { transfer_state = PREV }
		}
		KAZ = {
			add_ideas = neutral_foreign_policy_law
			remove_all_foreing_locked_templates_from_liberated_country = yes
			inherit_technology = RUS
			load_oob = KAZ_1917
		}
		every_state = {
			limit = {
				is_core_of = KAZ
				is_owned_by = KAZ
			}
			remove_core_of = RUS
			remove_core_of = CCA
			remove_core_of = RSS
		}
	}
	option = {
		name = rcw.60.b
		trigger = {
			is_ai = no
		}
		add_stability = 0.03
		every_state = {
			limit = {
				OR = {
					is_owned_by = ROOT
					any_country = {
						is_subject_of = ROOT
						PREV = { is_owned_by = PREV }
					}
				}
				OR = {
					state = 404
					state = 583
					state = 588
					state = 590
					state = 908
				}
			}
			KAZ = { transfer_state = PREV }
		}
		KAZ = {
			add_ideas = neutral_foreign_policy_law
			remove_all_foreing_locked_templates_from_liberated_country = yes
			inherit_technology = RUS
			load_oob = KAZ_1917
		}
		every_state = {
			limit = {
				is_core_of = KAZ
				is_owned_by = KAZ
			}
			remove_core_of = RUS
			remove_core_of = CCA
			remove_core_of = RSS
		}
		
		KAZ = {
			change_tag_from = RUS
		}
	}
}

###### Эвенты взаиводействия белых и Антанты ######

# Вылетает большевикам, когда Британия высаживается в Мурманске
country_event = {
	id = rcw.201
	title = rcw.201.t
	desc = rcw.201.d
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.201.a
	}
}

# Вылетает большевикам, незадолго до десанта в Архангельске
country_event = {
	id = rcw.202
	title = rcw.202.t
	desc = rcw.202.d
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.202.a
	}
}

# Вылетает большевикам, после десанта в Архангельске
country_event = {
	id = rcw.203
	title = rcw.203.t
	desc = rcw.203.d
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.203.a
		add_war_support = 0.025
	}
}

# Поставки вооружение от Антанты
country_event = {
	id = rcw.500
	title = rcw.500.t
	desc = rcw.500.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_equipment = {
				infantry_equipment > 999
			}
		}
		name = rcw.500.a
		FROM = {
			send_equipment = {
				equipment = infantry_equipment
				amount = 1000
				target = ROOT
			}
		}
		add_to_variable = { global.Entente_support_limit = 1 }
		add_to_variable = { global.Entente_support_count = 10 }
	}
	option = {
		name = rcw.500.b
		trigger = {
			is_ai = no
		}
	}
}

# Начало продовольственного кризиса
country_event = {
	id = rcw.1001
	title = rcw.1001.t
	desc = rcw.1001.d
	picture = GFX_report_event_sov_food_crisis
	
	trigger = {
		tag = RUS
		NOT = { has_completed_focus = RUS_prodnalog }
		NOT = { has_completed_focus = RUS_voluntary_agriculture_cooperatives }
		has_country_flag = RUS_Oktober_revolution_fired
		has_idea = peasant_and_land_and_bread_question
		NOT = { has_global_flag = RUS_civil_war_over }
		NOT = { has_country_flag = RUS_foodstuffs_supply_crisis_flag }
		OR = {
			has_idea = RUS_collapse_of_railway_system_1
			has_idea = RUS_collapse_of_railway_system_2
			has_idea = RUS_collapse_of_railway_system_3
			has_idea = RUS_collapse_of_railway_system_4
			has_idea = RUS_collapse_of_railway_system_5
		}
		NOT = {
			has_idea = foodstuffs_supply_crisis_2
			has_idea = foodstuffs_supply_crisis_3
			has_idea = foodstuffs_supply_crisis_4
			has_idea = foodstuffs_supply_crisis_5
		}
		OR = {
			controls_state = 195
			controls_state = 219
		}
		OR = {
			SIB = { exists = yes }
			CCA = { exists = yes }
			RSS = { exists = yes }
			DON = { exists = yes }
			RVA = { exists = yes }
		}
		OR = {
			has_war_with = SIB
			has_war_with = CCA
			has_war_with = RSS
			has_war_with = DON
			has_war_with = RVA
		}
				count_triggers = {
					amount = 7
					572 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					582 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					651 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					652 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					251 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					250 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					239 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					265 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					257 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					258 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					260 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					240 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					220 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					234 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					
					814 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					958 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					259 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					193 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					868 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					201 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
				}
	}
	
	mean_time_to_happen = {
		days = 180
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.1001.a
		add_political_power = -25
		add_stability = -0.02
		add_ideas = foodstuffs_supply_crisis_1
		set_country_flag = RUS_foodstuffs_supply_crisis_flag
	}
}

# Усугубление продовольсвенной ситуации
country_event = {
	id = rcw.1002
	title = rcw.1002.t
	desc = rcw.1002.d
	picture = GFX_report_event_sov_food_crisis
	
	trigger = {
		tag = RUS
		NOT = { has_global_flag = RUS_civil_war_over }
		has_country_flag = RUS_foodstuffs_supply_crisis_flag
		OR = {
			has_idea = foodstuffs_supply_crisis_1
			has_idea = foodstuffs_supply_crisis_2
			has_idea = foodstuffs_supply_crisis_3
			has_idea = foodstuffs_supply_crisis_4
			has_idea = foodstuffs_supply_crisis_5
		}
		OR = {
			has_idea = peasant_and_land_and_bread_question
			has_idea = peasant_and_land_and_bread_question_0_5
			has_idea = peasant_and_land_and_bread_question_0_25
		}
		OR = {
			has_idea = RUS_collapse_of_railway_system_1
			has_idea = RUS_collapse_of_railway_system_2
			has_idea = RUS_collapse_of_railway_system_3
			has_idea = RUS_collapse_of_railway_system_4
		}
		OR = {
			controls_state = 195
			controls_state = 219
		}
				count_triggers = {
					amount = 10
					572 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					582 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					651 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					652 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					251 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					250 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					239 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					265 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					257 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					258 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					260 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					240 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					220 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					234 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					
					814 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					958 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					259 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					193 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					868 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					201 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
				}
	}
	
	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.25
			NOT = { has_idea = RUS_prodrazverstka_idea }
			NOT = { has_idea = RUS_weakened_prodrazverstka_idea }
				count_triggers = {
					amount = 12
					572 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					582 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					651 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					652 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					251 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					250 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					239 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					265 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					257 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					258 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					260 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					240 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					220 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					234 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					
					814 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					958 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					259 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					193 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					868 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					201 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
				}
		}
		modifier = {
			factor = 2
			has_idea = foodstuffs_supply_crisis_2
			NOT = {
				count_triggers = {
					amount = 12
					572 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					582 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					651 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					652 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					251 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					250 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					239 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					265 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					257 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					258 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					260 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					240 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					220 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					234 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					
					814 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					958 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					259 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					193 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					868 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					201 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
				}
			}
		}
		modifier = {
			factor = 2
			has_idea = foodstuffs_supply_crisis_3
			NOT = {
				count_triggers = {
					amount = 16
					572 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					582 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					651 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					652 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					251 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					250 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					239 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					265 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					257 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					258 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					260 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					240 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					220 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					234 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					
					814 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					958 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					259 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					193 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					868 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					201 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
				}
			}
		}
		modifier = {
			factor = 2
			has_idea = foodstuffs_supply_crisis_4
			NOT = {
				count_triggers = {
					amount = 19
					572 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					582 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					651 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					652 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					251 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					250 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					239 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					265 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					257 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					258 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					260 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					240 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					220 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					234 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					
					814 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					958 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					259 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					193 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					868 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					201 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
				}
			}
		}
	}
	
	option = {
		name = rcw.1002.a
		add_stability = -0.01
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_4 }
			remove_ideas = foodstuffs_supply_crisis_4
			add_ideas = foodstuffs_supply_crisis_5
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_3 }
			remove_ideas = foodstuffs_supply_crisis_3
			add_ideas = foodstuffs_supply_crisis_4
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_2 }
			remove_ideas = foodstuffs_supply_crisis_2
			add_ideas = foodstuffs_supply_crisis_3
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_1 }
			remove_ideas = foodstuffs_supply_crisis_1
			add_ideas = foodstuffs_supply_crisis_2
		}
	}
}

# Облегчение продовольсвенной ситуации
country_event = {
	id = rcw.1003
	title = rcw.1003.t
	desc = rcw.1003.d
	picture = GFX_report_event_sov_food_crisis
	
	trigger = {
		tag = RUS
		OR = {
			has_idea = foodstuffs_supply_crisis_1
			has_idea = foodstuffs_supply_crisis_2
			has_idea = foodstuffs_supply_crisis_3
			has_idea = foodstuffs_supply_crisis_4
			has_idea = foodstuffs_supply_crisis_5
		}
		OR = {
		has_global_flag = RUS_civil_war_over
		OR = {
			AND = {
				OR = {
					AND = {
						has_idea = foodstuffs_supply_crisis_2
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.85 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_3
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.7 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_4
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.55 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_5
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.4 }
					}
				}
				has_completed_focus = RUS_prodrazverstka
			}
			AND = {
				OR = {
					AND = {
						has_idea = foodstuffs_supply_crisis_2
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.95 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_3
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.825 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_4
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.7 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_5
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.575 }
					}
				}
				NOT = { has_completed_focus = RUS_prodrazverstka }
			}
		}
		}
	}
	
	mean_time_to_happen = {
		days = 160
		modifier = {
			factor = 0.5
			has_completed_focus = RUS_prodrazverstka
		}
	}
	
	hidden = yes
	
	option = {
		name = rcw.1003.a
		add_stability = 0.02
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_5 }
			remove_ideas = foodstuffs_supply_crisis_5
			add_ideas = foodstuffs_supply_crisis_4
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_4 }
			remove_ideas = foodstuffs_supply_crisis_4
			add_ideas = foodstuffs_supply_crisis_3
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_3 }
			remove_ideas = foodstuffs_supply_crisis_3
			add_ideas = foodstuffs_supply_crisis_2
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_2 }
			remove_ideas = foodstuffs_supply_crisis_2
			add_ideas = foodstuffs_supply_crisis_1
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_1 }
			remove_ideas = foodstuffs_supply_crisis_1
			clr_country_flag = RUS_foodstuffs_supply_crisis_flag
		}
	}
}


# Forced recognize
country_event = {
	id = rcw.1921
	hidden = yes
	is_triggered_only = yes
	option = {
		name = rcw.1921.a
		every_country = {
			limit = {
				OR = {
					tag = ROOT
					is_in_faction_with = ROOT
					is_subject_of = ROOT
				}
			}
			if = {
				limit = {
					is_in_array = {
						array = unrecognized_states
						value = FROM.id
					}
				}
				FROM = {
					PREV = { remove_opinion_modifier = { target = FROM modifier = unrecognized_state_embargo } }
					PREV = { remove_opinion_modifier = { target = FROM modifier = unrecognized_state_rel } }
					remove_opinion_modifier = { target = PREV modifier = unrecognized_state_embargo_to_initiator }
					remove_opinion_modifier = { target = PREV modifier = unrecognized_state_rel_to_initiator }
					remove_from_array = { unrecognized_states = FROM.id }
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 100
					}
					ROOT = {
						add_ai_strategy = {
							type = befriend
							id = PREV
							value = 100
						}
					}
				}
			}
		}
	}
}

# Civil war over
country_event = {
	id = rcw.1922
	title = rcw.1922.t
	desc = {
		text = rcw.1922.d
		trigger = {
			NOT = { tag = RGR }
			OR = {
				tag = RUS
				is_main_former_russian_empire_country = no
			}
		}
	}
	desc = {
		text = rcw.1922.d_1
		trigger = {
			NOT = { tag = RGR }
			NOT = { tag = RUS }
			is_main_former_russian_empire_country = yes
		}
	}
	desc = {
		text = rcw.1922.d_2
		trigger = {
			tag = RGR
		}
	}
	
	picture = GFX_report_event_military_planning

	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		RUS = { NOT = { has_country_flag = RUS_dont_fire_CW_end } }
		has_global_flag = RUS_civil_war_intervention_start
		is_main_former_russian_empire_country = yes
		is_subject = no
		all_country = {
			OR = {
				tag = ROOT
				NOT = { is_main_former_russian_empire_country = yes }
				is_subject = yes
				has_capitulated = yes
				exists = no
				AND = {
					tag = SIB
					has_global_flag = RUS_civil_war_reds_n_Siberia_peace
				}
			}
		}
		OR = {
			AND = {
				tag = RUS
				has_country_flag = RUS_Oktober_revolution_fired
				OR = {
					has_country_flag = RUS_czechoslovak_legion_uprising
					has_country_flag = RUS_czechoslovak_legion_evacuated
				}
				OR = {
					has_country_flag = legitimized_bolsheviks
					has_country_flag = RUS_karaul_ustal
				}
			}
			NOT = { tag = RUS }
		}
		all_country = {
			OR = {
				NOT = { is_any_former_russian_empire_country = yes }
				NOT = { has_war_with = ROOT }
			}
		}
		OR = {
			NOT = { tag = SIB }
			NOT = { has_global_flag = RUS_civil_war_reds_n_Siberia_peace }
			RUS = { OR = { has_government = radical_socialism has_government = communism } }
			SOV = { exists = no }
		}
		
		NOT = { has_war_with = GER }
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes

	option = {
		name = rcw.1922.a
		set_global_flag = RUS_civil_war_over
		hidden_effect = {
			every_state = {
				clear_variable = mob_red_guard_industrial_complex
				clear_variable = mob_red_guard_arms_factory
				clr_state_flag = mob_red_neirfront_militia_flag
			}
		}
		every_country = {
			limit = { is_main_former_russian_empire_country = yes is_subject_of = ROOT }
			ROOT = {
				annex_country = {
					target = PREV
					transfer_troops = yes
				}
			}
		}
		if = {
			limit = { tag = RGR }
			country_event = rcw.1923
		}
		if = {
			limit = {
				NOT = { tag = RGR }
				has_government = radical_socialism
				has_government = communism
			}
			remove_ideas = Entente_credit_for_Russia
			add_timed_idea = { idea = Entente_credit_for_Russia_pay days = var:global.Entente_support_count }
			every_country = {
				limit = {
					OR = {
						tag = ENG
						tag = FRA
						tag = USA
					}
				}
				hidden_effect = { country_event = rcw.1921 }
			}
		}
		clear_variable = global.Entente_support_count
	}
}

# Зелёные выиграли эту войну
country_event = {
	id = rcw.1923
	title = rcw.1923.t
	desc = rcw.1923.d
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	hidden = yes
	
	option = {
		name = rcw.1923.a
		set_politics = {
			ruling_party = social_liberalism
			elections_allowed = no
		}
		
		set_popularities = {
			radical_socialism = 14
			communism = 14
			social_democracy = 5
			market_liberalism = 16
			social_liberalism = 35
			social_conservatism = 16
		}
		
		remove_ideas = RGR_supply_bonus
		
		every_country = {
			limit = { has_war_with = ROOT }
			white_peace = ROOT
		}
		every_country = {
			limit = { is_neighbor_of = ROOT }
			every_state = {
				limit = { is_owned_by = ROOT is_core_of = PREV }
				PREV = { transfer_state = PREV }
			}
		}
		
		if = {
			limit = {
				OR = {
					ROOT = { owns_state = 655 }
					PRM = { owns_state = 655 }
					BKL = { owns_state = 655 }
				}
				JAP = { owns_state = 537 }
			}
			JAP = { transfer_state = 655 }
		}
		
		if = {
			limit = { MRC = { exists = yes } }
			every_state = {
				limit = {
					OR = {
						state = 903
						state = 929
						state = 232
						state = 808
						state = 896
						state = 895
						state = 930
						state = 928
						state = 810
						state = 811
						state = 809
					}
				}
				add_core_of = MRC
				if = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
					}
					MRC = { transfer_state = PREV }
				}
			}
		}
		
		if = {
			limit = { GEO = { exists = no } }
			GEO = {
				set_politics = {
					ruling_party = social_democracy
				}
				set_popularities = {
					radical_socialism = 0
					communism = 15
					authoritarism = 0
					social_democracy = 85
					social_liberalism = 0
					market_liberalism = 0
					social_conservatism = 0
					despotism = 0
					fascism = 0
					national_syndicalism = 0
				}
			}
			release = GEO
			else = {
				GEO = {
					if = { limit = { ROOT = { owns_state = 902 } } transfer_state = 902 }
				}
			}
		}
		
		if = {
			limit = { ARM = { exists = no } }
			ARM = {
				set_politics = {
					ruling_party = social_democracy
				}
				set_popularities = {
					radical_socialism = 0
					communism = 14
					authoritarism = 0
					social_democracy = 39
					social_liberalism = 13
					market_liberalism = 13
					social_conservatism = 21
					despotism = 0
					fascism = 0
					national_syndicalism = 0
				}
			}
			release = ARM
		}
		
		if = {
			limit = { AZR = { exists = no } }
			AZR = {
				set_politics = {
					ruling_party = market_liberalism
				}
				set_popularities = {
					radical_socialism = 0
					communism = 0
					authoritarism = 0
					social_democracy = 30
					social_liberalism = 10
					market_liberalism = 35
					social_conservatism = 10
					despotism = 15
					fascism = 0
					national_syndicalism = 0
				}
			}
			release = AZR
		}
		
		if = {
			limit = { UKR = { exists = no } USR = { exists = no } }
			UKR = {
				set_politics = {
					ruling_party = radical_socialism
				}
				set_popularities = {
					radical_socialism = 34
					communism = 44
					social_liberalism = 15
					market_liberalism = 7
				}
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = ROOT
						OWNER = { is_subject_of = ROOT }
					}
					OR = {
						is_core_of = UKR
						is_claimed_by = UKR
					}
				}
				UKR = { transfer_state = PREV }
			}
			every_unit_leader = { limit = { OR = { has_id = 19316 } } set_nationality = UKR }
			every_unit_leader = { limit = { OR = { has_id = 19317 } } set_nationality = UKR }
		}
		
		if = {
			limit = { EST = { exists = no } }
			EST = {
				every_state = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
						is_core_of = EST
					}
					EST = { transfer_state = PREV }
				}
				set_politics = {
					ruling_party = despotism
				}
				set_popularities = {
					radical_socialism = 10
					communism = 25
					social_democracy = 10
					social_liberalism = 10
					market_liberalism = 10
					social_conservatism = 10
					authoritarism = 0
					despotism = 25
					fascism = 0
					national_syndicalism =  0
				}
			}
		}
		
		if = {
			limit = { LAT = { exists = no } }
			LAT = {
				every_state = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
						is_core_of = LAT
					}
					LAT = { transfer_state = PREV }
				}
				set_politics = {
					ruling_party = despotism
				}
				set_popularities = {
					radical_socialism = 0
					communism = 55
					social_democracy = 5
					social_liberalism = 0
					market_liberalism = 0
					social_conservatism = 10
					authoritarism = 5
					despotism = 25
					fascism = 0
					national_syndicalism =  0
				}
			}
		}
		
		if = {
			limit = { LIT = { exists = no } }
			LIT = {
				every_state = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
						is_core_of = LIT
					}
					LIT = { transfer_state = PREV }
				}
				set_politics = {
					ruling_party = despotism
				}
				set_popularities = {
					social_conservatism = 30
					fascism = 15
					communism = 15
					despotism = 40
				}
			}
		}
		
		if = {
			limit = { POL = { exists = no } }
			POL = {
				every_state = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
						is_core_of = POL
					}
					POL = { transfer_state = PREV }
				}
				set_politics = {
					ruling_party = despotism
				}
				set_popularities = {
					social_conservatism = 13
					radical_socialism = 5
					communism = 7
					authoritarism = 20
					despotism = 55
				}
			}
		}
		
		if = {
			limit = { TAN = { exists = no } }
			TAN = {
				if = { limit = { ROOT = { owns_state = 329 } } transfer_state = 329 }
				set_politics = {
					ruling_party = communism
				}
				set_popularities = {
					radical_socialism = 40
					social_conservatism = 0
					fascism = 0
					communism = 40
					authoritarism = 20
				}
			}
		}
		
		if = {
			limit = { NRR = { exists = yes has_capitulated = no } }
			NRR = {
				if = { limit = { ROOT = { owns_state = 262 } } transfer_state = 262 }
				if = { limit = { ROOT = { owns_state = 397 } } transfer_state = 397 }
				if = { limit = { ROOT = { owns_state = 913 } } transfer_state = 913 }
				if = { limit = { ROOT = { owns_state = 214 } } transfer_state = 214 }
				if = { limit = { ROOT = { owns_state = 215 } } transfer_state = 215 }
				if = { limit = { ROOT = { owns_state = 964 } } transfer_state = 964 }
				if = { limit = { ROOT = { owns_state = 213 } } transfer_state = 213 }
				set_politics = {
					ruling_party = despotism
				}
				set_popularities = {
					radical_socialism = 0
					communism = 0
					social_democracy = 0
					social_liberalism = 0
					market_liberalism = 0
					social_conservatism = 0
					authoritarism = 0
					despotism = 100
					fascism = 0
					national_syndicalism = 0
				}
			}
			else = {
				NRR = {
				every_state = {
						limit = {
							is_core_of = NRR
						}
					remove_core_of = NRR
					}
					}
			}
		}
		
		if = {
			limit = { NWA = { exists = yes has_capitulated = no } }
			NWA = {
				if = { limit = { ROOT = { owns_state = 1016 } } transfer_state = 1016 }
				if = { limit = { ROOT = { owns_state = 210 } } transfer_state = 210 }
				if = { limit = { ROOT = { owns_state = 209 } } transfer_state = 209 }
				if = { limit = { ROOT = { owns_state = 1017 } } transfer_state = 1017 }
				if = { limit = { ROOT = { owns_state = 1015 } } transfer_state = 1015 }
				if = { limit = { ROOT = { owns_state = 1020 } } transfer_state = 1020 }
				if = { limit = { ROOT = { owns_state = 208 } } transfer_state = 208 }
				if = { limit = { ROOT = { owns_state = 1023 } } transfer_state = 1023 }
				if = { limit = { ROOT = { owns_state = 1021 } } transfer_state = 1021 }
				if = {
					limit = { OR = { controls_state = 195 owns_state = 195 } }
					set_capital = 195
					if = { limit = { ROOT = { owns_state = 1019 } } transfer_state = 1019 }
					if = { limit = { ROOT = { owns_state = 195 } } transfer_state = 195 }
					if = { limit = { ROOT = { owns_state = 1018 } } transfer_state = 1018 }
					if = { limit = { ROOT = { owns_state = 1022 } } transfer_state = 1022 }
					if = { limit = { ROOT = { owns_state = 244 } } transfer_state = 244 }
					if = { limit = { ROOT = { owns_state = 263 } } transfer_state = 263 }
					if = { limit = { ROOT = { owns_state = 264 } } transfer_state = 264 }
					if = { limit = { ROOT = { owns_state = 216 } } transfer_state = 216 }
					if = { limit = { ROOT = { owns_state = 797 } } transfer_state = 797 }
				}
				if = {
					limit = { NOT = { has_completed_focus = NWA_savinkov_program } }
					set_politics = {
						ruling_party = authoritarism
					}
					set_popularities = {
						radical_socialism = 0
						communism = 0
						social_democracy = 0
						social_liberalism = 0
						market_liberalism = 0
						social_conservatism = 0
						authoritarism = 50
						despotism = 50
						fascism = 0
						national_syndicalism = 0
					}
					drop_cosmetic_tag = yes
					else = {
					set_politics = {
						ruling_party = national_syndicalism
					}
					set_popularities = {
						radical_socialism = 0
						communism = 0
						social_democracy = 0
						social_liberalism = 0
						market_liberalism = 0
						social_conservatism = 0
						authoritarism = 25
						despotism = 25
						fascism = 0
						national_syndicalism = 50
					}
					drop_cosmetic_tag = yes
					set_cosmetic_tag = NWA_PSK
					}
				}
			}
			else = {
				NWA = {
				every_state = {
						limit = {
							is_core_of = NWA
						}
					remove_core_of = NWA
					}
					}
			}
		}
		
		if = { limit = { ROOT = { owns_state = 881 } } KHI = { transfer_state = 881 } }
		if = { limit = { ROOT = { owns_state = 880 } } KHI = { transfer_state = 880 } }
		
		if = { limit = { NOT = { has_global_flag = WWI_ENG_HAS_CAPITULATED } } ENG = { KHI = { subjecting_script_with_transfer_parties = yes } set_autonomy = { target = KHI autonomy_state = autonomy_colony } } }
		if = { limit = { NOT = { has_global_flag = WWI_ENG_HAS_CAPITULATED } } ENG = { BUK = { subjecting_script_with_transfer_parties = yes } set_autonomy = { target = BUK autonomy_state = autonomy_colony } } }
		if = { limit = { NOT = { has_global_flag = WWI_ENG_HAS_CAPITULATED } } ENG = { CPG = { subjecting_script_with_transfer_parties = yes } set_autonomy = { target = CPG autonomy_state = autonomy_colony } } }
		
		CPG = {
				if = {
					limit = { CPG  = { exists = yes } }
					every_state = {
						limit = {
							is_core_of = CPG
						}
						CPG = { transfer_state = PREV }
					}
				}
				set_politics = {
					ruling_party = despotism
				}
				set_popularities = {
					social_liberalism = 35
					market_liberalism = 20
					social_conservatism = 10
					despotism = 15
					communism = 20
				}
				set_cosmetic_tag = CPG_UK
		}
		
		if = {
			limit = { NOT = { check_variable = { centralisation > 9 } } }
			if = {
				limit = { PRM = { exists = yes } }
				every_state = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
						is_core_of = PRM
					}
					PRM = { transfer_state = PREV }
				}
			}
			else_if = {
				limit = { PRM = { exists = no } any_state = { is_core_of = PRM } }
				PRM = {
					every_state = {
						limit = {
							OR = {
								is_owned_by = ROOT
								OWNER = { is_subject_of = ROOT }
							}
							is_core_of = PRM
						}
						PRM = { transfer_state = PREV }
					}
					set_politics = {
						ruling_party = radical_socialism
					}
					set_popularities = {
						national_syndicalism = 1
						despotism = 10
						fascism = 5
						radical_socialism = 6
						authoritarism = 10
						social_democracy = 10
						social_liberalism = 23
						market_liberalism = 10
						social_conservatism = 15
						communism = 10
					}
				}
			}
			else_if = {
				limit = { PRM = { exists = no } NOT = { any_state = { is_core_of = PRM } } }
				every_state = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
						is_core_of = ZKL
					}
					ZKL = { transfer_state = PREV }
				}
			}
			
			if = {
				limit = { TRK = { exists = no } }
				TRK = {
					set_politics = {
						ruling_party = social_conservatism
					}
					set_popularities = {
						radical_socialism = 5
						communism = 20
						social_democracy = 5
						social_liberalism = 10
						market_liberalism = 0
						social_conservatism = 30
						authoritarism = 0
						despotism = 10
						fascism = 15
						national_syndicalism = 5
					}
				}
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = ROOT
						OWNER = { is_subject_of = ROOT }
					}
					OR = {
						state = 586
						state = 405
						state = 732
						state = 883
						state = 742
						state = 884
					}
				}
				TRK = { transfer_state = PREV }
			}
			if = {
				limit = { NOT = { has_global_flag = WWI_ENG_HAS_CAPITULATED } }
				ENG = { TRK = { subjecting_script_with_transfer_parties = yes } set_autonomy = { target = TRK autonomy_state = autonomy_colony } }
				TRK = {
					set_politics = {
						ruling_party = social_conservatism
					}
					set_popularities = {
						radical_socialism = 5
						communism = 20
						social_democracy = 5
						social_liberalism = 10
						market_liberalism = 0
						social_conservatism = 30
						authoritarism = 0
						despotism = 10
						fascism = 15
						national_syndicalism = 5
					}
				}
			}
		}
		if = {
			limit = { NOT = { check_variable = { centralisation > 8 } } }
			
			if = {
				limit = { BKL = { exists = yes } }
				BKL = {
					every_state = {
						limit = {
							OR = {
								is_owned_by = ROOT
								OWNER = { is_subject_of = ROOT }
							}
							is_core_of = BKL
						}
						BKL = { transfer_state = PREV }
					}
				}
				else = {
					BKL = {
						set_politics = {
							ruling_party = authoritarism
						}
						set_popularities = {
							national_syndicalism = 1
							despotism = 10
							fascism = 5
							radical_socialism = 6
							authoritarism = 10
							social_democracy = 10
							social_liberalism = 23
							market_liberalism = 10
							social_conservatism = 15
							communism = 10
						}
						every_state = {
							limit = {
								is_core_of = BKL
							}
							remove_core_of = BKL
						}
					}
				}
			}
			
			every_state = {
				limit = {
					OR = {
						state = 218
						state = 995
						state = 228
						state = 238
						state = 996
						state = 245
						state = 265
						state = 815
						state = 953
						state = 954
						state = 235
						state = 234
						state = 907
						state = 233
						state = 902
						state = 1044
					}
				}
				add_core_of = DON
			}
			260 = { add_claim_by = DON }
			if = {
				limit = { DON = { exists = no } }
				DON = {
					set_politics = {
						ruling_party = communism
					}
					set_popularities = {
						radical_socialism = 34
						communism = 44
						social_liberalism = 15
						market_liberalism = 7
					}
				}
			}
			every_state = {
				limit = {
					OR = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
						OWNER = { is_subject_of = ROOT }
					}
					OR = {
						is_core_of = DON
						state = 227
						state = 809
						state = 810
						state = 811
						state = 928
						state = 930
						state = 895
						state = 903
						state = 808
						state = 896
						state = 232
						state = 929
					}
				}
				DON = { transfer_state = PREV }
			}
			DON = {
				if = {
					limit = { has_government = communism }
					load_oob = DON_red_cossack
				}
			}
			
			every_state = {
				limit = {
					OR = {
						state = 574
						state = 562
						state = 637
						state = 644
						state = 807
						state = 561
						state = 1039
						state = 1040
					}
				}
				add_core_of = YAK
				if = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
					}
					YAK = { transfer_state = PREV }
				}
			}
			YAK = { inherit_technology = ROOT }
			every_unit_leader = { limit = { OR = { has_id = 92347 } } set_nationality = YAK }
			
			every_state = {
				limit = {
					OR = {
						state = 568
						state = 567
						state = 566
						state = 565
						state = 575
						state = 576
						state = 516
						state = 563
						state = 564
						state = 1041
					}
				}
				add_core_of = ESB
				if = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
					}
					ESB = { transfer_state = PREV }
				}
			}
			ESB = { inherit_technology = ROOT }
			every_unit_leader = { limit = { OR = { has_id = 19315 } } set_nationality = ESB }
		}
		if = {
			limit = { NOT = { check_variable = { centralisation > 5 } } }
			
			if = {
				limit = { BLR = { exists = no } }
				BLR = {
					every_state = {
						limit = {
							OR = {
								is_owned_by = ROOT
								OWNER = { is_subject_of = ROOT }
							}
							is_core_of = BLR
						}
						BLR = { transfer_state = PREV }
					}
					set_politics = {
						ruling_party = social_democracy
					}
					set_popularities = {
						radical_socialism = 0
						communism = 25
						social_democracy = 25
						social_liberalism = 20
						market_liberalism = 0
						social_conservatism = 0
						authoritarism = 20
						despotism = 10
						fascism = 0
						national_syndicalism = 0
					}
				}
			}
			
			every_state = {
				limit = {
					OR = {
						state = 570
						state = 40
						state = 654
						state = 569
						state = 578
						state = 577
						state = 1043
					}
				}
				add_core_of = TAI
				if = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
					}
					TAI = { transfer_state = PREV }
				}
			}
			TAI = { inherit_technology = ROOT }
			every_unit_leader = { limit = { OR = { has_id = 19312 } } set_nationality = TAI }
			
			every_state = {
				limit = {
					OR = {
						state = 239
						state = 250
						state = 251
						state = 1070
						state = 1071
						state = 1072
						state = 401
						state = 217
						state = 813
						state = 815
						state = 237
						state = 236
						state = 407
						state = 406
						state = 402
						state = 587
						state = 652
						state = 651
						state = 1072
					}
				}
				add_core_of = VLG
				if = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
					}
					VLG = { transfer_state = PREV }
				}
			}
			VLG = { inherit_technology = ROOT }
			every_unit_leader = { limit = { OR = { has_id = 19318 } } set_nationality = VLG }
		}
		if = {
			limit = { NOT = { check_variable = { centralisation > 4 } } }
			
			KAZ = { drop_cosmetic_tag = yes }
			if = {
				limit = { KAZ = { exists = no } }
				KAZ = {
					set_politics = {
						ruling_party = market_liberalism
					}
					set_popularities = {
						radical_socialism = 0
						communism = 0
						social_democracy = 30
						social_liberalism = 10
						market_liberalism = 35
						social_conservatism = 10
						authoritarism = 0
						despotism = 15
						fascism =  0
						national_syndicalism = 0
					}
				}
				every_state = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
						OR = {
							state = 885
							state = 589
							state = 404
							state = 908
							state = 909
							state = 588
							state = 590
							state = 583
						}
					}
					KAZ = { transfer_state = PREV }
				}
			}
			
			every_state = {
				limit = {
					OR = {
						state = 573
						state = 582
						state = 572
						state = 1067
						state = 653
						state = 403
						state = 581
						state = 911
						state = 1025
						state = 580
						state = 579
						state = 571
					}
				}
				add_core_of = WSB
				if = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
					}
					WSB = { transfer_state = PREV }
				}
			}
			WSB = { inherit_technology = ROOT }
		}
		if = {
			limit = { NOT = { check_variable = { centralisation > 2 } } }
			
			if = {
				limit = { TAR = { exists = no } }
				TAR = {
					set_politics = {
						ruling_party = market_liberalism
					}
					set_popularities = {
						fascism = 0
						authoritarism = 0
						social_conservatism = 22
						radical_socialism = 17
						social_democracy = 12
						social_liberalism = 14
						market_liberalism = 25
						communism = 10
						national_syndicalism = 0
					}
				}
			}
			every_state = {
				limit = {
					OR = {
						state = 249
						state = 651
						state = 1072
					}
				}
				add_core_of = TAR
				if = {
					limit = {
						OR = {
							is_owned_by = ROOT
							is_owned_by = VLG
							OWNER = { is_subject_of = ROOT }
						}
					}
					TAR = { transfer_state = PREV }
				}
			}
			TAR = { inherit_technology = ROOT }
			
			every_state = {
				limit = {
					OR = {
						state = 260
						state = 240
						state = 220
						state = 224
						state = 222
						state = 258
						state = 257
						state = 960
						state = 961
						state = 923
					}
				}
				add_core_of = VRZ
				if = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
					}
					VRZ = { transfer_state = PREV }
				}
			}
			VRZ = { inherit_technology = ROOT }
			every_unit_leader = { limit = { OR = { has_id = 19311 } } set_nationality = VRZ }
		}
		
		if = {
			limit = { CRI = { exists = no } NOT = { owns_state = 907 owns_state = 919 } }
			every_state = {
				limit = {
					OR = {
						state = 137
						state = 1073
					}
				}
				add_core_of = CRI
				if = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
					}
					CRI = { transfer_state = PREV }
				}
			}
			CRI = {
				set_politics = {
					ruling_party = social_conservatism
				}
				set_popularities = {
					social_conservatism = 60
					authoritarism = 20
					communism = 15
					fascism = 5
				}
			}
		}
		
		RSS = {
			every_state = {
					limit = {
						is_core_of = RSS
					}
				remove_core_of = RSS
			}
		}
		
		CCA = {
			every_state = {
					limit = {
						is_core_of = CCA
					}
				remove_core_of = CCA
			}
		}
		
		SIB = {
			every_state = {
				limit = {
					is_core_of = SIB
				}
				remove_core_of = SIB
			}
		}
		
		RVA = {
			every_state = {
					limit = {
						is_core_of = RVA
					}
				remove_core_of = RVA
			}
		}
		
		ROOT = {
			every_state = {
					limit = {
						is_owned_by = ROOT
					}
				add_core_of = ROOT
			}
		}
	}
}

# Notification event that leader has been killed
country_event = {
	id = rcw.2001
	title = rcw.2001.t
	desc = rcw.2001.d
	
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {
		name = unfortunate
		effect_tooltip = {
			FROM = {
				retire = yes
			}
		}
	}
}

# Notification event that leader has been killed by god
country_event = {
	id = rcw.2002
	title = rcw.2002.t
	desc = rcw.2002.d
	
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {
		name = unfortunate
		effect_tooltip = {
			FROM = {
				retire = yes
			}
		}
	}
}