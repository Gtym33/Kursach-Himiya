###########################
# Russian Civil War Events
###########################

add_namespace = rcw

###### Антисоветские и советские восстания в России ######

# Начало операции Красной Гвардии против реакционных сил на Дону
country_event = {
	id = rcw.10
	title = rcw.10.t
	desc = rcw.10.desc
	picture = GFX_report_event_sov_redarmy
	
	is_triggered_only = yes
	
	option = {
		name = rcw.10.a
		add_stability = 0.03
		load_oob = RUS_Antonov_Ovseenko
		if = {
			limit = { UKR = { exists = yes NOT = { has_government = communism has_government = radical_socialism } } }
			UKR = { country_event = ukraine.10 }
		}
		hidden_effect = {
			every_country = {
				limit = { original_tag = DON }
				add_ideas = neutral_foreign_policy_law
			}
		}
	}
}

# Восстание оренбургских казаков
country_event = {
	id = rcw.22
	title = rcw.22.t
	desc = rcw.22.desc
	
	picture = GFX_report_event_rss_orenburg_gambit
	
	trigger = {
		tag = RUS
		NOT = { has_global_flag = RUS_civil_war_over }
		OCH = { exists = no }
		NOT = { has_country_flag = OCH_revolt }
		has_country_flag = RUS_Oktober_revolution_fired
		NOT = { has_country_flag = RUS_cossacks_were_disbanded }
	}
	
	mean_time_to_happen = {
		days = 35
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			OCH = {
				transfer_state = 652
				add_state_core = 652
				add_ideas = neutral_foreign_policy_law
				remove_all_foreing_locked_templates_from_liberated_country = yes
				hidden_effect = {
					every_country = {
						limit = {
							NOT = {
								tag = PREV
								is_any_former_russian_empire_country = yes
								former_russian_empire_baltic_states_country = yes
								has_war_with = PREV
								is_in_faction_with = PREV
							}
						}
						set_THIS_country_non_recognize_PREV = yes
					}
				}
			}
			delete_unit_template_and_units = {
				division_template = "Kazach'ya brigada"
			}
		}
	}
	
	option = {
		name = rcw.22.a
		OCH = {
			load_oob = OCH_cossaks
			if = {
				limit = { RUS = { OR = { has_completed_focus = RUS_struggle_against_counterrevolution NOT = { has_focus_tree = Russia_Bolsheviks_focus } } } }
				declare_war_on = {
					target = RUS
					type = annex_everything
				}
			}
		}
		set_country_flag = OCH_revolt
	}
	option = {
		trigger = { is_ai = no }
		name = rcw.22.b
		OCH = {
			load_oob = OCH_cossaks
			if = {
				limit = { RUS = { OR = { has_completed_focus = RUS_struggle_against_counterrevolution NOT = { has_focus_tree = Russia_Bolsheviks_focus } } } }
				declare_war_on = {
					target = RUS
					type = annex_everything
				}
			}
		}
		set_country_flag = OCH_revolt
		OCH = { change_tag_from = RUS }
	}
}

# Крым
country_event = {
	id = rcw.31
	title = rcw.31.t
	desc = rcw.31.desc
	
	trigger = {
		has_start_date < 1917.11.7
		tag = RUS
		NOT = { has_global_flag = RUS_civil_war_over }
		CRI = { exists = no }
		has_country_flag = RUS_Oktober_revolution_fired
		owns_state = 137
		OR = {
			has_idea = RUS_weak_state_suppression_apparatus
			has_idea = RUS_weak_state_suppression_apparatus_1
		}
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = rcw.31.a
		CRI = {
			transfer_state = 137
			transfer_state = 1073
			transfer_state = 1074
			set_capital = 1074
			add_ideas = neutral_foreign_policy_law
			remove_all_foreing_locked_templates_from_liberated_country = yes
			load_oob = CRI_1918
			country_event = { id = rcw.32 hours = 1 }
		}
	}
	option = {
		trigger = { is_ai = no }
		name = rcw.31.b
		CRI = {
			transfer_state = 137
			transfer_state = 1073
			transfer_state = 1074
			set_capital = 1074
			add_ideas = neutral_foreign_policy_law
			remove_all_foreing_locked_templates_from_liberated_country = yes
			load_oob = CRI_1918
			country_event = { id = rcw.32 hours = 1 }
		}
		CRI = { change_tag_from = ROOT }
	}
}
country_event = {
	id = rcw.32
	title = rcw.32.t
	desc = rcw.32.desc
	
	is_triggered_only = yes
	
	option = {
		name = rcw.31.a
		set_capital = 1073
		start_civil_war = {
			ruling_party = communism
			ideology = ROOT
			size = 0.35
			capital = 137
			states = {
				137 1074
			}
		}
		random_country = {
			limit = { original_tag = CRI has_government = communism }
			add_ideas = {
				soviet_republic_gov_form
				federal_gov_terr
				local_assembly_decisions_b_law
				two_party_system_law
				neutral_foreign_policy_law
			}
		}
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = rcw.31.b
		set_capital = 1073
		start_civil_war = {
			ruling_party = communism
			ideology = ROOT
			size = 0.35
			capital = 137
			states = {
				137 1074
			}
		}
		random_country = {
			limit = { original_tag = CRI has_government = communism }
			add_ideas = {
				soviet_republic_gov_form
				federal_gov_terr
				local_assembly_decisions_b_law
				two_party_system_law
				neutral_foreign_policy_law
			}
		}
		random_country = {
			limit = { original_tag = CRI NOT = { has_government = communism } }
			change_tag_from = ROOT
		}
		ai_chance = {
			factor = 0
		}
	}
}

# Общеказахский съезд
country_event = {
	id = rcw.60
	title = rcw.60.t
	desc = rcw.60.desc
	picture = GFX_report_event_sov_redarm
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			KAZ = {
				set_cosmetic_tag = KAZ_ALASH
			}
		}
	}
	mean_time_to_happen = {
		days = 38
	}
	
	option = {
		name = rcw.60.a
		add_stability = 0.03
		every_state = {
			limit = {
				OR = {
					is_owned_by = ROOT
					any_country = {
						is_subject_of = ROOT
						PREV = { is_owned_by = PREV }
					}
				}
				OR = {
					state = 404
					state = 583
					state = 588
					state = 590
					state = 908
				}
			}
			KAZ = { transfer_state = PREV }
		}
		KAZ = {
			add_ideas = neutral_foreign_policy_law
			remove_all_foreing_locked_templates_from_liberated_country = yes
			load_oob = KAZ_1917
			hidden_effect = {
				every_country = {
					limit = {
						NOT = {
							tag = PREV
							is_any_former_russian_empire_country = yes
							former_russian_empire_baltic_states_country = yes
							has_war_with = PREV
							is_in_faction_with = PREV
						}
					}
					set_THIS_country_non_recognize_PREV = yes
				}
			}
		}
		every_state = {
			limit = {
				is_core_of = KAZ
				is_owned_by = KAZ
			}
			remove_core_of = RUS
			remove_core_of = CCA
			remove_core_of = RSS
		}
		
	}
	option = {
		name = rcw.60.b
		trigger = {
			is_ai = no
		}
		add_stability = 0.03
		every_state = {
			limit = {
				OR = {
					is_owned_by = ROOT
					any_country = {
						is_subject_of = ROOT
						PREV = { is_owned_by = PREV }
					}
				}
				OR = {
					state = 404
					state = 583
					state = 588
					state = 590
					state = 908
				}
			}
			KAZ = { transfer_state = PREV }
		}
		KAZ = {
			add_ideas = neutral_foreign_policy_law
			remove_all_foreing_locked_templates_from_liberated_country = yes
			load_oob = KAZ_1917
			hidden_effect = {
				every_country = {
					limit = {
						NOT = {
							tag = PREV
							is_any_former_russian_empire_country = yes
							former_russian_empire_baltic_states_country = yes
							has_war_with = PREV
							is_in_faction_with = PREV
						}
					}
					set_THIS_country_non_recognize_PREV = yes
				}
			}
		}
		every_state = {
			limit = {
				is_core_of = KAZ
				is_owned_by = KAZ
			}
			remove_core_of = RUS
			remove_core_of = CCA
			remove_core_of = RSS
		}
		KAZ = { change_tag_from = RUS }
	}
}

###Поволжский голод###
country_event = {
	id = rcw.101
	title = rcw.101.t
	desc = {
		text = rcw.101.desc
		trigger = {
			tag = RUS
			OR = { has_government = radical_socialism has_government = communism }
		}
	}
	
	desc = {
		text = rcw.101.desc_1
		trigger = {
			OR = {
				NOT = { tag = RUS }
				NOT = { has_government = radical_socialism has_government = communism }
			}
		}
	}
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		is_main_former_russian_empire_country = yes
		OR = {
			has_global_flag = RUS_constituent_assembly_civil_war
			has_global_flag = RUS_civil_war_intervention_start
			has_global_flag = RUS_Kornilov_civil_war
		}
		date > 1921.6.1
		date < 1921.6.29
		401 = {
			is_controlled_by = ROOT
		}
		251 = {
			is_controlled_by = ROOT
		}
	}
	
	fire_only_once = yes

	mean_time_to_happen = { days = 0 }
	
	option = {
		name = rcw.101.a
		
	}
}

###### Ивенты взаиводействия белых и Антанты ######


# Просьба СЗА или Сибири или ВСЮР о винтовках Антанты и признании Антанты
country_event = {
	id = rcw.156
	title = rcw.156.t
	desc = {
		text = rcw.156.desc_NWA
		trigger = { FROM = { OR = { tag = NWA tag = WVA } } }
	}
	desc = {
		text = rcw.156.desc_SIB
		trigger = { FROM = { OR = { tag = SIB tag = RSS } } }
	}
	desc = {
		text = rcw.156.desc_RVA
		trigger = { FROM = { tag = RVA } }
	}
	
	picture = GFX_report_event_nwa_allies
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.156.a
		trigger = {
			has_equipment = {
				infantry_equipment > 9999
			}
		}
		add_opinion_modifier = { target = FROM modifier = Entente_support_by_equimment_accept_strong }
		send_equipment = {
			type = infantry_equipment
			amount = 10000
			target = FROM
		}
		FROM = {
			if = {
				limit = { NOT = { has_variable = global.Entente_support_count } }
				set_variable = { global.Entente_support_count = 0 }
			}
			add_to_variable = { global.Entente_support_count = 100 }
		}
		every_country = {
			limit = {
				OR = {
					tag = ROOT
					is_in_faction_with = ROOT
					is_subject_of = ROOT
				}
			}
			if = {
				limit = {
					is_in_array = {
						array = unrecognized_states
						value = FROM.id
					}
				}
				FROM = {
					THIS_country_will_be_recognized_by_PREV = yes
				}
			}
		}
	}
	
	option = {
		name = rcw.156.b
		trigger = {
			has_equipment = {
				infantry_equipment > 1999
			}
		}
		add_opinion_modifier = { target = FROM modifier = Entente_support_by_equimment_accept }
		send_equipment = {
			type = infantry_equipment
			amount = 2000
			target = FROM
		}
		FROM = {
			if = {
				limit = { NOT = { has_variable = global.Entente_support_count } }
				set_variable = { global.Entente_support_count = 0 }
			}
			add_to_variable = { global.Entente_support_count = 20 }
		}
		every_country = {
			limit = {
				OR = {
					tag = ROOT
					is_in_faction_with = ROOT
					is_subject_of = ROOT
				}
			}
			if = {
				limit = {
					is_in_array = {
						array = unrecognized_states
						value = FROM.id
					}
				}
				FROM = {
					THIS_country_will_be_recognized_by_PREV = yes
				}
			}
		}
	}
	
	option = {
		name = rcw.156.c
		every_country = {
			limit = {
				OR = {
					tag = ROOT
					is_in_faction_with = ROOT
					is_subject_of = ROOT
				}
			}
			if = {
				limit = {
					is_in_array = {
						array = unrecognized_states
						value = FROM.id
					}
				}
				FROM = {
					THIS_country_will_be_recognized_by_PREV = yes
				}
			}
		}
	}
	
	option = {
		name = rcw.156.desc
		add_opinion_modifier = { target = FROM modifier = Entente_no_accept_SIB }
	}
}

# Просьба СЗА Германии о защите
country_event = {
	id = rcw.157
	title = rcw.157.t
	desc = rcw.157.desc
	picture = GFX_report_event_nwa_berlin
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.157.a
		trigger = {
			has_equipment = {
				infantry_equipment > 9999
			}
		}
		add_opinion_modifier = { target = FROM modifier = Entente_support_by_equimment_accept_strong }
		send_equipment = {
			type = infantry_equipment
			amount = 10000
			target = FROM
		}
		every_country = {
			limit = {
				OR = {
					tag = ROOT
					is_in_faction_with = ROOT
					is_subject_of = ROOT
				}
			}
			if = {
				limit = {
					is_in_array = {
						array = unrecognized_states
						value = FROM.id
					}
				}
				FROM = {
					THIS_country_will_be_recognized_by_PREV = yes
				}
			}
		}
	}
	
	option = {
		name = rcw.157.b
		trigger = {
			has_equipment = {
				infantry_equipment > 1999
			}
		}
		add_opinion_modifier = { target = FROM modifier = Entente_support_by_equimment_accept }
		send_equipment = {
			type = infantry_equipment
			amount = 2000
			target = FROM
		}
		every_country = {
			limit = {
				OR = {
					tag = ROOT
					is_in_faction_with = ROOT
					is_subject_of = ROOT
				}
			}
			if = {
				limit = {
					is_in_array = {
						array = unrecognized_states
						value = FROM.id
					}
				}
				FROM = {
					THIS_country_will_be_recognized_by_PREV = yes
				}
			}
		}
	}
	
	option = {
		name = rcw.157.c
		every_country = {
			limit = {
				OR = {
					tag = ROOT
					is_in_faction_with = ROOT
					is_subject_of = ROOT
				}
			}
			if = {
				limit = {
					is_in_array = {
						array = unrecognized_states
						value = FROM.id
					}
				}
				FROM = {
					THIS_country_will_be_recognized_by_PREV = yes
				}
			}
		}
	}
	
	option = {
		name = rcw.157.desc
		add_opinion_modifier = { target = FROM modifier = Entente_no_accept_SIB }
	}
}


# Международный заказ
country_event = {
	id = rcw.162
	title = rcw.162.t
	desc = rcw.162.desc
	picture = GFX_report_event_rus_entente
	
	is_triggered_only = yes
	
	option = {
		name = rcw.162.a #Противник будет подавлен танковой армадой
		set_country_flag = { flag = RCW_buying_tanks days = 60 }
		ENG = { country_event = { id = rcw.163 days = 1 } }
		FRA = { country_event = { id = rcw.163 days = 1 } }
		USA = { country_event = { id = rcw.163 days = 1 } }
		ITA = { country_event = { id = rcw.163 days = 1 } }
	}
	option = {
		trigger = { tag = SIB }
		name = rcw.162.b #Авиация позволит лучше контролировать сибирские леса
		set_country_flag = { flag = RCW_buying_aircraft days = 60 }
		ENG = { country_event = { id = rcw.163 days = 1 } }
		FRA = { country_event = { id = rcw.163 days = 1 } }
		USA = { country_event = { id = rcw.163 days = 1 } }
		ITA = { country_event = { id = rcw.163 days = 1 } }
	}
	option = {
		trigger = { NOT = { tag = SIB } }
		name = rcw.162.b_1 #Авиация позволит лучше контролировать российские просторы
		set_country_flag = { flag = RCW_buying_aircraft days = 60 }
		ENG = { country_event = { id = rcw.163 days = 1 } }
		FRA = { country_event = { id = rcw.163 days = 1 } }
		USA = { country_event = { id = rcw.163 days = 1 } }
		ITA = { country_event = { id = rcw.163 days = 1 } }
	}
	option = {
		name = rcw.162.c #Армии нужнее рации и телефоны, чем мудрёные машины
		set_country_flag = { flag = RCW_buying_radio days = 60 }
		ENG = { country_event = { id = rcw.163 days = 1 } }
		FRA = { country_event = { id = rcw.163 days = 1 } }
		USA = { country_event = { id = rcw.163 days = 1 } }
		ITA = { country_event = { id = rcw.163 days = 1 } }
	}
}
country_event = {
	id = rcw.163
	title = rcw.163.t
	desc = {
		text = rcw.163.desc
		FROM = { has_country_flag = RCW_buying_tanks }
	}
	desc = {
		text = rcw.163.desc_1
		FROM = { has_country_flag = RCW_buying_aircraft }
	}
	desc = {
		text = rcw.163.desc_2
		FROM = { has_country_flag = RCW_buying_radio }
	}
	picture = GFX_report_event_sovarmy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			OR = {
				AND = {
					FROM = { has_country_flag = RCW_buying_tanks }
					has_tech = gwtank
				}
				AND = {
					FROM = { has_country_flag = RCW_buying_aircraft }
					has_tech = biplane_fighter1
					has_tech = biplane_bomber
				}
				AND = {
					FROM = { has_country_flag = RCW_buying_radio }
					has_tech = tech_support
				}
			}
		}
		name = rcw.163.a #Это в наших интересах
		
		if = {
			limit = { FROM = { has_country_flag = RCW_buying_tanks } }
			effect_tooltip = {
				send_equipment = {
					equipment = light_tank_equipment
					amount = 300
					target = FROM
				}
			}
		}
		else_if = {
			limit = { FROM = { has_country_flag = RCW_buying_aircraft } }
			effect_tooltip = {
				send_equipment = {
					equipment = biplane_fighter_equipment
					amount = 100
					target = FROM
				}
				send_equipment = {
					equipment = tac_bomber_equipment
					amount = 20
					target = FROM
				}
			}
		}
		else_if = {
			limit = { FROM = { has_country_flag = RCW_buying_radio } }
			effect_tooltip = {
				send_equipment = {
					equipment = support_equipment
					amount = 500
					target = FROM
				}
			}
		}
		
		FROM = { country_event = { id = rcw.164 days = 1 } }
		
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = rcw.163.b #Неизвестно, как Сибирь сможет это оплатить
		ai_chance = {
			factor = 0
		}
	}
}
country_event = {
	id = rcw.164
	title = rcw.164.t
	desc = rcw.164.desc
	picture = GFX_report_event_sovarmy
	
	is_triggered_only = yes
	
	option = {
		name = rcw.164.a #Мы готовы приобрести их продукцию
		if = {
			limit = { has_country_flag = RCW_buying_tanks }
			add_political_power = -35
			if = {
				limit = { NOT = { has_tech = gwtank } }
				set_technology = {
					gwtank = 1
				}
			}
			add_equipment_to_stockpile = {
				type = light_tank_equipment
				amount = 300
				producer = FROM
			}
			FROM = {
				add_equipment_to_stockpile = {
					type = light_tank_equipment
					amount = -300
					producer = FROM
				}
			}
		}
		else_if = {
			limit = { has_country_flag = RCW_buying_aircraft }
			add_political_power = -50
			if = {
				limit = { NOT = { has_tech = biplane_fighter1 } }
				set_technology = {
					biplane_fighter1 = 1
				}
			}
			if = {
				limit = { NOT = { has_tech = biplane_bomber } }
				set_technology = {
					biplane_bomber = 1
				}
			}
			add_equipment_to_stockpile = {
				type = biplane_fighter_equipment
				amount = 100
				producer = FROM
			}
			add_equipment_to_stockpile = {
				type = tac_bomber_equipment
				amount = 20
				producer = FROM
			}
			FROM = {
				add_equipment_to_stockpile = {
					type = biplane_fighter_equipment
					amount = -100
					producer = FROM
				}
				add_equipment_to_stockpile = {
					type = tac_bomber_equipment
					amount = -20
					producer = FROM
				}
			}
		}
		else_if = {
			limit = { has_country_flag = RCW_buying_radio }
			add_political_power = -25
			if = {
				limit = { NOT = { has_tech = tech_support } }
				set_technology = {
					tech_support = 1
				}
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 500
				producer = FROM
			}
			FROM = {
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = -500
					producer = FROM
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = rcw.164.b #По нашим оценкам их вооружение не лучшее
		ai_chance = {
			factor = 0
		}
	}
}

# Вылетает большевикам, когда Британия высаживается в Мурманске
country_event = {
	id = rcw.201
	title = rcw.201.t
	desc = rcw.201.desc
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.201.a
	}
}

# Вылетает большевикам, незадолго до десанта в Архангельске
country_event = {
	id = rcw.202
	title = rcw.202.t
	desc = rcw.202.desc
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.202.a
	}
}

# Вылетает большевикам, после десанта в Архангельске
country_event = {
	id = rcw.203
	title = rcw.203.t
	desc = rcw.203.desc
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.203.a
		add_war_support = 0.025
	}
}

# Поставки вооружение от Антанты
country_event = {
	id = rcw.500
	title = rcw.500.t
	desc = rcw.500.desc
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_equipment = {
				infantry_equipment > 999
			}
		}
		name = rcw.500.a
		FROM = {
			send_equipment = {
				equipment = infantry_equipment
				amount = 1000
				target = ROOT
			}
		}
		add_to_variable = { global.Entente_support_limit = 1 }
		add_to_variable = { global.Entente_support_count = 10 }
	}
	option = {
		name = rcw.500.b
		trigger = {
			is_ai = no
		}
	}
}

# Начало продовольственного кризиса
country_event = {
	id = rcw.1001
	title = rcw.1001.t
	desc = rcw.1001.desc
	picture = GFX_report_event_sov_food_crisis
	
	trigger = {
		tag = RUS
		NOT = { has_completed_focus = RUS_prodnalog }
		NOT = { has_completed_focus = RUS_voluntary_agriculture_cooperatives }
		has_country_flag = RUS_Oktober_revolution_fired
		has_idea = peasant_and_land_and_bread_question
		NOT = { has_global_flag = RUS_civil_war_over }
		NOT = { has_country_flag = RUS_foodstuffs_supply_crisis_flag }
		OR = {
			has_idea = RUS_collapse_of_railway_system_1
			has_idea = RUS_collapse_of_railway_system_2
			has_idea = RUS_collapse_of_railway_system_3
			has_idea = RUS_collapse_of_railway_system_4
			has_idea = RUS_collapse_of_railway_system_5
		}
		NOT = {
			has_idea = foodstuffs_supply_crisis_2
			has_idea = foodstuffs_supply_crisis_3
			has_idea = foodstuffs_supply_crisis_4
			has_idea = foodstuffs_supply_crisis_5
		}
		OR = {
			controls_state = 195
			controls_state = 219
		}
		OR = {
			SIB = { exists = yes }
			CCA = { exists = yes }
			RSS = { exists = yes }
			DON = { exists = yes }
			RVA = { exists = yes }
		}
		OR = {
			has_war_with = SIB
			has_war_with = CCA
			has_war_with = RSS
			has_war_with = DON
			has_war_with = RVA
		}
				count_triggers = {
					amount = 7
					572 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					582 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					651 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					652 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					251 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					250 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					239 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					265 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					257 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					258 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					260 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					240 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					220 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					234 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					
					814 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					958 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					259 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					193 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					868 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					201 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
				}
	}
	
	mean_time_to_happen = {
		days = 180
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.1001.a
		add_political_power = -25
		add_stability = -0.02
		add_ideas = foodstuffs_supply_crisis_1
		set_country_flag = RUS_foodstuffs_supply_crisis_flag
	}
}

# Усугубление продовольсвенной ситуации
country_event = {
	id = rcw.1002
	title = rcw.1002.t
	desc = rcw.1002.desc
	picture = GFX_report_event_sov_food_crisis
	
	trigger = {
		tag = RUS
		has_war = yes
		NOT = { has_global_flag = RUS_civil_war_over }
		has_country_flag = RUS_foodstuffs_supply_crisis_flag
		OR = {
			has_idea = foodstuffs_supply_crisis_1
			has_idea = foodstuffs_supply_crisis_2
			has_idea = foodstuffs_supply_crisis_3
			has_idea = foodstuffs_supply_crisis_4
		}
		OR = {
			has_idea = peasant_and_land_and_bread_question
			has_idea = peasant_and_land_and_bread_question_0_5
			has_idea = peasant_and_land_and_bread_question_0_25
		}
		OR = {
			has_idea = RUS_collapse_of_railway_system_1
			has_idea = RUS_collapse_of_railway_system_2
			has_idea = RUS_collapse_of_railway_system_3
			has_idea = RUS_collapse_of_railway_system_4
		}
		OR = {
			controls_state = 195
			controls_state = 219
		}
				count_triggers = {
					amount = 13
					572 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					582 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					651 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					652 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					251 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					250 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					239 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					265 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					257 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					258 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					260 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					240 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					220 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					234 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					
					814 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					958 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					259 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					193 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					868 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					201 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
				}
	}
	
	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.25
			NOT = { has_idea = RUS_prodrazverstka_idea }
			NOT = { has_idea = RUS_prodnalog_idea }
				count_triggers = {
					amount = 15
					572 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					582 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					651 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					652 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					251 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					250 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					239 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					265 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					257 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					258 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					260 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					240 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					220 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					234 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					
					814 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					958 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					259 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					193 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					868 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					201 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
				}
		}
		modifier = {
			factor = 2
			has_idea = foodstuffs_supply_crisis_2
			NOT = {
				count_triggers = {
					amount = 15
					572 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					582 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					651 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					652 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					251 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					250 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					239 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					265 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					257 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					258 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					260 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					240 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					220 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					234 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					
					814 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					958 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					259 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					193 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					868 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					201 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
				}
			}
		}
		modifier = {
			factor = 2
			has_idea = foodstuffs_supply_crisis_3
			NOT = {
				count_triggers = {
					amount = 17
					572 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					582 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					651 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					652 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					251 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					250 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					239 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					265 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					257 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					258 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					260 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					240 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					220 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					234 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					
					814 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					958 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					259 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					193 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					868 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					201 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
				}
			}
		}
		modifier = {
			factor = 2
			has_idea = foodstuffs_supply_crisis_4
			NOT = {
				count_triggers = {
					amount = 19
					572 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					582 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					651 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					652 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					251 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					250 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					239 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					265 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					257 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					258 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					260 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					240 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					220 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					234 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					
					814 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					958 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					259 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					193 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					868 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
					201 = { controller = { NOT = { tag = ROOT } OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 0 } } } } }
				}
			}
		}
	}
	
	option = {
		name = rcw.1002.a
		add_stability = -0.01
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_4 }
			remove_ideas = foodstuffs_supply_crisis_4
			add_ideas = foodstuffs_supply_crisis_5
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_3 }
			remove_ideas = foodstuffs_supply_crisis_3
			add_ideas = foodstuffs_supply_crisis_4
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_2 }
			remove_ideas = foodstuffs_supply_crisis_2
			add_ideas = foodstuffs_supply_crisis_3
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_1 }
			remove_ideas = foodstuffs_supply_crisis_1
			add_ideas = foodstuffs_supply_crisis_2
		}
	}
}

# Облегчение продовольсвенной ситуации
country_event = {
	id = rcw.1003
	title = rcw.1003.t
	desc = rcw.1003.desc
	picture = GFX_report_event_sov_food_crisis
	
	trigger = {
		tag = RUS
		OR = {
			has_idea = foodstuffs_supply_crisis_1
			has_idea = foodstuffs_supply_crisis_2
			has_idea = foodstuffs_supply_crisis_3
			has_idea = foodstuffs_supply_crisis_4
			has_idea = foodstuffs_supply_crisis_5
		}
		OR = {
			has_war = no
			OR = {
				AND = {
					OR = {
						AND = {
							has_idea = foodstuffs_supply_crisis_2
							check_variable = { global.bolsheviks_control_of_bread_regions > 0.85 }
						}
						AND = {
							has_idea = foodstuffs_supply_crisis_3
							check_variable = { global.bolsheviks_control_of_bread_regions > 0.7 }
						}
						AND = {
							has_idea = foodstuffs_supply_crisis_4
							check_variable = { global.bolsheviks_control_of_bread_regions > 0.55 }
						}
						AND = {
							has_idea = foodstuffs_supply_crisis_5
							check_variable = { global.bolsheviks_control_of_bread_regions > 0.4 }
						}
					}
					has_completed_focus = RUS_prodrazverstka
				}
				AND = {
					OR = {
						AND = {
							has_idea = foodstuffs_supply_crisis_2
							check_variable = { global.bolsheviks_control_of_bread_regions > 0.95 }
						}
						AND = {
							has_idea = foodstuffs_supply_crisis_3
							check_variable = { global.bolsheviks_control_of_bread_regions > 0.825 }
						}
						AND = {
							has_idea = foodstuffs_supply_crisis_4
							check_variable = { global.bolsheviks_control_of_bread_regions > 0.7 }
						}
						AND = {
							has_idea = foodstuffs_supply_crisis_5
							check_variable = { global.bolsheviks_control_of_bread_regions > 0.575 }
						}
					}
					NOT = { has_completed_focus = RUS_prodrazverstka }
				}
			}
		}
	}
	
	mean_time_to_happen = {
		days = 160
		modifier = {
			factor = 0.5
			has_completed_focus = RUS_prodrazverstka
		}
	}
	
	hidden = yes
	
	option = {
		name = rcw.1003.a
		add_stability = 0.02
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_5 }
			remove_ideas = foodstuffs_supply_crisis_5
			add_ideas = foodstuffs_supply_crisis_4
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_4 }
			remove_ideas = foodstuffs_supply_crisis_4
			add_ideas = foodstuffs_supply_crisis_3
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_3 }
			remove_ideas = foodstuffs_supply_crisis_3
			add_ideas = foodstuffs_supply_crisis_2
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_2 }
			remove_ideas = foodstuffs_supply_crisis_2
			add_ideas = foodstuffs_supply_crisis_1
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_1 }
			remove_ideas = foodstuffs_supply_crisis_1
			clr_country_flag = RUS_foodstuffs_supply_crisis_flag
		}
	}
}

# If non-main former Russian empire faction takes Moscow
country_event = {
	id = rcw.1919
	title = rcw.1919.t
	desc = rcw.1919.desc
	
	picture = GFX_report_event_military_planning

	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		NOT = { has_global_flag = RCW_Allrussian_national_assembly }
		has_global_flag = RUS_civil_war_intervention_start
		RUS = { NOT = { has_country_flag = RUS_dont_fire_CW_end } }
		NOT = { has_government = radical_socialism has_government = communism }
		219 = { OWNER = { OR = { tag = ROOT is_subject_of = ROOT } } }
		is_former_russian_empire_russian_settled_non_cossack_country = yes
		OR = {
			has_idea = DON_volunteer_recruitment_network_idea
			has_idea = DON_Volunteer_army_presence_idea
			NOT = {
				any_other_country = { OR = { has_idea = DON_volunteer_recruitment_network_idea has_idea = DON_Volunteer_army_presence_idea } }
			}
			#has_idea = DON_Peoples_army_presence_idea
		}
		NOT = { is_main_former_russian_empire_country_exept_Siberia = yes }
	}
	
	fire_only_once = yes
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		set_global_flag = dont_fire_Rus_CW_end
	}
	
	option = {
		name = rcw.1919.a
		if = {
			limit = { any_country = { russian_country_can_call_national_assambly = yes is_subject = no OR = { is_in_faction = no is_faction_leader = yes } } }
			random_country = {
				limit = { russian_country_can_call_national_assambly = yes is_subject = no OR = { is_in_faction = no is_faction_leader = yes } }
				transfer_state = 219
			}
			else = {
				RVA = { transfer_state = 219 country_event = { id = rcw_all_rus_NA.1 hours = 1 } }
			}
		}
		clr_global_flag = dont_fire_Rus_CW_end
	}
	option = {
		name = rcw.1919.b
		hidden_effect = {
			if = {
				limit = { RVA = { exists = no } OR = { DON = { OR = { has_idea = DON_volunteer_recruitment_network_idea has_idea = DON_Volunteer_army_presence_idea } } KUB = { has_idea = DON_Volunteer_army_presence_idea } } }
				country_event = { id = rcw.1920 days = 14 }
			}
			else_if = {
				limit = { CCA = { exists = no } }
				every_country = {
					limit = { is_main_former_russian_empire_country = yes }
					declare_war_on = { target = ROOT type = annex_everything }
				}
				clr_global_flag = dont_fire_Rus_CW_end
			}
			else = {
				every_country = {
					limit = { is_main_former_russian_empire_country = yes }
					declare_war_on = { target = ROOT type = annex_everything }
				}
				clr_global_flag = dont_fire_Rus_CW_end
			}
		}
	}
}
# Revolt in Moscow
country_event = {
	id = rcw.1920
	title = rcw.1920.t
	desc = rcw.1920.desc
	picture = GFX_report_event_rcw_rva
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = rcw.1920.a
		clr_global_flag = dont_fire_Rus_CW_end
		hidden_effect = {
			every_country = {
				limit = { OR = { tag = REB tag = DON tag = KUB } }
				delete_unit_template_and_units = { division_template = "Dobrovol'cheskiy batal'yon" }
				delete_unit_template_and_units = { division_template = "Dobrovol'cheskiy pekhotnyy polk" }
				delete_unit_template_and_units = { division_template = "Dobrovol'cheskiy kavaleristskiy polk" }
				remove_ideas = DON_volunteer_recruitment_network_idea
				remove_ideas = DON_Volunteer_army_presence_idea
				remove_ideas = SIB_right_oficers
			}
		}
				REB = { every_unit_leader = { limit = { OR = { has_id = 76428 has_id = 76547 has_id = 76321 has_id = 77652 has_id = 77654 has_id = 77659 } } set_nationality = RVA } }
				DON = { every_unit_leader = { limit = { OR = { has_id = 76428 has_id = 76547 has_id = 76321 has_id = 77652 has_id = 77654 has_id = 77659 } } set_nationality = RVA } }
				KUB = { every_unit_leader = { limit = { OR = { has_id = 76428 has_id = 76547 has_id = 76321 has_id = 77652 has_id = 77654 has_id = 77659 } } set_nationality = RVA } }
				RVA = { transfer_state = 219 set_capital = 219 }
				
				every_state = {
					limit = {
						OR = {
							state = 219
						}
					}
					add_core_of = RVA
				}
				hidden_effect = {
					RVA = {
						every_country = {
							limit = { has_war_with = ROOT }
							RVA = {
								declare_war_on = {
									target = PREV
									type = annex_everything
								}
							}
						}
						add_equipment_to_stockpile = {
							type = infantry_equipment_great_war
							amount = 1000
							producer = RUS
						}
						add_equipment_to_stockpile = {
							type = support_equipment_1
							amount = 100
							producer = RUS
						}
						remove_all_foreing_locked_templates_from_liberated_country = yes
						division_template = {
							name = "Dobrovol'cheskiy pekhotnyy polk"
							regiments = {
								infantry = { x = 0 y = 0 }
							}
							support = {
								recon = { x = 0 y = 0 }
								engineer = { x = 0 y = 1 }
							}
							priority = 1
						}
						division_template = {
							name = "Dobrovol'cheskiy kavaleristskiy polk"		# Cavalry
							regiments = {
								cavalry = { x = 0 y = 0 }
							}
							support = {
								recon = { x = 0 y = 0 }
							}
							priority = 1
						}
					}
					219 = {
						create_unit = {
							division = "name = \"Georgievskiy polk\" division_template = \"Dobrovol'cheskiy pekhotnyy polk\" start_experience_factor = 1 start_equipment_factor = 1"
							owner = RVA
						}
						create_unit = {
							division = "name = \"Kornilovskiy polk\" division_template = \"Dobrovol'cheskiy pekhotnyy polk\" start_experience_factor = 1 start_equipment_factor = 1"
							owner = RVA
						}
						create_unit = {
							division = "name = \"Rostovskiy dobrovol'cheskiy polk\" division_template = \"Dobrovol'cheskiy pekhotnyy polk\" start_experience_factor = 1 start_equipment_factor = 1"
							owner = RVA
						}
						create_unit = {
							division = "name = \"Oficerskiy kavaleristskiy polk\" division_template = \"Dobrovol'cheskiy kavaleristskiy polk\" start_experience_factor = 1 start_equipment_factor = 1"
							owner = RVA
						}
						create_unit = {
							division = "name = \"Oficerskiy batal'yon\" division_template = \"Dobrovol'cheskiy pekhotnyy polk\" start_experience_factor = 1 start_equipment_factor = 1"
							owner = RVA
						}
						create_unit = {
							division = "name = \"Yunkerskiy batal'yon\" division_template = \"Dobrovol'cheskiy pekhotnyy polk\" start_experience_factor = 1 start_equipment_factor = 1"
							owner = RVA
						}
					}
				}
				RVA = {
					hidden_effect = {
						every_country = {
							limit = {
								NOT = {
									tag = PREV
									is_any_former_russian_empire_country = yes
									former_russian_empire_baltic_states_country = yes
									has_war_with = PREV
									is_in_faction_with = PREV
								}
							}
							set_THIS_country_non_recognize_PREV = yes
						}
					}
				}
	}
	option = {
		name = rcw.1920.b
		if = {
			limit = { is_faction_leader = yes }
			every_country = {
				limit = { is_in_faction_with = ROOT OR = { is_main_former_russian_empire_country = yes OVERLORD = { is_main_former_russian_empire_country = yes } } }
				leave_faction = yes
			}
		}
		else_if = {
			limit = { is_faction_leader = no any_other_country = { is_in_faction_with = ROOT is_main_former_russian_empire_country = yes } }
			leave_faction = yes
		}
		every_country = {
			limit = { is_main_former_russian_empire_country = yes is_subject = no OR = { is_in_faction = no is_faction_leader = yes } }
			declare_war_on = {
				target = ROOT
				type = annex_everything
			}
		}
		
		hidden_effect = {
			every_country = {
				limit = { OR = { tag = REB tag = DON tag = KUB } }
				delete_unit_template_and_units = { division_template = "Dobrovol'cheskiy batal'yon" }
				delete_unit_template_and_units = { division_template = "Dobrovol'cheskiy pekhotnyy polk" }
				delete_unit_template_and_units = { division_template = "Dobrovol'cheskiy kavaleristskiy polk" }
				remove_ideas = DON_volunteer_recruitment_network_idea
				remove_ideas = DON_Volunteer_army_presence_idea
				remove_ideas = SIB_right_oficers
			}
		}
				REB = { every_unit_leader = { limit = { OR = { has_id = 76428 has_id = 76547 has_id = 76321 has_id = 77652 has_id = 77654 has_id = 77659 } } set_nationality = RVA } }
				DON = { every_unit_leader = { limit = { OR = { has_id = 76428 has_id = 76547 has_id = 76321 has_id = 77652 has_id = 77654 has_id = 77659 } } set_nationality = RVA } }
				KUB = { every_unit_leader = { limit = { OR = { has_id = 76428 has_id = 76547 has_id = 76321 has_id = 77652 has_id = 77654 has_id = 77659 } } set_nationality = RVA } }
				RVA = { transfer_state = 219 set_capital = 219 }
				
				every_state = {
					limit = {
						OR = {
							state = 219
						}
					}
					add_core_of = RVA
				}
				hidden_effect = {
					RVA = {
						every_country = {
							limit = { has_war_with = ROOT }
							RVA = {
								declare_war_on = {
									target = PREV
									type = annex_everything
								}
							}
						}
						add_equipment_to_stockpile = {
							type = infantry_equipment_great_war
							amount = 1000
							producer = RUS
						}
						add_equipment_to_stockpile = {
							type = support_equipment_1
							amount = 100
							producer = RUS
						}
						remove_all_foreing_locked_templates_from_liberated_country = yes
						division_template = {
							name = "Dobrovol'cheskiy pekhotnyy polk"
							regiments = {
								infantry = { x = 0 y = 0 }
							}
							support = {
								recon = { x = 0 y = 0 }
								engineer = { x = 0 y = 1 }
							}
							priority = 1
						}
						division_template = {
							name = "Dobrovol'cheskiy kavaleristskiy polk"		# Cavalry
							regiments = {
								cavalry = { x = 0 y = 0 }
							}
							support = {
								recon = { x = 0 y = 0 }
							}
							priority = 1
						}
					}
					219 = {
						create_unit = {
							division = "name = \"Georgievskiy polk\" division_template = \"Dobrovol'cheskiy pekhotnyy polk\" start_experience_factor = 1 start_equipment_factor = 1"
							owner = RVA
						}
						create_unit = {
							division = "name = \"Kornilovskiy polk\" division_template = \"Dobrovol'cheskiy pekhotnyy polk\" start_experience_factor = 1 start_equipment_factor = 1"
							owner = RVA
						}
						create_unit = {
							division = "name = \"Rostovskiy dobrovol'cheskiy polk\" division_template = \"Dobrovol'cheskiy pekhotnyy polk\" start_experience_factor = 1 start_equipment_factor = 1"
							owner = RVA
						}
						create_unit = {
							division = "name = \"Oficerskiy kavaleristskiy polk\" division_template = \"Dobrovol'cheskiy kavaleristskiy polk\" start_experience_factor = 1 start_equipment_factor = 1"
							owner = RVA
						}
						create_unit = {
							division = "name = \"Oficerskiy batal'yon\" division_template = \"Dobrovol'cheskiy pekhotnyy polk\" start_experience_factor = 1 start_equipment_factor = 1"
							owner = RVA
						}
						create_unit = {
							division = "name = \"Yunkerskiy batal'yon\" division_template = \"Dobrovol'cheskiy pekhotnyy polk\" start_experience_factor = 1 start_equipment_factor = 1"
							owner = RVA
						}
					}
				}
				RVA = {
					hidden_effect = {
						every_country = {
							limit = {
								NOT = {
									tag = PREV
									is_any_former_russian_empire_country = yes
									former_russian_empire_baltic_states_country = yes
									has_war_with = PREV
									is_in_faction_with = PREV
								}
							}
							set_THIS_country_non_recognize_PREV = yes
						}
					}
				}
		declare_war_on = {
			target = RVA
			type = annex_everything
		}
	}
}

# Civil war over
country_event = {
	id = rcw.1922
	title = rcw.1922.t
	desc = {
		text = rcw.1922.desc
		trigger = {
			tag = RUS
		}
	}
	desc = {
		text = rcw.1922.desc_1
		trigger = {
			NOT = { tag = RGR }
			NOT = { tag = RUS }
			is_main_former_russian_empire_country = yes
		}
	}
	desc = {
		text = rcw.1922.desc_2
		trigger = {
			tag = RGR
		}
	}
	desc = {
		text = rcw.1922.desc_3
		trigger = {
			is_main_former_russian_empire_country = no
		}
	}
	
	picture = GFX_report_event_military_planning

	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		RUS = { NOT = { has_country_flag = RUS_dont_fire_CW_end } }
		NOT = { has_global_flag = RCW_Allrussian_national_assembly }
		NOT = { has_global_flag = dont_fire_Rus_CW_end }
		has_global_flag = RUS_civil_war_intervention_start
		219 = {
			OWNER = {
				tag = ROOT
				is_subject_of = ROOT
			}
		}
		is_subject = no
		
		is_main_former_russian_empire_country = yes
		
		NOT = {
			any_other_country = {
				is_main_former_russian_empire_country = yes
				exists = yes
				is_subject = no
				has_capitulated = no
				OR = {
					NOT = { has_global_flag = RUS_civil_war_reds_n_Siberia_peace }
					NOT = { tag = SIB }
				}
			}
		}
		has_war = no
		OR = {
			NOT = { tag = RUS }
			AND = {
				tag = RUS
				has_country_flag = RUS_Oktober_revolution_fired
				NOT = { has_country_flag = RUS_has_czechoslovak_legion }
				OR = {
					has_country_flag = legitimized_bolsheviks
					has_country_flag = RUS_karaul_ustal
				}
			}
		}
		
		NOT = { russian_country_can_call_national_assambly = yes }
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes

	option = {
		name = rcw.1922.a
		set_global_flag = RUS_civil_war_over
		every_country = { limit = { has_country_flag = Nikolay_Alexandrovich_Romanov_rescue } clr_country_flag = Nikolay_Alexandrovich_Romanov_rescue }
		hidden_effect = {
			every_state = {
				clear_variable = mob_red_guard_industrial_complex
				clear_variable = mob_red_guard_arms_factory
				clr_state_flag = mob_red_neirfront_militia_flag
			}
		}
		every_country = {
			limit = { is_main_former_russian_empire_country = yes is_subject_of = ROOT }
			ROOT = {
				annex_country = {
					target = PREV
					transfer_troops = yes
				}
			}
		}
		if = {
			limit = { tag = RGR }
			country_event = rcw.1923
		}
		if = {
			limit = {
				NOT = { tag = RGR }
				NOT = { has_government = radical_socialism }
				NOT = { has_government = communism }
			}
			remove_ideas = Entente_credit_for_Russia
			add_timed_idea = { idea = Entente_credit_for_Russia_pay days = var:global.Entente_support_count }
			every_country = {
				limit = {
					OR = {
						tag = ENG
						tag = FRA
						tag = USA
						tag = GER
						tag = AUH
						
						is_subject_of = ENG
						is_subject_of = FRA
						is_subject_of = USA
						is_subject_of = GER
						is_subject_of = AUH
					}
				}
				every_country = {
					limit = { OR = { tag = ROOT is_subject_of = ROOT is_in_faction_with = ROOT } }
					THIS_country_will_be_recognized_by_PREV = yes
				}
			}
		}
		clear_variable = global.Entente_support_count
	}
}

# Зелёные выиграли эту войну
country_event = {
	id = rcw.1923
	title = rcw.1923.t
	desc = rcw.1923.desc
	picture = GFX_report_event_sov_felix_VCHK
	
	is_triggered_only = yes
	
	hidden = yes
	
	option = {
		name = rcw.1923.a
		set_politics = {
			ruling_party = social_liberalism
			elections_allowed = no
		}
		
		set_popularities = {
			radical_socialism = 14
			communism = 14
			social_democracy = 5
			market_liberalism = 16
			social_liberalism = 35
			social_conservatism = 16
		}
		
		remove_ideas = RGR_supply_bonus
		
		every_country = {
			limit = { has_war_with = ROOT }
			white_peace = ROOT
		}
		every_country = {
			limit = { is_neighbor_of = ROOT }
			every_state = {
				limit = { is_owned_by = ROOT is_core_of = PREV }
				PREV = { transfer_state = PREV }
			}
		}
		
		if = {
			limit = {
				OR = {
					ROOT = { owns_state = 655 }
					PRM = { owns_state = 655 }
					BKL = { owns_state = 655 }
				}
				JAP = { owns_state = 537 }
			}
			JAP = { transfer_state = 655 }
		}
		
		if = {
			limit = { MRC = { exists = yes } }
			every_state = {
				limit = {
					OR = {
						state = 903
						state = 929
						state = 232
						state = 808
						state = 896
						state = 895
						state = 930
						state = 928
						state = 810
						state = 811
						state = 809
					}
				}
				add_core_of = MRC
				if = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
					}
					MRC = { transfer_state = PREV }
				}
			}
		}
		
		if = {
			limit = { GEO = { exists = no } }
			GEO = {
				set_politics = {
					ruling_party = social_democracy
				}
				set_popularities = {
					radical_socialism = 0
					communism = 15
					authoritarism = 0
					social_democracy = 85
					social_liberalism = 0
					market_liberalism = 0
					social_conservatism = 0
					despotism = 0
					fascism = 0
					national_syndicalism = 0
				}
			}
			release = GEO
			else = {
				GEO = {
					if = { limit = { ROOT = { owns_state = 902 } } transfer_state = 902 }
				}
			}
		}
		
		if = {
			limit = { ARM = { exists = no } }
			ARM = {
				set_politics = {
					ruling_party = social_democracy
				}
				set_popularities = {
					radical_socialism = 0
					communism = 14
					authoritarism = 0
					social_democracy = 39
					social_liberalism = 13
					market_liberalism = 13
					social_conservatism = 21
					despotism = 0
					fascism = 0
					national_syndicalism = 0
				}
			}
			release = ARM
		}
		
		if = {
			limit = { AZR = { exists = no } }
			AZR = {
				set_politics = {
					ruling_party = market_liberalism
				}
				set_popularities = {
					radical_socialism = 0
					communism = 0
					authoritarism = 0
					social_democracy = 30
					social_liberalism = 10
					market_liberalism = 35
					social_conservatism = 10
					despotism = 15
					fascism = 0
					national_syndicalism = 0
				}
			}
			release = AZR
		}
		
		if = {
			limit = { UKR = { exists = no } USR = { exists = no } }
			UKR = {
				set_politics = {
					ruling_party = radical_socialism
				}
				set_popularities = {
					radical_socialism = 34
					communism = 44
					social_liberalism = 15
					market_liberalism = 7
				}
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = ROOT
						OWNER = { is_subject_of = ROOT }
					}
					OR = {
						is_core_of = UKR
						is_claimed_by = UKR
					}
				}
				UKR = { transfer_state = PREV }
			}
			every_unit_leader = { limit = { OR = { has_id = 19316 } } set_nationality = UKR }
			every_unit_leader = { limit = { OR = { has_id = 19317 } } set_nationality = UKR }
		}
		
		if = {
			limit = { EST = { exists = no } }
			EST = {
				every_state = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
						is_core_of = EST
					}
					EST = { transfer_state = PREV }
				}
				set_politics = {
					ruling_party = despotism
				}
				set_popularities = {
					radical_socialism = 10
					communism = 25
					social_democracy = 10
					social_liberalism = 10
					market_liberalism = 10
					social_conservatism = 10
					authoritarism = 0
					despotism = 25
					fascism = 0
					national_syndicalism =  0
				}
			}
		}
		
		if = {
			limit = { LAT = { exists = no } }
			LAT = {
				every_state = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
						is_core_of = LAT
					}
					LAT = { transfer_state = PREV }
				}
				set_politics = {
					ruling_party = despotism
				}
				set_popularities = {
					radical_socialism = 0
					communism = 55
					social_democracy = 5
					social_liberalism = 0
					market_liberalism = 0
					social_conservatism = 10
					authoritarism = 5
					despotism = 25
					fascism = 0
					national_syndicalism =  0
				}
			}
		}
		
		if = {
			limit = { LIT = { exists = no } }
			LIT = {
				every_state = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
						is_core_of = LIT
					}
					LIT = { transfer_state = PREV }
				}
				set_politics = {
					ruling_party = despotism
				}
				set_popularities = {
					social_conservatism = 30
					fascism = 15
					communism = 15
					despotism = 40
				}
			}
		}
		
		if = {
			limit = { POL = { exists = no } }
			POL = {
				every_state = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
						is_core_of = POL
					}
					POL = { transfer_state = PREV }
				}
				set_politics = {
					ruling_party = despotism
				}
				set_popularities = {
					social_conservatism = 13
					radical_socialism = 5
					communism = 7
					authoritarism = 20
					despotism = 55
				}
			}
		}
		
		if = {
			limit = { TAN = { exists = no } }
			TAN = {
				if = { limit = { ROOT = { owns_state = 329 } } transfer_state = 329 }
				set_politics = {
					ruling_party = communism
				}
				set_popularities = {
					radical_socialism = 40
					social_conservatism = 0
					fascism = 0
					communism = 40
					authoritarism = 20
				}
			}
		}
		
		if = {
			limit = { NRR = { exists = yes has_capitulated = no } }
			NRR = {
				every_state = {
					limit = {
						OR = {
							is_owned_by = ROOT
							is_controlled_by = ROOT
						}
						OR = {
							state = 213
							state = 214
							state = 215
							state = 216
							state = 262
							state = 722
							state = 913
							state = 964
							state = 1076
							state = 1078
							state = 1079
							state = 1081
							state = 1082
							state = 1083
							state = 1084
							state = 1085
							state = 1086
							state = 1087
							state = 1088
							state = 1089
							state = 1092
							state = 1094
							state = 1096
							state = 1097
						}
					}
					NRR = { transfer_state = PREV }
				}
				set_politics = {
					ruling_party = despotism
				}
				set_popularities = {
					radical_socialism = 0
					communism = 0
					social_democracy = 0
					social_liberalism = 0
					market_liberalism = 0
					social_conservatism = 0
					authoritarism = 0
					despotism = 100
					fascism = 0
					national_syndicalism = 0
				}
			}
			else = {
				NRR = {
				every_state = {
						limit = {
							is_core_of = NRR
						}
						remove_core_of = NRR
					}
				}
			}
		}
		
		every_state = {
			limit = { is_core_of = NWA }
			remove_core_of = NWA
		}
		
		if = { limit = { ROOT = { owns_state = 881 } } KHI = { transfer_state = 881 } }
		if = { limit = { ROOT = { owns_state = 880 } } KHI = { transfer_state = 880 } }
		
		if = { limit = { NOT = { has_global_flag = WWI_ENG_HAS_CAPITULATED } } ENG = { KHI = { subjecting_script_with_transfer_parties_colony = yes } } }
		if = { limit = { NOT = { has_global_flag = WWI_ENG_HAS_CAPITULATED } } ENG = { BUK = { subjecting_script_with_transfer_parties_colony = yes } } }
		if = { limit = { NOT = { has_global_flag = WWI_ENG_HAS_CAPITULATED } } ENG = { CPG = { subjecting_script_with_transfer_parties_colony = yes } } }
		
		CPG = {
				if = {
					limit = { CPG  = { exists = yes } }
					every_state = {
						limit = {
							is_core_of = CPG
						}
						CPG = { transfer_state = PREV }
					}
				}
				set_politics = {
					ruling_party = despotism
				}
				set_popularities = {
					social_liberalism = 35
					market_liberalism = 20
					social_conservatism = 10
					despotism = 15
					communism = 20
				}
				set_cosmetic_tag = CPG_UK
		}
		
		if = {
			limit = { NOT = { check_variable = { centralisation > 9 } } }
			if = {
				limit = { PRM = { exists = yes } }
				every_state = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
						is_core_of = PRM
					}
					PRM = { transfer_state = PREV }
				}
			}
			else_if = {
				limit = { PRM = { exists = no } any_state = { is_core_of = PRM } }
				PRM = {
					every_state = {
						limit = {
							OR = {
								is_owned_by = ROOT
								OWNER = { is_subject_of = ROOT }
							}
							is_core_of = PRM
						}
						PRM = { transfer_state = PREV }
					}
					set_politics = {
						ruling_party = radical_socialism
					}
					set_popularities = {
						national_syndicalism = 1
						despotism = 10
						fascism = 5
						radical_socialism = 6
						authoritarism = 10
						social_democracy = 10
						social_liberalism = 23
						market_liberalism = 10
						social_conservatism = 15
						communism = 10
					}
				}
			}
			else_if = {
				limit = { PRM = { exists = no } NOT = { any_state = { is_core_of = PRM } } }
				every_state = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
						is_core_of = ZKL
					}
					ZKL = { transfer_state = PREV inherit_technology = ROOT }
				}
			}
			
			if = {
				limit = { TRK = { exists = no } }
				TRK = {
					set_politics = {
						ruling_party = social_conservatism
					}
					set_popularities = {
						radical_socialism = 5
						communism = 20
						social_democracy = 5
						social_liberalism = 10
						market_liberalism = 0
						social_conservatism = 30
						authoritarism = 0
						despotism = 10
						fascism = 15
						national_syndicalism = 5
					}
				}
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = ROOT
						OWNER = { is_subject_of = ROOT }
					}
					OR = {
						state = 586
						state = 405
						state = 732
						state = 883
						state = 742
						state = 884
					}
				}
				TRK = { transfer_state = PREV }
			}
			if = {
				limit = { NOT = { has_global_flag = WWI_ENG_HAS_CAPITULATED } }
				ENG = { TRK = { subjecting_script_with_transfer_parties_colony = yes } }
				TRK = {
					set_politics = {
						ruling_party = social_conservatism
					}
					set_popularities = {
						radical_socialism = 5
						communism = 20
						social_democracy = 5
						social_liberalism = 10
						market_liberalism = 0
						social_conservatism = 30
						authoritarism = 0
						despotism = 10
						fascism = 15
						national_syndicalism = 5
					}
				}
			}
		}
		if = {
			limit = { NOT = { check_variable = { centralisation > 8 } } }
			
			if = {
				limit = { BKL = { exists = yes } }
				BKL = {
					every_state = {
						limit = {
							OR = {
								is_owned_by = ROOT
								OWNER = { is_subject_of = ROOT }
							}
							is_core_of = BKL
						}
						BKL = { transfer_state = PREV }
					}
				}
				else = {
					BKL = {
						set_politics = {
							ruling_party = authoritarism
						}
						set_popularities = {
							national_syndicalism = 1
							despotism = 10
							fascism = 5
							radical_socialism = 6
							authoritarism = 10
							social_democracy = 10
							social_liberalism = 23
							market_liberalism = 10
							social_conservatism = 15
							communism = 10
						}
						every_state = {
							limit = {
								is_core_of = BKL
							}
							remove_core_of = BKL
						}
					}
				}
			}
			
			every_state = {
				limit = {
					OR = {
						state = 218
						state = 995
						state = 228
						state = 238
						state = 996
						state = 245
						state = 265
						state = 815
						state = 953
						state = 954
						state = 235
						state = 234
						state = 907
						state = 233
						state = 902
						state = 1044
						state = 1045
						state = 1173
					}
				}
				add_core_of = DON
			}
			260 = { add_claim_by = DON }
			if = {
				limit = { DON = { exists = no } }
				DON = {
					set_politics = {
						ruling_party = communism
					}
					set_popularities = {
						radical_socialism = 34
						communism = 44
						social_liberalism = 15
						market_liberalism = 7
					}
				}
			}
			every_state = {
				limit = {
					OR = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
						OWNER = { is_subject_of = ROOT }
					}
					OR = {
						is_core_of = DON
						state = 227
						state = 809
						state = 810
						state = 811
						state = 928
						state = 930
						state = 895
						state = 903
						state = 808
						state = 896
						state = 232
						state = 929
					}
				}
				DON = { transfer_state = PREV }
			}
			DON = {
				if = {
					limit = { has_government = communism }
					load_oob = DON_red_cossack
				}
			}
			
			every_state = {
				limit = {
					OR = {
						state = 574
						state = 562
						state = 637
						state = 644
						state = 807
						state = 561
						state = 1039
						state = 1040
					}
				}
				add_core_of = YAK
				if = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
					}
					YAK = { transfer_state = PREV }
				}
			}
			YAK = { inherit_technology = ROOT }
			every_unit_leader = { limit = { OR = { has_id = 92347 } } set_nationality = YAK }
			
			every_state = {
				limit = {
					OR = {
						state = 568
						state = 567
						state = 566
						state = 565
						state = 575
						state = 576
						state = 516
						state = 563
						state = 564
						state = 1041
					}
				}
				add_core_of = ESB
				if = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
					}
					ESB = { transfer_state = PREV }
				}
			}
			ESB = { inherit_technology = ROOT }
			every_unit_leader = { limit = { OR = { has_id = 19315 } } set_nationality = ESB }
		}
		if = {
			limit = { NOT = { check_variable = { centralisation > 5 } } }
			
			if = {
				limit = { BLR = { exists = no } }
				BLR = {
					every_state = {
						limit = {
							OR = {
								is_owned_by = ROOT
								OWNER = { is_subject_of = ROOT }
							}
							is_core_of = BLR
						}
						BLR = { transfer_state = PREV }
					}
					set_politics = {
						ruling_party = social_democracy
					}
					set_popularities = {
						radical_socialism = 0
						communism = 25
						social_democracy = 25
						social_liberalism = 20
						market_liberalism = 0
						social_conservatism = 0
						authoritarism = 20
						despotism = 10
						fascism = 0
						national_syndicalism = 0
					}
				}
			}
			
			every_state = {
				limit = {
					OR = {
						state = 570
						state = 40
						state = 654
						state = 569
						state = 578
						state = 577
						state = 1043
					}
				}
				add_core_of = TAI
				if = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
					}
					TAI = { transfer_state = PREV }
				}
			}
			TAI = { inherit_technology = ROOT }
			every_unit_leader = { limit = { OR = { has_id = 19312 } } set_nationality = TAI }
			
			every_state = {
				limit = {
					OR = {
						state = 239
						state = 250
						state = 251
						state = 1070
						state = 1071
						state = 1072
						state = 401
						state = 217
						state = 813
						state = 815
						state = 237
						state = 236
						state = 407
						state = 406
						state = 402
						state = 587
						state = 652
						state = 651
						state = 1072
						state = 1069
						state = 1068
					}
				}
				add_core_of = VLG
				if = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
					}
					VLG = { transfer_state = PREV }
				}
			}
			VLG = { inherit_technology = ROOT }
			every_unit_leader = { limit = { OR = { has_id = 19318 } } set_nationality = VLG }
		}
		if = {
			limit = { NOT = { check_variable = { centralisation > 4 } } }
			
			KAZ = { drop_cosmetic_tag = yes }
			if = {
				limit = { KAZ = { exists = no } }
				KAZ = {
					set_politics = {
						ruling_party = market_liberalism
					}
					set_popularities = {
						radical_socialism = 0
						communism = 0
						social_democracy = 30
						social_liberalism = 10
						market_liberalism = 35
						social_conservatism = 10
						authoritarism = 0
						despotism = 15
						fascism =  0
						national_syndicalism = 0
					}
				}
				every_state = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
						OR = {
							state = 885
							state = 589
							state = 404
							state = 908
							state = 909
							state = 588
							state = 590
							state = 583
						}
					}
					KAZ = { transfer_state = PREV }
				}
			}
			
			every_state = {
				limit = {
					OR = {
						state = 573
						state = 582
						state = 572
						state = 1103
						state = 1067
						state = 653
						state = 403
						state = 581
						state = 911
						state = 1025
						state = 580
						state = 579
						state = 571
					}
				}
				add_core_of = WSB
				if = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
					}
					WSB = { transfer_state = PREV }
				}
			}
			WSB = { inherit_technology = ROOT }
		}
		if = {
			limit = { NOT = { check_variable = { centralisation > 2 } } }
			
			if = {
				limit = { TAR = { exists = no } }
				TAR = {
					set_politics = {
						ruling_party = market_liberalism
					}
					set_popularities = {
						fascism = 0
						authoritarism = 0
						social_conservatism = 22
						radical_socialism = 17
						social_democracy = 12
						social_liberalism = 14
						market_liberalism = 25
						communism = 10
						national_syndicalism = 0
					}
				}
			}
			every_state = {
				limit = {
					OR = {
						state = 249
						state = 651
						state = 1072
					}
				}
				add_core_of = TAR
				if = {
					limit = {
						OR = {
							is_owned_by = ROOT
							is_owned_by = VLG
							OWNER = { is_subject_of = ROOT }
						}
					}
					TAR = { transfer_state = PREV }
				}
			}
			TAR = { inherit_technology = ROOT }
			
			every_state = {
				limit = {
					OR = {
						state = 260
						state = 240
						state = 220
						state = 224
						state = 222
						state = 258
						state = 257
						state = 960
						state = 961
						state = 923
					}
				}
				add_core_of = VRZ
				if = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
					}
					VRZ = { transfer_state = PREV }
				}
			}
			VRZ = { inherit_technology = ROOT }
			every_unit_leader = { limit = { OR = { has_id = 19311 } } set_nationality = VRZ }
		}
		
		if = {
			limit = { CRI = { exists = no } NOT = { owns_state = 907 owns_state = 919 } }
			every_state = {
				limit = {
					OR = {
						state = 137
						state = 1073
						state = 1074
					}
				}
				add_core_of = CRI
				if = {
					limit = {
						OR = {
							is_owned_by = ROOT
							OWNER = { is_subject_of = ROOT }
						}
					}
					CRI = { transfer_state = PREV }
				}
			}
			CRI = {
				set_politics = {
					ruling_party = social_conservatism
				}
				set_popularities = {
					social_conservatism = 60
					authoritarism = 20
					communism = 15
					fascism = 5
				}
			}
		}
		
		RSS = {
			every_state = {
					limit = {
						is_core_of = RSS
					}
				remove_core_of = RSS
			}
		}
		
		CCA = {
			every_state = {
					limit = {
						is_core_of = CCA
					}
				remove_core_of = CCA
			}
		}
		
		SIB = {
			every_state = {
				limit = {
					is_core_of = SIB
				}
				remove_core_of = SIB
			}
		}
		
		RVA = {
			every_state = {
					limit = {
						is_core_of = RVA
					}
				remove_core_of = RVA
			}
		}
		
		ROOT = {
			every_state = {
					limit = {
						is_owned_by = ROOT
					}
				add_core_of = ROOT
			}
		}
	}
}

# Notification event that leader has been killed
unit_leader_event = {
	id = rcw.2001
	title = rcw.2001.t
	desc = rcw.2001.desc
	
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {
		name = unfortunate
		effect_tooltip = {
			FROM = {
				retire = yes
			}
		}
	}
}

# Notification event that leader has been killed by god
unit_leader_event = {
	id = rcw.2002
	title = rcw.2002.t
	desc = rcw.2002.desc
	
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {
		name = unfortunate
		effect_tooltip = {
			FROM = {
				retire = yes
			}
		}
	}
}